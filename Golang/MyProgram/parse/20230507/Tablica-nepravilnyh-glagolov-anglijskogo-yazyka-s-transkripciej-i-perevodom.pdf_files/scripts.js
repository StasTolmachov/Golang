!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,(function(){"use strict";function e(e){return e&&"[object Function]"==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function n(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function r(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var o=t(e),i=o.overflow,f=o.overflowX,s=o.overflowY;return/(auto|scroll)/.test(i+s+f)?e:r(n(e))}function o(e){var n=e&&e.offsetParent,r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===t(n,"position")?o(n):n:window.document.documentElement}function i(e){return null===e.parentNode?e:i(e.parentNode)}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,s=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(s,0);var p=a.commonAncestorContainer;if(e!==p&&t!==p||r.contains(s))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||o(e.firstElementChild)===e)}(p)?p:o(p);var l=i(e);return l.host?f(l.host,t):f(e,i(t).host)}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=window.document.documentElement,i=window.document.scrollingElement||o;return i[n]}return e[n]}function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=s(t,"top"),o=s(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function p(e,t){var n="x"===t?"Left":"Top",r="Left"==n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+r+"Width"].split("px")[0]}function l(e,t,n,r){return U(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],X()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function u(){var e=window.document.body,t=window.document.documentElement,n=X()&&window.getComputedStyle(t);return{height:l("Height",e,t,n),width:l("Width",e,t,n)}}function d(e){return Z({},e,{right:e.left+e.width,bottom:e.top+e.height})}function c(e){var n={};if(X())try{n=e.getBoundingClientRect();var r=s(e,"top"),o=s(e,"left");n.top+=r,n.left+=o,n.bottom+=r,n.right+=o}catch(e){}else n=e.getBoundingClientRect();var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},f="HTML"===e.nodeName?u():{},a=f.width||e.clientWidth||i.right-i.left,l=f.height||e.clientHeight||i.bottom-i.top,c=e.offsetWidth-a,h=e.offsetHeight-l;if(c||h){var m=t(e);c-=p(m,"x"),h-=p(m,"y"),i.width-=c,i.height-=h}return d(i)}function h(e,n){var o=X(),i="HTML"===n.nodeName,f=c(e),s=c(n),p=r(e),l=t(n),u=+l.borderTopWidth.split("px")[0],h=+l.borderLeftWidth.split("px")[0],m=d({top:f.top-s.top-u,left:f.left-s.left-h,width:f.width,height:f.height});if(m.marginTop=0,m.marginLeft=0,!o&&i){var g=+l.marginTop.split("px")[0],v=+l.marginLeft.split("px")[0];m.top-=u-g,m.bottom-=u-g,m.left-=h-v,m.right-=h-v,m.marginTop=g,m.marginLeft=v}return(o?n.contains(p):n===p&&"BODY"!==p.nodeName)&&(m=a(m,n)),m}function m(e){var t=window.document.documentElement,n=h(e,t),r=U(t.clientWidth,window.innerWidth||0),o=U(t.clientHeight,window.innerHeight||0),i=s(t),f=s(t,"left");return d({top:i-n.top+n.marginTop,left:f-n.left+n.marginLeft,width:r,height:o})}function g(e){var r=e.nodeName;return"BODY"!==r&&"HTML"!==r&&("fixed"===t(e,"position")||g(n(e)))}function v(e,t,o,i){var s={top:0,left:0},a=f(e,t);if("viewport"===i)s=m(a);else{var p;"scrollParent"===i?"BODY"===(p=r(n(e))).nodeName&&(p=window.document.documentElement):p="window"===i?window.document.documentElement:i;var l=h(p,a);if("HTML"!==p.nodeName||g(a))s=l;else{var d=u(),c=d.height,v=d.width;s.top+=l.top-l.marginTop,s.bottom=c+l.top,s.left+=l.left-l.marginLeft,s.right=v+l.left}}return s.left+=o,s.top+=o,s.right-=o,s.bottom-=o,s}function b(e){return e.width*e.height}function w(e,t,n,r,o){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var f=v(n,r,i,o),s={top:{width:f.width,height:t.top-f.top},right:{width:f.right-t.right,height:f.height},bottom:{width:f.width,height:f.bottom-t.bottom},left:{width:t.left-f.left,height:f.height}},a=Object.keys(s).map((function(e){return Z({key:e},s[e],{area:b(s[e])})})).sort((function(e,t){return t.area-e.area})),p=a.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=0<p.length?p[0].key:a[0].key,u=e.split("-")[1];return l+(u?"-"+u:"")}function y(e,t,n){return h(n,f(t,n))}function O(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function E(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function x(e,t,n){n=n.split("-")[0];var r=O(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),f=i?"top":"left",s=i?"left":"top",a=i?"height":"width",p=i?"width":"height";return o[f]=t[f]+t[a]/2-r[a]/2,o[s]=n===s?t[s]-r[p]:t[E(s)],o}function L(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function T(t,n,r){return(void 0===r?t:t.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=L(e,(function(e){return e[t]===n}));return e.indexOf(r)}(t,"name",r))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&e(r)&&(n.offsets.popper=d(n.offsets.popper),n.offsets.reference=d(n.offsets.reference),n=r(n,t))})),n}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=y(this.state,this.popper,this.reference),e.placement=w(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=x(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=T(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function k(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function A(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==window.document.body.style[i])return i}return null}function B(){return this.state.isDestroyed=!0,k(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[A("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function C(e,t,n,o){n.updateBound=o,window.addEventListener("resize",n.updateBound,{passive:!0});var i=r(e);return function e(t,n,o,i){var f="BODY"===t.nodeName,s=f?window:t;s.addEventListener(n,o,{passive:!0}),f||e(r(s.parentNode),n,o,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function D(){this.state.eventsEnabled||(this.state=C(this.reference,this.options,this.state,this.scheduleUpdate))}function H(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return window.removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function M(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function S(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&M(t[n])&&(r="px"),e.style[n]=t[n]+r}))}function W(e,t,n){var r=L(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`";console.warn("`"+n+"` modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function P(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}function j(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),f=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=f.indexOf(L(f,(function(e){return-1!==e.search(/,|\s/)})));f[s]&&-1===f[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,p=-1===s?[f]:[f.slice(0,s).concat([f[s].split(a)[0]]),[f[s].split(a)[1]].concat(f.slice(s+1))];return(p=p.map((function(e,r){var o=(1===r?!i:i)?"height":"width",f=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,f=!0,e):f?(e[e.length-1]+=t,f=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],f=o[2];if(!i)return e;if(0===f.indexOf("%")){var s;switch(f){case"%p":s=n;break;case"%":case"%r":default:s=r}return d(s)[t]/100*i}return"vh"===f||"vw"===f?("vh"===f?U(document.documentElement.clientHeight,window.innerHeight||0):U(document.documentElement.clientWidth,window.innerWidth||0))/100*i:i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){M(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}for(var F=Math.min,R=Math.floor,U=Math.max,Y=["native code","[object MutationObserverConstructor]"],I="undefined"!=typeof window,q=["Edge","Trident","Firefox"],z=0,G=0;G<q.length;G+=1)if(I&&0<=navigator.userAgent.indexOf(q[G])){z=1;break}var V,_=I&&function(e){return Y.some((function(t){return-1<(e||"").toString().indexOf(t)}))}(window.MutationObserver)?function(e){var t=!1,n=0,r=document.createElement("span");return new MutationObserver((function(){e(),t=!1})).observe(r,{attributes:!0}),function(){t||(t=!0,r.setAttribute("x-index",n),++n)}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),z))}},X=function(){return null==V&&(V=-1!==navigator.appVersion.indexOf("MSIE 10")),V},J=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},K=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Z=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},$=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=$.slice(3),te="flip",ne="clockwise",re="counterclockwise",oe=function(){function t(n,r){var o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};J(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=_(this.update.bind(this)),this.options=Z({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n.jquery?n[0]:n,this.popper=r.jquery?r[0]:r,this.options.modifiers={},Object.keys(Z({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){o.options.modifiers[e]=Z({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Z({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(t){t.enabled&&e(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)})),this.update();var f=this.options.eventsEnabled;f&&this.enableEventListeners(),this.state.eventsEnabled=f}return K(t,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return D.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),t}();return oe.Utils=("undefined"==typeof window?global:window).PopperUtils,oe.placements=$,oe.Defaults={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,f=o.popper,s=-1!==["bottom","top"].indexOf(n),a=s?"left":"top",p=s?"width":"height",l={start:Q({},a,i[a]),end:Q({},a,i[a]+i[p]-f[p])};e.offsets.popper=Z({},f,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,o=e.placement,i=e.offsets,f=i.popper,s=i.reference,a=o.split("-")[0];return n=M(+r)?[+r,0]:j(r,f,s,a),"left"===a?(f.top+=n[0],f.left-=n[1]):"right"===a?(f.top+=n[0],f.left+=n[1]):"top"===a?(f.left+=n[0],f.top-=n[1]):"bottom"===a&&(f.left+=n[0],f.top+=n[1]),e.popper=f,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||o(e.instance.popper);e.instance.reference===n&&(n=o(n));var r=v(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,f=e.offsets.popper,s={primary:function(e){var n=f[e];return f[e]<r[e]&&!t.escapeWithReference&&(n=U(f[e],r[e])),Q({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=f[n];return f[e]>r[e]&&!t.escapeWithReference&&(o=F(f[n],r[e]-("right"===e?f.width:f.height))),Q({},n,o)}};return i.forEach((function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";f=Z({},f,s[t](e))})),e.offsets.popper=f,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=R,f=-1!==["top","bottom"].indexOf(o),s=f?"right":"bottom",a=f?"left":"top",p=f?"width":"height";return n[s]<i(r[a])&&(e.offsets.popper[a]=i(r[a])-n[p]),n[a]>i(r[s])&&(e.offsets.popper[a]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,n){if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,f=i.popper,s=i.reference,a=-1!==["left","right"].indexOf(o),p=a?"height":"width",l=a?"Top":"Left",u=l.toLowerCase(),c=a?"left":"top",h=a?"bottom":"right",m=O(r)[p];s[h]-m<f[u]&&(e.offsets.popper[u]-=f[u]-(s[h]-m)),s[u]+m>f[h]&&(e.offsets.popper[u]+=s[u]+m-f[h]);var g=s[u]+s[p]/2-m/2,v=t(e.instance.popper,"margin"+l).replace("px",""),b=g-d(e.offsets.popper)[u]-v;return b=U(F(f[p]-m,b),0),e.arrowElement=r,e.offsets.arrow={},e.offsets.arrow[u]=Math.round(b),e.offsets.arrow[c]="",e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(k(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],o=E(r),i=e.placement.split("-")[1]||"",f=[];switch(t.behavior){case te:f=[r,o];break;case ne:f=P(r);break;case re:f=P(r,!0);break;default:f=t.behavior}return f.forEach((function(s,a){if(r!==s||f.length===a+1)return e;r=e.placement.split("-")[0],o=E(r);var p=e.offsets.popper,l=e.offsets.reference,u=R,d="left"===r&&u(p.right)>u(l.left)||"right"===r&&u(p.left)<u(l.right)||"top"===r&&u(p.bottom)>u(l.top)||"bottom"===r&&u(p.top)<u(l.bottom),c=u(p.left)<u(n.left),h=u(p.right)>u(n.right),m=u(p.top)<u(n.top),g=u(p.bottom)>u(n.bottom),v="left"===r&&c||"right"===r&&h||"top"===r&&m||"bottom"===r&&g,b=-1!==["top","bottom"].indexOf(r),w=!!t.flipVariations&&(b&&"start"===i&&c||b&&"end"===i&&h||!b&&"start"===i&&m||!b&&"end"===i&&g);(d||v||w)&&(e.flipped=!0,(d||v)&&(r=f[a+1]),w&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Z({},e.offsets.popper,x(e.instance.popper,e.offsets.reference,e.placement)),e=T(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,f=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[f?"left":"top"]=i[n]-(s?o[f?"width":"height"]:0),e.placement=E(t),e.offsets.popper=d(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=L(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,f=L(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==f&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,p=void 0===f?t.gpuAcceleration:f,l=c(o(e.instance.popper)),u={position:i.position},d={left:R(i.left),top:R(i.top),bottom:R(i.bottom),right:R(i.right)},h="bottom"===n?"top":"bottom",m="right"===r?"left":"right",g=A("transform");if(a="bottom"==h?-l.height+d.bottom:d.top,s="right"==m?-l.width+d.right:d.left,p&&g)u[g]="translate3d("+s+"px, "+a+"px, 0)",u[h]=0,u[m]=0,u.willChange="transform";else{var v="bottom"==h?-1:1,b="right"==m?-1:1;u[h]=a*v,u[m]=s*b,u.willChange=h+", "+m}var w={"x-placement":e.placement};return e.attributes=Z({},w,e.attributes),e.styles=Z({},u,e.styles),e.arrowStyles=Z({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return S(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach((function(n){!1===t[n]?e.removeAttribute(n):e.setAttribute(n,t[n])}))}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&S(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=y(0,t,e),f=w(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",f),S(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},oe}));
/*!
  * Bootstrap v4.0.0-beta.2 (https://getbootstrap.com)
  * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
var bootstrap=function(t,e,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var i=function(){var t=!1,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function i(t){var n=this,i=!1;return e(this).one(s.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||s.triggerTransitionEnd(n)}),t),this}var s={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||"");try{return e(document).find(n).length>0?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){e(n).trigger(t.end)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],a=o&&s.isElement(o)?"element":(l=o,{}.toString.call(l).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}var l}};return t=function(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),e.fn.emulateTransitionEnd=i,s.supportsTransitionEnd()&&(e.event.special[s.TRANSITION_END]={bindType:t.end,delegateType:t.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),s}();function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t};var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},a=function(){var t="alert",n=e.fn[t],s={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},o="alert",a="fade",l="show",h=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=i.getSelectorFromElement(t),s=!1;return n&&(s=e(n)[0]),s||(s=e(t).closest("."+o)[0]),s},n._triggerCloseEvent=function(t){var n=e.Event(s.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;e(t).removeClass(l),i.supportsTransitionEnd()&&e(t).hasClass(a)?e(t).one(i.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(150):this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(s.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),s=i.data("bs.alert");s||(s=new t(this),i.data("bs.alert",s)),"close"===n&&s[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),t}();return e(document).on(s.CLICK_DATA_API,'[data-dismiss="alert"]',h._handleDismiss(new h)),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=n,h._jQueryInterface},h}(),l=function(){var t="button",n=e.fn[t],i="active",s="btn",o="focus",a='[data-toggle^="button"]',l='[data-toggle="buttons"]',h="input",c=".active",u=".btn",d={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},f=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,s=e(this._element).closest(l)[0];if(s){var r=e(this._element).find(h)[0];if(r){if("radio"===r.type)if(r.checked&&e(this._element).hasClass(i))t=!1;else{var o=e(s).find(c)[0];o&&e(o).removeClass(i)}if(t){if(r.hasAttribute("disabled")||s.hasAttribute("disabled")||r.classList.contains("disabled")||s.classList.contains("disabled"))return;r.checked=!e(this._element).hasClass(i),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!e(this._element).hasClass(i)),t&&e(this._element).toggleClass(i)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},r(t,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),t}();return e(document).on(d.CLICK_DATA_API,a,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(s)||(n=e(n).closest(u)),f._jQueryInterface.call(e(n),"toggle")})).on(d.FOCUS_BLUR_DATA_API,a,(function(t){var n=e(t.target).closest(u)[0];e(n).toggleClass(o,/^focus(in)?$/.test(t.type))})),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=n,f._jQueryInterface},f}(),h=function(){var t="carousel",n="bs.carousel",s="."+n,o=e.fn[t],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h="next",c="prev",u="left",d="right",f={SLIDE:"slide"+s,SLID:"slid"+s,KEYDOWN:"keydown"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s,TOUCHEND:"touchend"+s,LOAD_DATA_API:"load"+s+".data-api",CLICK_DATA_API:"click"+s+".data-api"},g="carousel",_="active",m="slide",p="carousel-item-right",v="carousel-item-left",E="carousel-item-next",b="carousel-item-prev",C=".active",y=".active.carousel-item",T=".carousel-item",I=".carousel-item-next, .carousel-item-prev",w=".carousel-indicators",D="[data-slide], [data-slide-to]",A='[data-ride="carousel"]',S=function(){function o(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(w)[0],this._addEventListeners()}var D=o.prototype;return D.next=function(){this._isSliding||this._slide(h)},D.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},D.prev=function(){this._isSliding||this._slide(c)},D.pause=function(t){t||(this._isPaused=!0),e(this._element).find(I)[0]&&i.supportsTransitionEnd()&&(i.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},D.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},D.to=function(t){var n=this;this._activeElement=e(this._element).find(y)[0];var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(f.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var s=t>i?h:c;this._slide(s,this._items[t])}},D.dispose=function(){e(this._element).off(s),e.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},D._getConfig=function(n){return n=e.extend({},a,n),i.typeCheckConfig(t,n,l),n},D._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(f.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(e(this._element).on(f.MOUSEENTER,(function(e){return t.pause(e)})).on(f.MOUSELEAVE,(function(e){return t.cycle(e)})),"ontouchstart"in document.documentElement&&e(this._element).on(f.TOUCHEND,(function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval)})))},D._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},D._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(T)),this._items.indexOf(t)},D._getItemByDirection=function(t,e){var n=t===h,i=t===c,s=this._getItemIndex(e),r=this._items.length-1;if((i&&0===s||n&&s===r)&&!this._config.wrap)return e;var o=(s+(t===c?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},D._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),s=this._getItemIndex(e(this._element).find(y)[0]),r=e.Event(f.SLIDE,{relatedTarget:t,direction:n,from:s,to:i});return e(this._element).trigger(r),r},D._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(C).removeClass(_);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(_)}},D._slide=function(t,n){var s,r,o,a=this,l=e(this._element).find(y)[0],c=this._getItemIndex(l),g=n||l&&this._getItemByDirection(t,l),C=this._getItemIndex(g),T=Boolean(this._interval);if(t===h?(s=v,r=E,o=u):(s=p,r=b,o=d),g&&e(g).hasClass(_))this._isSliding=!1;else if(!this._triggerSlideEvent(g,o).isDefaultPrevented()&&l&&g){this._isSliding=!0,T&&this.pause(),this._setActiveIndicatorElement(g);var I=e.Event(f.SLID,{relatedTarget:g,direction:o,from:c,to:C});i.supportsTransitionEnd()&&e(this._element).hasClass(m)?(e(g).addClass(r),i.reflow(g),e(l).addClass(s),e(g).addClass(s),e(l).one(i.TRANSITION_END,(function(){e(g).removeClass(s+" "+r).addClass(_),e(l).removeClass(_+" "+r+" "+s),a._isSliding=!1,setTimeout((function(){return e(a._element).trigger(I)}),0)})).emulateTransitionEnd(600)):(e(l).removeClass(_),e(g).addClass(_),this._isSliding=!1,e(this._element).trigger(I)),T&&this.cycle()}},o._jQueryInterface=function(t){return this.each((function(){var i=e(this).data(n),s=e.extend({},a,e(this).data());"object"==typeof t&&e.extend(s,t);var r="string"==typeof t?t:s.slide;if(i||(i=new o(this,s),e(this).data(n,i)),"number"==typeof t)i.to(t);else if("string"==typeof r){if(void 0===i[r])throw new Error('No method named "'+r+'"');i[r]()}else s.interval&&(i.pause(),i.cycle())}))},o._dataApiClickHandler=function(t){var s=i.getSelectorFromElement(this);if(s){var r=e(s)[0];if(r&&e(r).hasClass(g)){var a=e.extend({},e(r).data(),e(this).data()),l=this.getAttribute("data-slide-to");l&&(a.interval=!1),o._jQueryInterface.call(e(r),a),l&&e(r).data(n).to(l),t.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return a}}]),o}();return e(document).on(f.CLICK_DATA_API,D,S._dataApiClickHandler),e(window).on(f.LOAD_DATA_API,(function(){e(A).each((function(){var t=e(this);S._jQueryInterface.call(t,t.data())}))})),e.fn[t]=S._jQueryInterface,e.fn[t].Constructor=S,e.fn[t].noConflict=function(){return e.fn[t]=o,S._jQueryInterface},S}(),c=function(){var t="collapse",n="bs.collapse",s=e.fn[t],o={toggle:!0,parent:""},a={toggle:"boolean",parent:"(string|element)"},l={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},h="show",c="collapse",u="collapsing",d="collapsed",f="width",g="height",_=".show, .collapsing",m='[data-toggle="collapse"]',p=function(){function s(t,n){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var s=e(m),r=0;r<s.length;r++){var o=s[r],a=i.getSelectorFromElement(o);null!==a&&e(a).filter(t).length>0&&this._triggerArray.push(o)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var p=s.prototype;return p.toggle=function(){e(this._element).hasClass(h)?this.hide():this.show()},p.show=function(){var t,r,o=this;if(!this._isTransitioning&&!e(this._element).hasClass(h)&&(this._parent&&((t=e.makeArray(e(this._parent).children().children(_))).length||(t=null)),!(t&&(r=e(t).data(n))&&r._isTransitioning))){var a=e.Event(l.SHOW);if(e(this._element).trigger(a),!a.isDefaultPrevented()){t&&(s._jQueryInterface.call(e(t),"hide"),r||e(t).data(n,null));var f=this._getDimension();e(this._element).removeClass(c).addClass(u),this._element.style[f]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(d).attr("aria-expanded",!0),this.setTransitioning(!0);var g=function(){e(o._element).removeClass(u).addClass(c).addClass(h),o._element.style[f]="",o.setTransitioning(!1),e(o._element).trigger(l.SHOWN)};if(i.supportsTransitionEnd()){var m="scroll"+(f[0].toUpperCase()+f.slice(1));e(this._element).one(i.TRANSITION_END,g).emulateTransitionEnd(600),this._element.style[f]=this._element[m]+"px"}else g()}}},p.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(h)){var n=e.Event(l.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var s=this._getDimension();if(this._element.style[s]=this._element.getBoundingClientRect()[s]+"px",i.reflow(this._element),e(this._element).addClass(u).removeClass(c).removeClass(h),this._triggerArray.length)for(var r=0;r<this._triggerArray.length;r++){var o=this._triggerArray[r],a=i.getSelectorFromElement(o);if(null!==a)e(a).hasClass(h)||e(o).addClass(d).attr("aria-expanded",!1)}this.setTransitioning(!0);var f=function(){t.setTransitioning(!1),e(t._element).removeClass(u).addClass(c).trigger(l.HIDDEN)};this._element.style[s]="",i.supportsTransitionEnd()?e(this._element).one(i.TRANSITION_END,f).emulateTransitionEnd(600):f()}}},p.setTransitioning=function(t){this._isTransitioning=t},p.dispose=function(){e.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},p._getConfig=function(n){return(n=e.extend({},o,n)).toggle=Boolean(n.toggle),i.typeCheckConfig(t,n,a),n},p._getDimension=function(){return e(this._element).hasClass(f)?f:g},p._getParent=function(){var t=this,n=null;i.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=e(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(r).each((function(e,n){t._addAriaAndCollapsedClass(s._getTargetFromElement(n),[n])})),n},p._addAriaAndCollapsedClass=function(t,n){if(t){var i=e(t).hasClass(h);n.length&&e(n).toggleClass(d,!i).attr("aria-expanded",i)}},s._getTargetFromElement=function(t){var n=i.getSelectorFromElement(t);return n?e(n)[0]:null},s._jQueryInterface=function(t){return this.each((function(){var i=e(this),r=i.data(n),a=e.extend({},o,i.data(),"object"==typeof t&&t);if(!r&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),r||(r=new s(this,a),i.data(n,r)),"string"==typeof t){if(void 0===r[t])throw new Error('No method named "'+t+'"');r[t]()}}))},r(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return o}}]),s}();return e(document).on(l.CLICK_DATA_API,m,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var s=e(this),r=i.getSelectorFromElement(this);e(r).each((function(){var t=e(this),i=t.data(n)?"toggle":s.data();p._jQueryInterface.call(t,i)}))})),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=s,p._jQueryInterface},p}(),u=function(){if(void 0===n)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var t="dropdown",s="bs.dropdown",o="."+s,a=e.fn[t],l=new RegExp("38|40|27"),h={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click"+o+".data-api",KEYDOWN_DATA_API:"keydown"+o+".data-api",KEYUP_DATA_API:"keyup"+o+".data-api"},c="disabled",u="show",d="dropup",f="dropdown-menu-right",g="dropdown-menu-left",_='[data-toggle="dropdown"]',m=".dropdown form",p=".dropdown-menu",v=".navbar-nav",E=".dropdown-menu .dropdown-item:not(.disabled)",b="top-start",C="top-end",y="bottom-start",T="bottom-end",I={offset:0,flip:!0},w={offset:"(number|string|function)",flip:"boolean"},D=function(){function a(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var m=a.prototype;return m.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(c)){var t=a._getParentFromElement(this._element),i=e(this._menu).hasClass(u);if(a._clearMenus(),!i){var s={relatedTarget:this._element},r=e.Event(h.SHOW,s);if(e(t).trigger(r),!r.isDefaultPrevented()){var o=this._element;e(t).hasClass(d)&&(e(this._menu).hasClass(g)||e(this._menu).hasClass(f))&&(o=t),this._popper=new n(o,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!e(t).closest(v).length&&e("body").children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(u),e(t).toggleClass(u).trigger(e.Event(h.SHOWN,s))}}}},m.dispose=function(){e.removeData(this._element,s),e(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},m.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},m._addEventListeners=function(){var t=this;e(this._element).on(h.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},m._getConfig=function(n){return n=e.extend({},this.constructor.Default,e(this._element).data(),n),i.typeCheckConfig(t,n,this.constructor.DefaultType),n},m._getMenuElement=function(){if(!this._menu){var t=a._getParentFromElement(this._element);this._menu=e(t).find(p)[0]}return this._menu},m._getPlacement=function(){var t=e(this._element).parent(),n=y;return t.hasClass(d)?(n=b,e(this._menu).hasClass(f)&&(n=C)):e(this._menu).hasClass(f)&&(n=T),n},m._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},m._getPopperConfig=function(){var t=this,n={};"function"==typeof this._config.offset?n.fn=function(n){return n.offsets=e.extend({},n.offsets,t._config.offset(n.offsets)||{}),n}:n.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip}}};return this._inNavbar&&(i.modifiers.applyStyle={enabled:!this._inNavbar}),i},a._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(s);if(n||(n=new a(this,"object"==typeof t?t:null),e(this).data(s,n)),"string"==typeof t){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}}))},a._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=e.makeArray(e(_)),i=0;i<n.length;i++){var r=a._getParentFromElement(n[i]),o=e(n[i]).data(s),l={relatedTarget:n[i]};if(o){var c=o._menu;if(e(r).hasClass(u)&&!(t&&("click"===t.type&&e(r).hasClass("filter-rep")||/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(r,t.target))){var d=e.Event(h.HIDE,l);e(r).trigger(d),d.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),n[i].setAttribute("aria-expanded","false"),e(c).removeClass(u),e(r).removeClass(u).trigger(e.Event(h.HIDDEN,l)))}}}},a._getParentFromElement=function(t){var n,s=i.getSelectorFromElement(t);return s&&(n=e(s)[0]),n||t.parentNode},a._dataApiKeydownHandler=function(t){if(!(!l.test(t.which)||/button/i.test(t.target.tagName)&&32===t.which||/input|textarea/i.test(t.target.tagName)||(t.preventDefault(),t.stopPropagation(),this.disabled||e(this).hasClass(c)))){var n=a._getParentFromElement(this),i=e(n).hasClass(u);if((i||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)){var s=e(n).find(E).get();if(s.length){var r=s.indexOf(t.target);38===t.which&&r>0&&r--,40===t.which&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}else{if(27===t.which){var o=e(n).find(_)[0];e(o).trigger("focus")}e(this).trigger("click")}}},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return I}},{key:"DefaultType",get:function(){return w}}]),a}();return e(document).on(h.KEYDOWN_DATA_API,_,D._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,p,D._dataApiKeydownHandler).on(h.CLICK_DATA_API+" "+h.KEYUP_DATA_API,D._clearMenus).on(h.CLICK_DATA_API,_,(function(t){t.preventDefault(),t.stopPropagation(),D._jQueryInterface.call(e(this),"toggle")})).on(h.CLICK_DATA_API,m,(function(t){t.stopPropagation()})),e.fn[t]=D._jQueryInterface,e.fn[t].Constructor=D,e.fn[t].noConflict=function(){return e.fn[t]=a,D._jQueryInterface},D}(),d=function(){var t="modal",n=".bs.modal",s=e.fn[t],o={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},l={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,FOCUSIN:"focusin"+n,RESIZE:"resize"+n,CLICK_DISMISS:"click.dismiss"+n,KEYDOWN_DISMISS:"keydown.dismiss"+n,MOUSEUP_DISMISS:"mouseup.dismiss"+n,MOUSEDOWN_DISMISS:"mousedown.dismiss"+n,CLICK_DATA_API:"click"+n+".data-api"},h="modal-scrollbar-measure",c="modal-backdrop",u="modal-open",d="fade",f="show",g=".modal-dialog",_='[data-toggle="modal"]',m='[data-dismiss="modal"]',p=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",v=".sticky-top",E=".navbar-toggler",b=function(){function s(t,n){this._config=this._getConfig(n),this._element=t,this._dialog=e(t).find(g)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var _=s.prototype;return _.toggle=function(t){return this._isShown?this.hide():this.show(t)},_.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){i.supportsTransitionEnd()&&e(this._element).hasClass(d)&&(this._isTransitioning=!0);var s=e.Event(l.SHOW,{relatedTarget:t});e(this._element).trigger(s),this._isShown||s.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(u),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(l.CLICK_DISMISS,m,(function(t){return n.hide(t)})),e(this._dialog).on(l.MOUSEDOWN_DISMISS,(function(){e(n._element).one(l.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},_.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var s=e.Event(l.HIDE);if(e(this._element).trigger(s),this._isShown&&!s.isDefaultPrevented()){this._isShown=!1;var r=i.supportsTransitionEnd()&&e(this._element).hasClass(d);r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(l.FOCUSIN),e(this._element).removeClass(f),e(this._element).off(l.CLICK_DISMISS),e(this._dialog).off(l.MOUSEDOWN_DISMISS),r?e(this._element).one(i.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(300):this._hideModal()}}},_.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},_.handleUpdate=function(){this._adjustDialog()},_._getConfig=function(n){return n=e.extend({},o,n),i.typeCheckConfig(t,n,a),n},_._showElement=function(t){var n=this,s=i.supportsTransitionEnd()&&e(this._element).hasClass(d);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,s&&i.reflow(this._element),e(this._element).addClass(f),this._config.focus&&this._enforceFocus();var r=e.Event(l.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};s?e(this._dialog).one(i.TRANSITION_END,o).emulateTransitionEnd(300):o()},_._enforceFocus=function(){var t=this;e(document).off(l.FOCUSIN).on(l.FOCUSIN,(function(n){document===n.target||t._element===n.target||e(t._element).has(n.target).length||t._element.focus()}))},_._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(l.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(l.KEYDOWN_DISMISS)},_._setResizeEvent=function(){var t=this;this._isShown?e(window).on(l.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(l.RESIZE)},_._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(u),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(l.HIDDEN)}))},_._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},_._showBackdrop=function(t){var n=this,s=e(this._element).hasClass(d)?d:"";if(this._isShown&&this._config.backdrop){var r=i.supportsTransitionEnd()&&s;if(this._backdrop=document.createElement("div"),this._backdrop.className=c,s&&e(this._backdrop).addClass(s),e(this._backdrop).appendTo(document.body),e(this._element).on(l.CLICK_DISMISS,(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),r&&i.reflow(this._backdrop),e(this._backdrop).addClass(f),!t)return;if(!r)return void t();e(this._backdrop).one(i.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(f);var o=function(){n._removeBackdrop(),t&&t()};i.supportsTransitionEnd()&&e(this._element).hasClass(d)?e(this._backdrop).one(i.TRANSITION_END,o).emulateTransitionEnd(150):o()}else t&&t()},_._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},_._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},_._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},_._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){e(p).each((function(n,i){var s=e(i)[0].style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",s).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")})),e(v).each((function(n,i){var s=e(i)[0].style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",s).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")})),e(E).each((function(n,i){var s=e(i)[0].style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",s).css("margin-right",parseFloat(r)+t._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,i=e("body").css("padding-right");e("body").data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},_._resetScrollbar=function(){e(p).each((function(t,n){var i=e(n).data("padding-right");void 0!==i&&e(n).css("padding-right",i).removeData("padding-right")})),e(v+", "+E).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var t=e("body").data("padding-right");void 0!==t&&e("body").css("padding-right",t).removeData("padding-right")},_._getScrollbarWidth=function(){var t=document.createElement("div");t.className=h,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},s._jQueryInterface=function(t,n){return this.each((function(){var i=e(this).data("bs.modal"),r=e.extend({},s.Default,e(this).data(),"object"==typeof t&&t);if(i||(i=new s(this,r),e(this).data("bs.modal",i)),"string"==typeof t){if(void 0===i[t])throw new Error('No method named "'+t+'"');i[t](n)}else r.show&&i.show(n)}))},r(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return o}}]),s}();return e(document).on(l.CLICK_DATA_API,_,(function(t){var n,s=this,r=i.getSelectorFromElement(this);r&&(n=e(r)[0]);var o=e(n).data("bs.modal")?"toggle":e.extend({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(l.SHOW,(function(t){t.isDefaultPrevented()||a.one(l.HIDDEN,(function(){e(s).is(":visible")&&s.focus()}))}));b._jQueryInterface.call(e(n),o,this)})),e.fn[t]=b._jQueryInterface,e.fn[t].Constructor=b,e.fn[t].noConflict=function(){return e.fn[t]=s,b._jQueryInterface},b}(),f=function(){if(void 0===n)throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");var t="tooltip",s=".bs.tooltip",o=e.fn[t],a=new RegExp("(^|\\s)bs-tooltip\\S+","g"),l={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)"},h={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip"},u="show",d="out",f={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},g="fade",_="show",m=".tooltip-inner",p=".arrow",v="hover",E="focus",b="click",C="manual",y=function(){function o(t,e){this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var y=o.prototype;return y.enable=function(){this._isEnabled=!0},y.disable=function(){this._isEnabled=!1},y.toggleEnabled=function(){this._isEnabled=!this._isEnabled},y.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(_))return void this._leave(null,this);this._enter(null,this)}},y.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},y.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var s=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(s);var r=e.contains(this.element.ownerDocument.documentElement,this.element);if(s.isDefaultPrevented()||!r)return;var a=this.getTipElement(),l=i.getUID(this.constructor.NAME);a.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&e(a).addClass(g);var h="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(h);this.addAttachmentClass(c);var u=!1===this.config.container?document.body:e(this.config.container);e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:p}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(a).addClass(_),"ontouchstart"in document.documentElement&&e("body").children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===d&&t._leave(null,t)};i.supportsTransitionEnd()&&e(this.tip).hasClass(g)?e(this.tip).one(i.TRANSITION_END,f).emulateTransitionEnd(o._TRANSITION_DURATION):f()}},y.hide=function(t){var n=this,s=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==u&&s.parentNode&&s.parentNode.removeChild(s),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};e(this.element).trigger(r),r.isDefaultPrevented()||(e(s).removeClass(_),"ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),this._activeTrigger[b]=!1,this._activeTrigger[E]=!1,this._activeTrigger[v]=!1,i.supportsTransitionEnd()&&e(this.tip).hasClass(g)?e(s).one(i.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},y.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},y.isWithContent=function(){return Boolean(this.getTitle())},y.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},y.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},y.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(m),this.getTitle()),t.removeClass(g+" "+_)},y.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},y.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},y._getAttachment=function(t){return h[t.toUpperCase()]},y._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==C){var i=n===v?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,s=n===v?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(s,t.config.selector,(function(e){return t._leave(e)}))}e(t.element).closest(".modal").on("hide.bs.modal",(function(){return t.hide()}))})),this.config.selector?this.config=e.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},y._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},y._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?E:v]=!0),e(n.getTipElement()).hasClass(_)||n._hoverState===u?n._hoverState=u:(clearTimeout(n._timeout),n._hoverState=u,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===u&&n.show()}),n.config.delay.show):n.show())},y._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?E:v]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===d&&n.hide()}),n.config.delay.hide):n.hide())},y._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},y._getConfig=function(n){return"number"==typeof(n=e.extend({},this.constructor.Default,e(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),i.typeCheckConfig(t,n,this.constructor.DefaultType),n},y._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},y._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(a);null!==n&&n.length>0&&t.removeClass(n.join(""))},y._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},y._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(g),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.tooltip",n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return l}}]),o}();return e.fn[t]=y._jQueryInterface,e.fn[t].Constructor=y,e.fn[t].noConflict=function(){return e.fn[t]=o,y._jQueryInterface},y}(),g=function(){var t="popover",n=".bs.popover",i=e.fn[t],s=new RegExp("(^|\\s)bs-popover\\S+","g"),a=e.extend({},f.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=e.extend({},f.DefaultType,{content:"(string|element|function)"}),h="fade",c="show",u=".popover-header",d=".popover-body",g={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},_=function(i){function f(){return i.apply(this,arguments)||this}o(f,i);var _=f.prototype;return _.isWithContent=function(){return this.getTitle()||this._getContent()},_.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},_.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},_.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(u),this.getTitle()),this.setElementContent(t.find(d),this._getContent()),t.removeClass(h+" "+c)},_._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},_._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(s);null!==n&&n.length>0&&t.removeClass(n.join(""))},f._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new f(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}}))},r(f,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return l}}]),f}(f);return e.fn[t]=_._jQueryInterface,e.fn[t].Constructor=_,e.fn[t].noConflict=function(){return e.fn[t]=i,_._jQueryInterface},_}(),_=function(){var t="scrollspy",n=e.fn[t],s={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},a={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},l="dropdown-item",h="active",c='[data-spy="scroll"]',u=".active",d=".nav, .list-group",f=".nav-link",g=".nav-item",_=".list-group-item",m=".dropdown",p=".dropdown-item",v=".dropdown-toggle",E="offset",b="position",C=function(){function n(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+f+","+this._config.target+" "+_+","+this._config.target+" "+p,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(a.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var c=n.prototype;return c.refresh=function(){var t=this,n=this._scrollElement!==this._scrollElement.window?b:E,s="auto"===this._config.method?n:this._config.method,r=s===b?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),e.makeArray(e(this._selector)).map((function(t){var n,o=i.getSelectorFromElement(t);if(o&&(n=e(o)[0]),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[e(n)[s]().top+r,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},c.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},c._getConfig=function(n){if("string"!=typeof(n=e.extend({},s,n)).target){var r=e(n.target).attr("id");r||(r=i.getUID(t),e(n.target).attr("id",r)),n.target="#"+r}return i.typeCheckConfig(t,n,o),n},c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},c._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var s=this._offsets.length;s--;){this._activeTarget!==this._targets[s]&&t>=this._offsets[s]&&(void 0===this._offsets[s+1]||t<this._offsets[s+1])&&this._activate(this._targets[s])}}},c._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}));var i=e(n.join(","));i.hasClass(l)?(i.closest(m).find(v).addClass(h),i.addClass(h)):(i.addClass(h),i.parents(d).prev(f+", "+_).addClass(h),i.parents(d).prev(g).children(f).addClass(h)),e(this._scrollElement).trigger(a.ACTIVATE,{relatedTarget:t})},c._clear=function(){e(this._selector).filter(u).removeClass(h)},n._jQueryInterface=function(t){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new n(this,"object"==typeof t&&t),e(this).data("bs.scrollspy",i)),"string"==typeof t){if(void 0===i[t])throw new Error('No method named "'+t+'"');i[t]()}}))},r(n,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return s}}]),n}();return e(window).on(a.LOAD_DATA_API,(function(){for(var t=e.makeArray(e(c)),n=t.length;n--;){var i=e(t[n]);C._jQueryInterface.call(i,i.data())}})),e.fn[t]=C._jQueryInterface,e.fn[t].Constructor=C,e.fn[t].noConflict=function(){return e.fn[t]=n,C._jQueryInterface},C}(),m=function(){var t=e.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},s="dropdown-menu",o="active",a="disabled",l="fade",h="show",c=".dropdown",u=".nav, .list-group",d=".active",f="> li > .active",g='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',_=".dropdown-toggle",m="> .dropdown-menu .active",p=function(){function t(t){this._element=t}var g=t.prototype;return g.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(o)||e(this._element).hasClass(a))){var s,r,l=e(this._element).closest(u)[0],h=i.getSelectorFromElement(this._element);if(l){var c="UL"===l.nodeName?f:d;r=(r=e.makeArray(e(l).find(c)))[r.length-1]}var g=e.Event(n.HIDE,{relatedTarget:this._element}),_=e.Event(n.SHOW,{relatedTarget:r});if(r&&e(r).trigger(g),e(this._element).trigger(_),!_.isDefaultPrevented()&&!g.isDefaultPrevented()){h&&(s=e(h)[0]),this._activate(this._element,l);var m=function(){var i=e.Event(n.HIDDEN,{relatedTarget:t._element}),s=e.Event(n.SHOWN,{relatedTarget:r});e(r).trigger(i),e(t._element).trigger(s)};s?this._activate(s,s.parentNode,m):m()}}},g.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},g._activate=function(t,n,s){var r=this,o=("UL"===n.nodeName?e(n).find(f):e(n).children(d))[0],a=s&&i.supportsTransitionEnd()&&o&&e(o).hasClass(l),c=function(){return r._transitionComplete(t,o,a,s)};o&&a?e(o).one(i.TRANSITION_END,c).emulateTransitionEnd(150):c(),o&&e(o).removeClass(h)},g._transitionComplete=function(t,n,r,a){if(n){e(n).removeClass(o);var u=e(n.parentNode).find(m)[0];u&&e(u).removeClass(o),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(o),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),r?(i.reflow(t),e(t).addClass(h)):e(t).removeClass(l),t.parentNode&&e(t.parentNode).hasClass(s)){var d=e(t).closest(c)[0];d&&e(d).find(_).addClass(o),t.setAttribute("aria-expanded",!0)}a&&a()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),s=i.data("bs.tab");if(s||(s=new t(this),i.data("bs.tab",s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),t}();return e(document).on(n.CLICK_DATA_API,g,(function(t){t.preventDefault(),p._jQueryInterface.call(e(this),"show")})),e.fn.tab=p._jQueryInterface,e.fn.tab.Constructor=p,e.fn.tab.noConflict=function(){return e.fn.tab=t,p._jQueryInterface},p}();return function(){if(void 0===e)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=i,t.Alert=a,t.Button=l,t.Carousel=h,t.Collapse=c,t.Dropdown=u,t.Modal=d,t.Popover=g,t.Scrollspy=_,t.Tab=m,t.Tooltip=f,t}({},$,Popper);
/*!
 * imagesLoaded PACKAGED v4.1.3
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,o=i[n];t=t||[];for(var s=this._onceEvents&&this._onceEvents[e];o;){var r=s&&s[o];r&&(this.off(e,o),delete s[o]),o.apply(this,t),o=i[n+=r?0:1]}return this}},t.allOff=t.removeAllListeners=function(){delete this._events,delete this._onceEvents},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],(function(i){return t(e,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e,t,o){return this instanceof n?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}(e),this.options=i({},this.options),"function"==typeof t?o=t:i(this.options,t),o&&this.on("always",o),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(function(){this.check()}.bind(this))):new n(e,t,o)}function o(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var r=e.jQuery,h=e.console;n.prototype=Object.create(t.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&a[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var s=e.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}}};var a={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},n.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},n.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},n.prototype.check=function(){function e(e,i,n){setTimeout((function(){t.progress(e,i,n)}))}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(t){t.once("progress",e),t.check()})):void this.complete()},n.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&h&&h.log("progress: "+i,e,t)},n.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o.prototype=Object.create(t.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(o.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},n.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((r=t).fn.imagesLoaded=function(e,t){return new n(this,e,t).jqDeferred.promise(r(this))})},n.makeJQueryPlugin(),n}));
/*! jPlayer 2.9.2 for jQuery ~ (c) 2009-2014 Happyworm Ltd ~ MIT License */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,(function(t,e){t.fn.jPlayer=function(s){var i="jPlayer",a="string"==typeof s,o=Array.prototype.slice.call(arguments,1),r=this;return s=!a&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,a&&"_"===s.charAt(0)||this.each(a?function(){var a=t(this).data(i),n=a&&t.isFunction(a[s])?a[s].apply(a,o):a;return n!==a&&n!==e?(r=n,!1):void 0}:function(){var e=t(this).data(i);e?e.option(s||{}):t(this).data(i,new t.jPlayer(s,this))}),r},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",(function(){i.destroy()})),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],(function(){t.jPlayer.event[this]="jPlayer_"+this})),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,(function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")}))},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),i=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,a=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*i,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,r=this.options.timeFormat.padMin&&10>i?"0"+i:i,n=this.options.timeFormat.padSec&&10>a?"0"+a:a,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",(l+=this.options.timeFormat.showMin?r+this.options.timeFormat.sepMin:"")+(this.options.timeFormat.showSec?n+this.options.timeFormat.sepSec:"")}};var i=new s;t.jPlayer.convertTime=function(t){return i.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],i=/(ipad|playbook)/.exec(e)||!/(mobile)/.exec(e)&&/(android)/.exec(e)||[];return s[1]&&(s[1]=s[1].replace(/\s/g,"_")),{platform:s[1]||"",tablet:i[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,i=document,a=i.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},r=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!i[o.w3c[0]],moz:!!i[o.moz[0]],webkit:"function"==typeof i[o.webkit[3]],webkitVideo:"function"==typeof a[o.webkitVideo[2]],ms:"function"==typeof a[o.ms[2]]},used:{}},e=0,s=r.length;s>e;e++){var n=r[e];if(t.support[n]){t.spec=n,t.used[n]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return(t=t||i)[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return(t=t||i)[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var r=function(e){var s,i=t.jPlayer.focus;i&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),(function(t,i){return e.target.nodeName.toUpperCase()===i.toUpperCase()?(s=!0,!1):void 0})),s||t.each(i.options.keyBindings,(function(s,a){return a&&t.isFunction(a.fn)&&("number"==typeof a.key&&e.which===a.key||"string"==typeof a.key&&e.key===a.key)?(e.preventDefault(),a.fn(i),!1):void 0})))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,r)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",(function(){t(this).jPlayer("play")})):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),(function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.formats,(function(t,e){return a===e?(o=!0,!1):void 0})),o||s.formats.push(a)}})),t.each(this.options.solution.toLowerCase().split(","),(function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.solution[a]){var o=!1;t.each(s.solutions,(function(t,e){return a===e?(o=!0,!1):void 0})),o||s.solutions.push(a)}})),t.each(this.options.auroraFormats.toLowerCase().split(","),(function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.aurora.formats,(function(t,e){return a===e?(o=!0,!1):void 0})),o||s.aurora.formats.push(a)}})),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,(function(t,i){s.options[t]!==e&&(s.element.bind(i+".jPlayer",s.options[t]),s.options[t]=e)})),this.require.audio=!1,this.require.video=!1,t.each(this.formats,(function(t,e){s.require[s.format[e].media]=!0})),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!s.status.video||s.status.waitForPlay)&&s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",(function(){s._trigger(t.jPlayer.event.click)})),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,(function(e,i){s.html.canPlay[i]=s.html[s.format[i].media].available&&""!==s.htmlElement[s.format[i].media].canPlayType(s.format[i].codec),s.aurora.canPlay[i]=t.inArray(i,s.aurora.formats)>-1,s.flash.canPlay[i]=s.format[i].flashCanPlay&&s.flash.available})),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,(function(e,i){if(0===e)s[i].desired=!0;else{var a=!1,o=!1;t.each(s.formats,(function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:a=!0)})),s[i].desired=s.require.audio&&!a||s.require.video&&!o}})),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,(function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired})),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,(function(e,i){t.each(s.formats,(function(t,e){return s[i].support[e]?(s[i].used=!0,!1):void 0}))})),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+a+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement(o);for(var n=0;n<r.length;n++)i.appendChild(document.createElement(r[n]))}else{var l=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e),i.setAttribute("value",s),t.appendChild(i)};(i=document.createElement("object")).setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),l(i,"flashvars",a),l(i,"allowscriptaccess","always"),l(i,"bgcolor",this.options.backgroundColor),l(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=t(i)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",(function(){s._trigger(t.jPlayer.event.click)})))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout((function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)}),100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,(function(t,e){e.length&&e.unbind(".jPlayer")})),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,(function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))}))},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(t){var e;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=.5,.5===e.playbackRate)}catch(t){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=!1;return t.each(e,(function(t,e){return e&&e.test(s)?(i=!0,!1):void 0})),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",(function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress))}),!1),e.addEventListener("loadeddata",(function(){s.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(t.jPlayer.event.loadeddata))}),!1),e.addEventListener("timeupdate",(function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.timeupdate))}),!1),e.addEventListener("durationchange",(function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))}),!1),e.addEventListener("play",(function(){s.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(t.jPlayer.event.play))}),!1),e.addEventListener("playing",(function(){s.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(t.jPlayer.event.playing))}),!1),e.addEventListener("pause",(function(){s.gate&&(i._updateButtons(!1),i._trigger(t.jPlayer.event.pause))}),!1),e.addEventListener("waiting",(function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.waiting))}),!1),e.addEventListener("seeking",(function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.seeking))}),!1),e.addEventListener("seeked",(function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.seeked))}),!1),e.addEventListener("volumechange",(function(){s.gate&&(i.options.volume=e.volume,i.options.muted=e.muted,i._updateMute(),i._updateVolume(),i._trigger(t.jPlayer.event.volumechange))}),!1),e.addEventListener("ratechange",(function(){s.gate&&(i.options.defaultPlaybackRate=e.defaultPlaybackRate,i.options.playbackRate=e.playbackRate,i._updatePlaybackRate(),i._trigger(t.jPlayer.event.ratechange))}),!1),e.addEventListener("suspend",(function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.suspend))}),!1),e.addEventListener("ended",(function(){s.gate&&(t.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))}),!1),e.addEventListener("error",(function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))}),!1),t.each(t.jPlayer.htmlEvent,(function(a,o){e.addEventListener(this,(function(){s.gate&&i._trigger(t.jPlayer.event[o])}),!1)}))},_addAuroraEventListeners:function(e,s){var i=this;e.volume=100*this.options.volume,e.on("progress",(function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress),e.duration>0&&i._trigger(t.jPlayer.event.timeupdate))}),!1),e.on("ready",(function(){s.gate&&i._trigger(t.jPlayer.event.loadeddata)}),!1),e.on("duration",(function(){s.gate&&(i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))}),!1),e.on("end",(function(){s.gate&&(i._updateButtons(!1),i._getAuroraStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))}),!1),e.on("error",(function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))}),!1)},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,i=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,i=0,a=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,i=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(a=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){var a=t.Event(e);a.jPlayer={},a.jPlayer.version=t.extend({},this.version),a.jPlayer.options=t.extend(!0,{},this.options),a.jPlayer.status=t.extend(!0,{},this.status),a.jPlayer.html=t.extend(!0,{},this.html),a.jPlayer.aurora=t.extend(!0,{},this.aurora),a.jPlayer.flash=t.extend(!0,{},this.flash),s&&(a.jPlayer.error=t.extend({},s)),i&&(a.jPlayer.warning=t.extend({},i)),this.element.trigger(a)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&(this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var t="",e=this.status.duration,s=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=(e=this.status.media.duration)-this.status.currentTime),t=this.options.remainingDuration?(s>0?"-":"")+this._convertTime(s):this._convertTime(e)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;return t.each(e,(function(t,i){i&&s.format[t]&&"data:"!==i.substr(0,5)&&(e[t]=s._qualifyURL(i))})),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,i=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,(function(a,o){var r="video"===s.format[o].media;return t.each(s.solutions,(function(a,n){if(s[n].support[o]&&s._validString(e[o])){var l="html"===n,h="aurora"===n;return r?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):h?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),i=!0,!1}})),!i&&void 0})),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){"object"==typeof t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,(function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,o)})))},pauseOthers:function(t){this.tellOthers("pause",(function(){return this.status.srcSet}),t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",(function(){return this.options.globalVolume}),t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e||!!t,this._muted(t))},unmute:function(t){t=t===e||!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",(function(){return this.options.globalVolume}),t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=s.height()-e.pageY+i.top,n=s.height();this.volume(this.options.verticalVolume?r/n:a/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,(function(t,e){s._cssSelector(t,e)})),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var i=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,this.css.jq[e]=s?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){this.css.jq[e].bind("click.jPlayer",(function(s){s.preventDefault(),i[e](s),i.options.autoBlur?t(this).blur():t(this).focus()}))}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s=t(e.currentTarget),i=s.offset(),a=100*(e.pageX-i.left)/s.width();this.playHead(a)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,i=t(e.currentTarget),a=i.offset(),o=e.pageX-a.left,r=i.width(),n=i.height()-e.pageY+a.top,l=i.height();s=(this.options.verticalPlaybackRate?n/l:o/r)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(s)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(!(e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,i){var a=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(i===e){for(var r=t.extend(!0,{},this.options),n=0;n<o.length;n++){if(r[o[n]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[o[n]]}return r}for(var l=a={},h=0;h<o.length;h++)h<o.length-1?(l[o[h]]={},l=l[o[h]]):l[o[h]]=i}return this._setOptions(a),this},_setOptions:function(e){var s=this;return t.each(e,(function(t,e){s._setOption(t,e)})),this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,(function(t,e){i._cssSelector(t,e)}));break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=".jPlayerAutohide",s="mousemove.jPlayer"+e,i=function(e){var s,i,a=!1;void 0!==t.internal.mouse?(s=t.internal.mouse.x-e.pageX,i=t.internal.mouse.y-e.pageY,a=Math.floor(s)>0||Math.floor(i)>0):a=!0,t.internal.mouse={x:e.pageX,y:e.pageY},a&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,(function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout((function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)}),t.options.autohide.hold)}))};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(e),this.css.jq.gui.unbind(e),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(s,i),this.css.jq.gui.bind(s,i),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],(function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)})),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,(function(t,i){return s.html.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0}))},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(s){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.play(t)}),250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(s){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.pause(t)}),250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(s){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.playHead(t)}),250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,(function(t,i){return s.aurora.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0})),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,(function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,(function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(t){this._flashError(t)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(t){this._flashError(t)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(t){}else navigator.plugins&&navigator.mimeTypes.length>0&&((t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\n"+s.message:"")+(s.hint?"\n"+s.hint:"")+"\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),(function(t,s){e.internal.domNode[s]=function(t){e[s](t)}})),t.each(t.jPlayer.event,(function(s,i){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),(function(t,e){return e===s?(a=!1,!1):void 0})),a&&e.element.bind(i+".jPlayer.jPlayerHtml",(function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)}))}))},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),(function(t,s){e.internal.domNode[s]=e.status[s]})),t.each(t.jPlayer.emulateOptions.split(/\s+/g),(function(t,s){e.internal.domNode[s]=e.options[s]}))},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\s+/g),(function(t,s){delete e.internal.domNode[s]}))}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}));
!function(s,t){studyJPlayerPlaylist=function(t,e,i){var l=this;this.current=0,this.loop=!1,this.shuffled=!1,this.removing=!1,this.cssSelector=s.extend({},this._cssSelector,t),this.options=s.extend(!0,{keyBindings:{next:{key:221,fn:function(){l.next()}},previous:{key:219,fn:function(){l.previous()}},shuffle:{key:83,fn:function(){l.shuffle()}}},stateClass:{shuffled:"jp-state-shuffled"}},this._options,i),this.playlist=[],this.original=[],this._initPlaylist(e),this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .jp-details",this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist",this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next",this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous",this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle",this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off",this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor,this.options.repeat=function(s){l.loop=s.jPlayer.options.loop},s(this.cssSelector.jPlayer).bind(s.jPlayer.event.ready,(function(){l._init()})),s(this.cssSelector.jPlayer).bind(s.jPlayer.event.ended,(function(){l.next()})),s(this.cssSelector.jPlayer).bind(s.jPlayer.event.play,(function(){s(this).jPlayer("pauseOthers")})),s(this.cssSelector.jPlayer).bind(s.jPlayer.event.resize,(function(t){t.jPlayer.options.fullScreen?s(l.cssSelector.details).show():s(l.cssSelector.details).hide()})),s(this.cssSelector.previous).click((function(s){s.preventDefault(),l.previous(),l.blur(this)})),s(this.cssSelector.next).click((function(s){s.preventDefault(),l.next(),l.blur(this)})),s(this.cssSelector.shuffle).click((function(t){t.preventDefault(),l.shuffled&&s(l.cssSelector.jPlayer).jPlayer("option","useStateClassSkin")?l.shuffle(!1):l.shuffle(!0),l.blur(this)})),s(this.cssSelector.shuffleOff).click((function(s){s.preventDefault(),l.shuffle(!1),l.blur(this)})).hide(),this.options.fullScreen||s(this.cssSelector.details).hide(),s(this.cssSelector.playlist+" ul").empty(),this._createItemHandlers(),s(this.cssSelector.jPlayer).jPlayer(this.options)},studyJPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(s,t){if(void 0===t)return this.options.playlistOptions[s];switch(this.options.playlistOptions[s]=t,s){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0),this._createItemHandlers()}return this},_init:function(){var s=this;this._refresh((function(){s.options.playlistOptions.autoPlay?s.play(s.current):s.select(s.current)}))},_initPlaylist:function(t){this.current=0,this.shuffled=!1,this.removing=!1,this.original=s.extend(!0,[],t),this._originalPlaylist()},_originalPlaylist:function(){var t=this;this.playlist=[],s.each(this.original,(function(s){t.playlist[s]=t.original[s]}))},_refresh:function(t){var e=this;if(t&&!s.isFunction(t))s(this.cssSelector.playlist+" ul").empty(),s.each(this.playlist,(function(t){s(e.cssSelector.playlist+" ul").append(e._createListItem(e.playlist[t]))})),this._updateControls();else{var i=s(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;s(this.cssSelector.playlist+" ul").slideUp(i,(function(){var i=s(this);s(this).empty(),s.each(e.playlist,(function(s){i.append(e._createListItem(e.playlist[s]))})),e._updateControls(),s.isFunction(t)&&t(),e.playlist.length?s(this).slideDown(e.options.playlistOptions.displayTime):s(this).show()}))}},_createListItem:function(t){var e=this,i=/{(.*?\})/,l=void 0!==t.artist?t.artist.replace(i,""):null,a=void 0!==t.artist?t.artist.match(i,""):null,o="";null!=a?o+='<a href="'+a[1].replace("}","")+'">'+l+"</a>":o+=l;var n="id-"+Math.random().toString(36).substr(2,16),r="<li class='item clearfix' id='"+n+"'><div class='playlist-item'>";r+='<div class="img-box music-img-box song-poster"><img src="'+t.poster+'" alt=""><div class="hover-state"><span class="play-btn-dark"><i class="play-icon"></i></span></div></div>',r+='<div class="meta"><span class="now playlist-animate playing"><span class="bar n1">A</span><span class="bar n2">B</span><span class="bar n3">c</span></span><div class="hover-state"> <div class="d-flex justify-content-end align-items-center"><a href="#" class="mr-2"><span class="study-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18" height="15" viewBox="0 0 37 32"><path d="M27.379 0c-3.478 0.417-6.509 2.067-8.695 4.492l-0.011 0.012c-2.204-2.428-5.231-4.075-8.638-4.498l-0.068-0.007c-6.232 0-9.966 3.641-9.966 9.756 0.377 3.717 2.096 6.973 4.658 9.327l0.011 0.010 13.001 12.534c0.225 0.231 0.539 0.374 0.886 0.374 0.009 0 0.017-0 0.026-0l-0.001 0c0.004 0 0.010 0 0.015 0 0.35 0 0.667-0.143 0.895-0.373l0-0 13.187-12.511c0-0.187 4.668-4.365 4.668-9.36 0-6.115-3.734-9.756-9.966-9.756zM30.763 17.179l-12.090 11.647-12.114-11.67c-2.066-1.882-3.481-4.446-3.89-7.334l-0.008-0.065c0-5.859 3.968-7.002 7.306-7.002s6.605 3.361 7.679 4.668c0.253 0.283 0.619 0.46 1.027 0.46s0.774-0.177 1.026-0.458l0.001-0.001c1.074-1.284 4.668-4.668 7.679-4.668s7.282 1.237 7.282 7.002c0 3.805-3.851 7.352-3.898 7.422z"></path></svg></span></a><a class="track-menu-playlist" href="#"><i class="icon-dot-nav-horizontal"></i></a></div></div> </div>';var c=document.createElement("audio");if(c.autoplay=!1,c.controls=!1,c.preload=!1,c.src=t.mp3,c.style.display="none",s("body").append(c),c.onloadedmetadata=function(){var t;t='<span class="jp-time">'+Math.floor(Math.floor(c.duration)/60)+":"+Math.floor(c.duration)%60+"</span>",c.parentNode.removeChild(c),s("#"+n+" .meta").append(t)},t.free){var h=!0;r+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(",s.each(t,(function(t,i){s.jPlayer.prototype.format[t]&&(h?h=!1:r+=" | ",r+="<a class='"+e.options.playlistOptions.freeItemClass+"' href='"+i+"' tabindex='-1'>"+t+"</a>")})),r+=")</span>"}return r+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"'>"+t.title+"</a>",r+=t.artist?"<p class='jp-artist'>"+o+"</p>":"",r+="</div></li>"},_createItemHandlers:function(){var t=this;s(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,(function(e){e.preventDefault();var i=s(this).parent().parent().index();t.current!==i?t.play(i):s(t.cssSelector.jPlayer).jPlayer("play"),t.blur(this)})),s(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,(function(e){e.preventDefault(),s(this).parent().parent().find("."+t.options.playlistOptions.itemClass).click(),t.blur(this)})),s(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,(function(e){e.preventDefault();var i=s(this).parent().parent().index();t.remove(i),t.blur(this)}))},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?s(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():s(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide(),this.shuffled?s(this.cssSelector.jPlayer).jPlayer("addStateClass","shuffled"):s(this.cssSelector.jPlayer).jPlayer("removeStateClass","shuffled"),s(this.cssSelector.shuffle).length&&s(this.cssSelector.shuffleOff).length&&(this.shuffled?(s(this.cssSelector.shuffleOff).show(),s(this.cssSelector.shuffle).hide()):(s(this.cssSelector.shuffleOff).hide(),s(this.cssSelector.shuffle).show()))},_highlight:function(t){this.playlist.length&&void 0!==t&&(s(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),s(this.cssSelector.playlist+" li:nth-child("+(t+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"))},setPlaylist:function(s){this._initPlaylist(s),this._init()},add:function(t,e){s(this.cssSelector.playlist+" ul").append(this._createListItem(t)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime),this._updateControls(),this.original.push(t),this.playlist.push(t),e?this.play(this.playlist.length-1):1===this.original.length&&this.select(0)},remove:function(t){var e=this;return void 0===t?(this._initPlaylist([]),this._refresh((function(){s(e.cssSelector.jPlayer).jPlayer("clearMedia")})),!0):!this.removing&&(0<=(t=t<0?e.original.length+t:t)&&t<this.playlist.length&&(this.removing=!0,s(this.cssSelector.playlist+" li:nth-child("+(t+1)+")").slideUp(this.options.playlistOptions.removeTime,(function(){if(s(this).remove(),e.shuffled){var i=e.playlist[t];s.each(e.original,(function(s){if(e.original[s]===i)return e.original.splice(s,1),!1})),e.playlist.splice(t,1)}else e.original.splice(t,1),e.playlist.splice(t,1);e.original.length?t===e.current?(e.current=t<e.original.length?e.current:e.original.length-1,e.select(e.current)):t<e.current&&e.current--:(s(e.cssSelector.jPlayer).jPlayer("clearMedia"),e.current=0,e.shuffled=!1,e._updateControls()),e.removing=!1}))),!0)},select:function(t){0<=(t=t<0?this.original.length+t:t)&&t<this.playlist.length?(this.current=t,this._highlight(t),s(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0},play:function(t){0<=(t=t<0?this.original.length+t:t)&&t<this.playlist.length?this.playlist.length&&(this.select(t),s(this.cssSelector.jPlayer).jPlayer("play")):void 0===t&&s(this.cssSelector.jPlayer).jPlayer("play")},pause:function(){s(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var s=this.current+1<this.playlist.length?this.current+1:0;this.loop?0===s&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1?this.shuffle(!0,!0):this.play(s):s>0&&this.play(s)},previous:function(){var s=this.current-1>=0?this.current-1:this.playlist.length-1;(this.loop&&this.options.playlistOptions.loopOnPrevious||s<this.playlist.length-1)&&this.play(s)},shuffle:function(t,e){var i=this;void 0===t&&(t=!this.shuffled),(t||t!==this.shuffled)&&s(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,(function(){i.shuffled=t,t?i.playlist.sort((function(){return.5-Math.random()})):i._originalPlaylist(),i._refresh(!0),e||!s(i.cssSelector.jPlayer).data("jPlayer").status.paused?i.play(0):i.select(0),s(this).slideDown(i.options.playlistOptions.shuffleTime)}))},blur:function(t){s(this.cssSelector.jPlayer).jPlayer("option","autoBlur")&&s(t).blur()}}}(jQuery);
/**
 * Owl carousel
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 * @todo Lazy Load Icon
 * @todo prevent animationend bubling
 * @todo itemsScaleUp
 * @todo Test Zepto
 * @todo stagePadding calculate wrong active classes
 */
!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy((function(e,i){this._handlers[i]=t.proxy(this[i],this)}),this)),t.each(n.Plugins,t.proxy((function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)}),this)),t.each(n.Workers,t.proxy((function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})}),this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,r=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,r[s]=n?e*i:this._items[s].width();this._widths=r}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),r=2*Math.ceil(i.length/2),a=s.loop&&i.length?s.rewind?n:Math.max(n,r):0,o="",h="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),o+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h,a-=1;this._clones=e,t(o).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,r=[];++i<e;)s=r[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,r.push(s+n*t);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,a=this.coordinates(this.current())+r,o=a+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+r*n,(this.op(t,"<=",a)&&this.op(t,">",o)||this.op(e,"<",a)&&this.op(e,">",o))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],n.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},n.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map((function(e){return t(e)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},n.prototype.initialize=function(){var t,e,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,(function(t){t<=e&&t>s&&(s=Number(t))})),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy((function(t){return this[t]}),this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy((function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),r=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,r.x=((r.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,r.x=Math.max(Math.min(r.x,e+s),i+s)),this._drag.stage.current=r,this.animate(r.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,r=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy((function(t,a){return"left"===i&&e>a-30&&e<a+30?s=t:"right"===i&&e>a-n-30&&e<a-n+30?s=t+1:this.op(e,"<",a)&&this.op(e,">",void 0!==r[t+1]?r[t+1]:a-n)&&(s="left"===i?t+1:t),-1===s}),this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?s=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,(function(t,e){return e}))},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,r=this._coordinates.length;if(n.loop)r=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){if(e=this._items.length)for(i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););r=e+1}else r=n.center?this._items.length-1:this._items.length-n.items;return t&&(r-=this._clones.length/2),Math.max(r,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,(function(t,e){return n(e)})):t.map(this._clones,(function(t,i){return t===e?n(i):null}))},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy((function(t,e){return this.coordinates(e)}),this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),r=(n>0)-(n<0),a=this._items.length,o=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>a/2&&(n+=-1*r*a),(s=(((t=i+n)-o)%a+a)%a+o)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(o,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter((function(){return 1===this.nodeType})).each(t.proxy((function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy((function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy((function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))}),this))},n.prototype.destroy=function(){for(var s in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,r,a){var o={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],(function(t){return t})).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,i));return this._supress[e]||(t.each(this._plugins,(function(t,e){e.onTrigger&&e.onTrigger(l)})),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy((function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++}),this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy((function(t,e){this._states.current[e]--}),this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy((function(i,s){return t.inArray(i,this._states.tags[e.name])===s}),this)))},n.prototype.suppress=function(e){t.each(e,t.proxy((function(t,e){this._supress[e]=!0}),this))},n.prototype.release=function(e){t.each(e,t.proxy((function(t,e){delete this._supress[e]}),this))},n.prototype.pointer=function(t){var i={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var s=t(this),r=s.data("owl.carousel");r||(r=new n(this,"object"==typeof e&&e),s.data("owl.carousel",r),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(e,i){r.register({type:n.Type.Event,name:i}),r.$element.on(i+".owl.carousel.core",t.proxy((function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))}),r))}))),"string"==typeof e&&"_"!==e.charAt(0)&&r[e].apply(r,i)}))},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document);
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var r=0,n={next:function(){if(r<t.length){var o=r++;return{value:e(o,t[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(t,e,r,n){if(e){for(r=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}(e=e(n=r[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var $jscomp$this=this;!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()}(this,(function(){function t(t){if(!P.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var r=t.length,n=2<=arguments.length?arguments[1]:void 0,o=[],a=0;a<r;a++)if(a in t){var i=t[a];e.call(n,i,a,t)&&o.push(i)}return o}function r(t){return t.reduce((function(t,e){return t.concat(P.arr(e)?r(e):e)}),[])}function n(e){return P.arr(e)?e:(P.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function o(t,e){return t.some((function(t){return t===e}))}function a(t){var e,r={};for(e in t)r[e]=t[e];return r}function i(t,e){var r,n=a(t);for(r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function u(t,e){var r,n=a(t);for(r in e)n[r]=P.und(t[r])?e[r]:t[r];return n}function s(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function c(t,e){return P.fnc(t)?t(e.target,e.id,e.total):t}function f(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function l(t,e){return P.dom(t)&&o(O,e)?"transform":P.dom(t)&&(t.getAttribute(e)||P.svg(t)&&t[e])?"attribute":P.dom(t)&&"transform"!==e&&f(t,e)?"css":null!=t[e]?"object":void 0}function p(t,r){switch(l(t,r)){case"transform":return function(t,r){var n=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(r);if(n=-1<r.indexOf("scale")?1:0+n,!(t=t.style.transform))return n;for(var o=[],a=[],i=[],u=/(\w+)\((.+?)\)/g;o=u.exec(t);)a.push(o[1]),i.push(o[2]);return(t=e(i,(function(t,e){return a[e]===r}))).length?t[0]:n}(t,r);case"css":return f(t,r);case"attribute":return t.getAttribute(r)}return t[r]||0}function d(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var n=s(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(r[0],"")),r[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function m(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g(t){t=t.points;for(var e,r=0,n=0;n<t.numberOfItems;n++){var o=t.getItem(n);0<n&&(r+=m(e,o)),e=o}return r}function y(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return m({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return g(t);case"polygon":var e=t.points;return g(t)+m(e.getItem(e.numberOfItems-1),e.getItem(0))}}function h(t,e){function r(r){return r=void 0===r?0:r,t.el.getPointAtLength(1<=e+r?e+r:0)}var n=r(),o=r(-1),a=r(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function v(t,e){var r,n=/-?\d*\.?\d+/g;if(r=P.pth(t)?t.totalLength:t,P.col(r))if(P.rgb(r)){var o=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r);r=o?"rgba("+o[1]+",1)":r}else r=P.hex(r)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,r,n){return e+e+r+r+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(r):P.hsl(r)?function(t){function e(t,e,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:.5>r?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(r[1])/360;var n=parseInt(r[2])/100,o=parseInt(r[3])/100;if(r=r[4]||1,0==n)o=n=t=o;else{var a=.5>o?o*(1+n):o+n-o*n,i=2*o-a;o=e(i,a,t+1/3),n=e(i,a,t);t=e(i,a,t-1/3)}return"rgba("+255*o+","+255*n+","+255*t+","+r+")"}(r):void 0;else o=(o=s(r))?r.substr(0,r.length-o.length):r,r=e&&!/\s/g.test(r)?o+e:o;return{original:r+="",numbers:r.match(n)?r.match(n).map(Number):[0],strings:P.str(t)||e?r.split(n):[]}}function b(t){return e(t=t?r(P.arr(t)?t.map(n):n(t)):[],(function(t,e,r){return r.indexOf(t)===e}))}function j(t,e){var r=a(e);if(P.arr(t)){var o=t.length;2!==o||P.obj(t[0])?P.fnc(e.duration)||(r.duration=e.duration/o):t={value:t}}return n(t).map((function(t,r){return r=r?0:e.delay,t=P.obj(t)&&!P.pth(t)?t:{value:t},P.und(t.delay)&&(t.delay=r),t})).map((function(t){return u(t,r)}))}function $(t,e){var r;return t.tweens.map((function(n){var o=(n=function(t,e){var r,n={};for(r in t){var o=c(t[r],e);P.arr(o)&&(1===(o=o.map((function(t){return c(t,e)}))).length&&(o=o[0])),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e)).value,a=p(e.target,t.name),i=r?r.to.original:a,u=(i=P.arr(o)?o[0]:i,d(P.arr(o)?o[1]:o,i));a=s(u)||s(i)||s(a);return n.from=v(i,a),n.to=v(u,a),n.start=r?r.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=function(t){return P.arr(t)?k.apply(this,t):F[t]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=P.pth(o),n.isColor=P.col(n.from.original),n.isColor&&(n.round=1),r=n}))}function x(t,e,r,n){var o="delay"===t;return e.length?(o?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):o?n.delay:r.offset+n.delay+n.duration}function w(t){var n,o=i(M,t),a=i(S,t),s=function(t){var e=b(t);return e.map((function(t,r){return{target:t,id:r,total:e.length}}))}(t.targets),c=[],f=u(o,a);for(n in t)f.hasOwnProperty(n)||"targets"===n||c.push({name:n,offset:f.offset,tweens:j(t[n],a)});return t=function(t,n){return e(r(t.map((function(t){return n.map((function(e){var r=l(t.target,e.name);if(r){var n=$(e,t);e={type:r,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e}))}))),(function(t){return!P.und(t)}))}(s,c),u(o,{children:[],animatables:s,animations:t,duration:x("duration",t,o,a),delay:x("delay",t,o,a)})}function A(t){function r(){return window.Promise&&new Promise((function(t){return p=t}))}function n(t){return m.reversed?m.duration-t:t}function o(t){for(var r=0,n={},o=m.animations,a=o.length;r<a;){var i=o[r],u=i.animatable,s=(c=i.tweens)[d=c.length-1];d&&(s=e(c,(function(e){return t<e.end}))[0]||s);for(var c=Math.min(Math.max(t-s.start-s.delay,0),s.duration)/s.duration,l=isNaN(c)?1:s.easing(c,s.elasticity),p=(c=s.to.strings,s.round),d=[],g=void 0,y=(g=s.to.numbers.length,0);y<g;y++){var v=void 0,b=(v=s.to.numbers[y],s.from.numbers[y]);v=s.isPath?h(s.value,l*v):b+l*(v-b);p&&(s.isColor&&2<y||(v=Math.round(v*p)/p)),d.push(v)}if(s=c.length)for(g=c[0],l=0;l<s;l++)p=c[l+1],y=d[l],isNaN(y)||(g=p?g+(y+p):g+(y+" "));else g=d[0];L[i.type](u.target,i.property,g,n,u.id),i.currentValue=g,r++}if(r=Object.keys(n).length)for(o=0;o<r;o++)I||(I=f(document.body,"transform")?"transform":"-webkit-transform"),m.animatables[o].target.style[I]=n[o].join(" ");m.currentTime=t,m.progress=t/m.duration*100}function a(t){m[t]&&m[t](m)}function i(){m.remaining&&!0!==m.remaining&&m.remaining--}function u(t){var e=m.duration,u=m.offset,f=u+m.delay,g=m.currentTime,y=m.reversed,h=n(t);if(m.children.length){var v=m.children,b=v.length;if(h>=m.currentTime)for(var j=0;j<b;j++)v[j].seek(h);else for(;b--;)v[b].seek(h)}(h>=f||!e)&&(m.began||(m.began=!0,a("begin")),a("run")),h>u&&h<e?o(h):(h<=u&&0!==g&&(o(0),y&&i()),(h>=e&&g!==e||!e)&&(o(e),y||i())),a("update"),t>=e&&(m.remaining?(c=s,"alternate"===m.direction&&(m.reversed=!m.reversed)):(m.pause(),m.completed||(m.completed=!0,a("complete"),"Promise"in window&&(p(),d=r()))),l=0)}t=void 0===t?{}:t;var s,c,l=0,p=null,d=r(),m=w(t);return m.reset=function(){var t=m.direction,e=m.loop;for(m.currentTime=0,m.progress=0,m.paused=!0,m.began=!1,m.completed=!1,m.reversed="reverse"===t,m.remaining="alternate"===t&&1===e?2:e,o(0),t=m.children.length;t--;)m.children[t].reset()},m.tick=function(t){s=t,c||(c=s),u((l+s-c)*A.speed)},m.seek=function(t){u(n(t))},m.pause=function(){var t=C.indexOf(m);-1<t&&C.splice(t,1),m.paused=!0},m.play=function(){m.paused&&(m.paused=!1,c=0,l=n(m.currentTime),C.push(m),E||T())},m.reverse=function(){m.reversed=!m.reversed,c=0,l=n(m.currentTime)},m.restart=function(){m.pause(),m.reset(),m.play()},m.finished=d,m.reset(),m.autoplay&&m.play(),m}var I,M={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},S={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),P={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return P.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||P.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return P.hex(t)||P.rgb(t)||P.hsl(t)}},k=function(){function t(t,e,r){return(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t}return function(e,r,n,o){if(0<=e&&1>=e&&0<=n&&1>=n){var a=new Float32Array(11);if(e!==r||n!==o)for(var i=0;11>i;++i)a[i]=t(.1*i,e,n);return function(i){if(e===r&&n===o)return i;if(0===i)return 0;if(1===i)return 1;for(var u=0,s=1;10!==s&&a[s]<=i;++s)u+=.1;--s;s=u+(i-a[s])/(a[s+1]-a[s])*.1;var c=3*(1-3*n+3*e)*s*s+2*(3*n-6*e)*s+3*e;if(.001<=c){for(u=0;4>u&&0!==(c=3*(1-3*n+3*e)*s*s+2*(3*n-6*e)*s+3*e);++u){var f=t(s,e,n)-i;s=s-f/c}i=s}else if(0===c)i=s;else{s=u,u=u+.1;var l=0;do{0<(c=t(f=s+(u-s)/2,e,n)-i)?u=f:s=f}while(1e-7<Math.abs(c)&&10>++l);i=f}return t(i,r,o)}}}}(),F=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,r="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,r){return 1-t(1-e,r)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,r){return.5>e?t(2*e,r)/2:1-t(-2*e+2,r)/2}]},o={linear:k(.25,.25,.75,.75)},a={};for(e in n)a.type=e,n[a.type].forEach(function(t){return function(e,n){o["ease"+t.type+r[n]]=P.fnc(e)?e:k.apply($jscomp$this,e)}}(a)),a={type:a.type};return o}(),L={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,n,o){n[o]||(n[o]=[]),n[o].push(e+"("+r+")")}},C=[],E=0,T=function(){function t(){E=requestAnimationFrame(e)}function e(e){var r=C.length;if(r){for(var n=0;n<r;)C[n]&&C[n].tick(e),n++;t()}else cancelAnimationFrame(E),E=0}return t}();return A.version="2.2.0",A.speed=1,A.running=C,A.remove=function(t){t=b(t);for(var e=C.length;e--;)for(var r=C[e],n=r.animations,a=n.length;a--;)o(t,n[a].animatable.target)&&(n.splice(a,1),n.length||r.pause())},A.getValue=p,A.path=function(e,r){var n=P.str(e)?t(e)[0]:e,o=r||100;return function(t){return{el:n,property:t,totalLength:y(n)*(o/100)}}},A.setDashoffset=function(t){var e=y(t);return t.setAttribute("stroke-dasharray",e),e},A.bezier=k,A.easings=F,A.timeline=function(t){var e=A(t);return e.pause(),e.duration=0,e.add=function(r){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),n(r).forEach((function(r){var n=u(r,i(S,t||{}));n.targets=n.targets||t.targets,r=e.duration;var o=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=P.und(o)?r:d(o,r),e.began=!0,e.completed=!0,e.seek(n.offset),(n=A(n)).began=!0,n.completed=!0,n.duration>r&&(e.duration=n.duration),e.children.push(n)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},A.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},A}));
"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var a,r,n,o,i,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,a=0;a<o;a+=1)i[a]=str(a,u)||"null";return n=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,n}if(rep&&"object"==typeof rep)for(o=rep.length,a=0;a<o;a+=1)"string"==typeof rep[a]&&((n=str(r=rep[a],u))&&i.push(quote(r)+(gap?": ":":")+n));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&((n=str(r,u))&&i.push(quote(r)+(gap?": ":":")+n));return n=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,a){var r;if(gap="",indent="","number"==typeof a)for(r=0;r<a;r+=1)indent+=" ";else"string"==typeof a&&(indent=a);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var a,r,n=e[t];if(n&&"object"==typeof n)for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(void 0!==(r=walk(n,a))?n[a]=r:delete n[a]);return reviver.call(e,t,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var a=e.History=e.History||{},r=e.jQuery;if(void 0!==a.Adapter)throw new Error("History.js Adapter has already been loaded...");a.Adapter={bind:function(e,t,a){r(e).bind(t,a)},trigger:function(e,t,a){r(e).trigger(t,a)},extractEventData:function(e,t,a){return t&&t.originalEvent&&t.originalEvent[e]||a&&a[e]||void 0},onDomLoad:function(e){r(e)}},void 0!==a.init&&a.init()}(window),function(e,t){"use strict";var a=e.document,r=e.setTimeout||r,n=e.clearTimeout||n,o=e.setInterval||o,i=e.History=e.History||{};if(void 0!==i.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");i.initHtml4=function(){if(void 0!==i.initHtml4.initialized)return!1;i.initHtml4.initialized=!0,i.enabled=!0,i.savedHashes=[],i.isLastHash=function(e){return e===i.getHashByIndex()},i.isHashEqual=function(e,t){return(e=encodeURIComponent(e).replace(/%25/g,"%"))===(t=encodeURIComponent(t).replace(/%25/g,"%"))},i.saveHash=function(e){return!i.isLastHash(e)&&(i.savedHashes.push(e),!0)},i.getHashByIndex=function(e){return void 0===e?i.savedHashes[i.savedHashes.length-1]:e<0?i.savedHashes[i.savedHashes.length+e]:i.savedHashes[e]},i.discardedHashes={},i.discardedStates={},i.discardState=function(e,t,a){var r,n=i.getHashByState(e);return r={discardedState:e,backState:a,forwardState:t},i.discardedStates[n]=r,!0},i.discardHash=function(e,t,a){var r={discardedHash:e,backState:a,forwardState:t};return i.discardedHashes[e]=r,!0},i.discardedState=function(e){var t=i.getHashByState(e);return i.discardedStates[t]||!1},i.discardedHash=function(e){return i.discardedHashes[e]||!1},i.recycleState=function(e){var t=i.getHashByState(e);return i.discardedState(e)&&delete i.discardedStates[t],!0},i.emulated.hashChange&&(i.hashChangeInit=function(){i.checkerFunction=null;var t,r,n,s="",u=Boolean(i.getHash());return i.isInternetExplorer()?("historyjs-iframe",(t=a.createElement("iframe")).setAttribute("id","historyjs-iframe"),t.setAttribute("src","#"),t.style.display="none",a.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.close(),r="",n=!1,i.checkerFunction=function(){if(n)return!1;n=!0;var a=i.getHash(),o=i.getHash(t.contentWindow.document);return a!==s?(s=a,o!==a&&(r=o=a,t.contentWindow.document.open(),t.contentWindow.document.close(),t.contentWindow.document.location.hash=i.escapeHash(a)),i.Adapter.trigger(e,"hashchange")):o!==r&&(r=o,u&&""===o?i.back():i.setHash(o,!1)),n=!1,!0}):i.checkerFunction=function(){var t=i.getHash()||"";return t!==s&&(s=t,i.Adapter.trigger(e,"hashchange")),!0},i.intervalList.push(o(i.checkerFunction,i.options.hashChangeInterval)),!0},i.Adapter.onDomLoad(i.hashChangeInit)),i.emulated.pushState&&(i.onHashChange=function(t){var a,r=t&&t.newURL||i.getLocationHref(),n=i.getHashByUrl(r),o=null;return i.isLastHash(n)?(i.busy(!1),!1):(i.doubleCheckComplete(),i.saveHash(n),n&&i.isTraditionalAnchor(n)?(i.Adapter.trigger(e,"anchorchange"),i.busy(!1),!1):(o=i.extractState(i.getFullUrl(n||i.getLocationHref()),!0),i.isLastSavedState(o)?(i.busy(!1),!1):(i.getHashByState(o),(a=i.discardedState(o))?(i.getHashByIndex(-2)===i.getHashByState(a.forwardState)?i.back(!1):i.forward(!1),!1):(i.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},i.Adapter.bind(e,"hashchange",i.onHashChange),i.pushState=function(t,a,r,n){if(r=encodeURI(r).replace(/%25/g,"%"),i.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==n&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:n}),!1;i.busy(!0);var o=i.createStateObject(t,a,r),s=i.getHashByState(o),u=i.getState(!1),l=i.getHashByState(u),c=i.getHash(),d=i.expectedStateId==o.id;return i.storeState(o),i.expectedStateId=o.id,i.recycleState(o),i.setTitle(o),s===l?(i.busy(!1),!1):(i.saveState(o),d||i.Adapter.trigger(e,"statechange"),!i.isHashEqual(s,c)&&!i.isHashEqual(s,i.getShortUrl(i.getLocationHref()))&&i.setHash(s,!1),i.busy(!1),!0)},i.replaceState=function(t,a,r,n){if(r=encodeURI(r).replace(/%25/g,"%"),i.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==n&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:n}),!1;i.busy(!0);var o=i.createStateObject(t,a,r),s=i.getHashByState(o),u=i.getState(!1),l=i.getHashByState(u),c=i.getStateByIndex(-2);return i.discardState(u,o,c),s===l?(i.storeState(o),i.expectedStateId=o.id,i.recycleState(o),i.setTitle(o),i.saveState(o),i.Adapter.trigger(e,"statechange"),i.busy(!1)):i.pushState(o.data,o.title,o.url,!1),!0}),i.emulated.pushState&&i.getHash()&&!i.emulated.hashChange&&i.Adapter.onDomLoad((function(){i.Adapter.trigger(e,"hashchange")}))},void 0!==i.init&&i.init()}(window),function(e,t){"use strict";var a=e.console||t,r=e.document,n=e.navigator,o=!1,i=e.setTimeout,s=e.clearTimeout,u=e.setInterval,l=e.clearInterval,c=e.JSON,d=e.alert,p=e.History=e.History||{},h=e.history;try{(o=e.sessionStorage).setItem("TEST","1"),o.removeItem("TEST")}catch(e){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,void 0!==p.init)throw new Error("History.js Core has already been loaded...");p.init=function(e){return void 0!==p.Adapter&&(void 0!==p.initCore&&p.initCore(),void 0!==p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(g){if(void 0!==p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||r.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if(null!=t){for(e=0;e<t.length;e++)l(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(){var e,t,n,o,i,s=void 0!==a&&void 0!==a.log&&void 0!==a.log.apply,u=r.getElementById("log");for(s?(e=(o=Array.prototype.slice.call(arguments)).shift(),void 0!==a.debug?a.debug.apply(a,[e,o]):a.log.apply(a,[e,o])):e="\n"+arguments[0]+"\n",t=1,n=arguments.length;t<n;++t){if("object"==typeof(i=arguments[t])&&void 0!==c)try{i=c.stringify(i)}catch(e){}e+="\n"+i+"\n"}return u?(u.value+=e+"\n-----\n",u.scrollTop=u.scrollHeight-u.clientHeight):s||d(e),!0},p.getInternetExplorerMajorVersion=function(){return p.getInternetExplorerMajorVersion.cached=void 0!==p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=r.createElement("div"),a=t.getElementsByTagName("i");(t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&a[0];);return e>4&&e}()},p.isInternetExplorer=function(){return p.isInternetExplorer.cached=void 0!==p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion())},p.options.html4Mode?p.emulated={pushState:!0,hashChange:!0}:p.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(n.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(n.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,a;return e?(t=c.stringify(e),a=c.parse(t)):a={},a},p.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},p.getBaseHref=function(){var e=r.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},p.getBaseUrl=function(){return p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl()},p.getPageUrl=function(){return((p.getState(!1,!1)||{}).url||p.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,(function(e,t,a){return/\./.test(e)?e:e+"/"}))},p.getBasePageUrl=function(){return p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,(function(e,t,a){return/[^\/]$/.test(e)?"":e})).replace(/\/+$/,"")+"/"},p.getFullUrl=function(e,t){var a=e,r=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(a="/"===r?p.getRootUrl()+e.replace(/^\/+/,""):"#"===r?p.getPageUrl().replace(/#.*/,"")+e:"?"===r?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),a.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,a=p.getBaseUrl(),r=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(a,"")),t=t.replace(r,"/"),p.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return(e=e||r).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash||-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=p.getLastSavedState();return!a&&t&&(a=p.createStateObject()),e&&((a=p.cloneObject(a)).url=a.cleanUrl||a.url),a},p.getIdByState=function(e){var t,a=p.extractId(e.url);if(!a)if(t=p.getStateString(e),void 0!==p.stateToId[t])a=p.stateToId[t];else if(void 0!==p.store.stateToId[t])a=p.store.stateToId[t];else{for(;a=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==p.idToState[a]||void 0!==p.store.idToState[a];);p.stateToId[t]=a,p.idToState[a]=e}return a},p.normalizeState=function(e){var t,a;return e&&"object"==typeof e||(e={}),void 0!==e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),(t={}).normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,a=!p.isEmptyObject(t.data),(t.title||a)&&!0!==p.options.disableSuid&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,a){var r={data:e,title:t,url:a};return r=p.normalizeState(r)},p.getStateById=function(e){return e=String(e),p.idToState[e]||p.store.idToState[e]||t},p.getStateString=function(e){var t;return t={data:p.normalizeState(e).data,title:e.title,url:e.url},c.stringify(t)},p.getStateId=function(e){return p.normalizeState(e).id},p.getHashByState=function(e){return p.normalizeState(e).hash},p.extractId=function(e){var t,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,(t=/(.*)\&_suid=([0-9]+)$/.exec(a))&&t[1]||e,(t?String(t[2]||""):"")||!1},p.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},p.extractState=function(e,t){var a,r,n=null;return t=t||!1,(a=p.extractId(e))&&(n=p.getStateById(a)),n||(r=p.getFullUrl(e),(a=p.getIdByUrl(r)||!1)&&(n=p.getStateById(a)),!n&&t&&!p.isTraditionalAnchor(e)&&(n=p.createStateObject(null,null,r))),n},p.getIdByUrl=function(e){return p.urlToId[e]||p.store.urlToId[e]||t},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t;return(t=p.extractState(e.url))&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t=!1;return p.savedStates.length&&(t=e.id===p.getLastSavedState().id),t},p.saveState=function(e){return!p.isLastSavedState(e)&&(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){return void 0===e?p.savedStates[p.savedStates.length-1]:e<0?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){return p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t=p.getLocationHref(e);return p.getHashByUrl(t)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},p.setHash=function(e,t){var a,n;return!1!==t&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),(a=p.extractState(e,!0))&&!p.emulated.pushState?p.pushState(a.data,a.title,a.url,!1):p.getHash()!==e&&(p.bugs.setHash?(n=p.getPageUrl(),p.pushState(null,null,n+"#"+e,!1)):r.location.hash=e),p)},p.escapeHash=function(t){var a=p.normalizeHash(t);return a=e.encodeURIComponent(a),p.bugs.hashEscape||(a=a.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),a},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,a=e.title;a||(t=p.getStateByIndex(0))&&t.url===e.url&&(a=t.title||p.options.initialTitle);try{r.getElementsByTagName("title")[0].innerHTML=a.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return r.title=a,p},p.queues=[],p.busy=function(e){if(void 0!==e?p.busy.flag=e:void 0===p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var t=function(){var e,a,r;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)0!==(a=p.queues[e]).length&&(r=a.shift(),p.fireQueueItem(r),p.busy.timeout=i(t,p.options.busyDelay))};p.busy.timeout=i(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=i((function(){return p.doubleCheckClear(),p.stateChanged||e(),!0}),p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t=p.extractState(p.getLocationHref());if(!p.isLastSavedState(t))return t||p.createStateObject(),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return!1!==e&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck((function(){p.back(!1)})),h.go(-1),!0)},p.forward=function(e){return!1!==e&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck((function(){p.forward(!1)})),h.go(1),!0)},p.go=function(e,t){var a;if(e>0)for(a=1;a<=e;++a)p.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(a=-1;a>=e;--a)p.back(t)}return p},p.emulated.pushState){var f=function(){};p.pushState=p.pushState||f,p.replaceState=p.replaceState||f}else p.onPopState=function(t,a){var r,n,o=!1,i=!1;return p.doubleCheckComplete(),(r=p.getHash())?((n=p.extractState(r||p.getLocationHref(),!0))?p.replaceState(n.data,n.title,n.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):((i=(o=p.Adapter.extractEventData("state",t,a)||!1)?p.getStateById(o):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()))||(i=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(i)?(p.busy(!1),!1):(p.storeState(i),p.saveState(i),p.setTitle(i),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,a,r,n){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:n}),!1;p.busy(!0);var o=p.createStateObject(t,a,r);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,h.pushState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,a,r,n){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:n}),!1;p.busy(!0);var o=p.createStateObject(t,a,r);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,h.replaceState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0};if(o){try{p.store=c.parse(o.getItem("History.store"))||{}}catch(e){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),o&&(p.onUnload=function(){var e,t,a;try{e=c.parse(o.getItem("History.store"))||{}}catch(t){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),a=c.stringify(e);try{o.setItem("History.store",a)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;o.length&&(o.removeItem("History.store"),o.setItem("History.store",a))}},p.intervalList.push(u(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(u(p.safariStatePoll,p.options.safariPollInterval)),"Apple Computer, Inc."!==n.vendor&&"Mozilla"!==(n.appCodeName||"")||(p.Adapter.bind(e,"hashchange",(function(){p.Adapter.trigger(e,"popstate")})),p.getHash()&&p.Adapter.onDomLoad((function(){p.Adapter.trigger(e,"hashchange")}))))},(!p.options||!p.options.delayInit)&&p.init()}(window);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var o=/\+/g;function i(e){return r.raw?e:encodeURIComponent(e)}function n(e){return i(r.json?JSON.stringify(e):String(e))}function t(i,n){var t=r.raw?i:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),r.json?JSON.parse(e):e}catch(e){}}(i);return e.isFunction(n)?n(t):t}var r=e.cookie=function(o,c,u){if(void 0!==c&&!e.isFunction(c)){if("number"==typeof(u=e.extend({},r.defaults,u)).expires){var a=u.expires,d=u.expires=new Date;d.setTime(+d+864e5*a)}return document.cookie=[i(o),"=",n(c),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u["x-city"]?"; x-city="+u["x-city"]:void 0,u.secure?"; secure":""].join("")}for(var f,p=o?void 0:{},s=document.cookie?document.cookie.split("; "):[],x=0,m=s.length;x<m;x++){var v=s[x].split("="),y=(f=v.shift(),r.raw?f:decodeURIComponent(f)),k=v.join("=");if(o&&o===y){p=t(k,c);break}o||void 0===(k=t(k))||(p[y]=k)}return p};r.defaults={},e.removeCookie=function(o,i){return void 0!==e.cookie(o)&&(e.cookie(o,"",e.extend({},i,{expires:-1})),!e.cookie(o))}}));
var $jscomp={scope:{},findInternal:function(t,a,e){t instanceof String&&(t=String(t));for(var n=t.length,s=0;s<n;s++){var r=t[s];if(a.call(e,r,s,t))return{i:s,v:r}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,a,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[a]=e.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,a,e,n){if(a){for(e=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var s=t[n];s in e||(e[s]={}),e=e[s]}(a=a(n=e[t=t[t.length-1]]))!=n&&null!=a&&$jscomp.defineProperty(e,t,{configurable:!0,writable:!0,value:a})}},$jscomp.polyfill("Array.prototype.find",(function(t){return t||function(t,a){return $jscomp.findInternal(this,t,a).v}}),"es6-impl","es3"),function(t,a,e){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(a||e)}((function(t){var a=function(a,e,n){var s={invalid:[],getCaret:function(){try{var t,e=0,n=a.get(0),r=document.selection,o=n.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=r.createRange()).moveStart("character",-s.val().length),e=t.text.length):(o||"0"===o)&&(e=o),e}catch(t){}},setCaret:function(t){try{if(a.is(":focus")){var e,n=a.get(0);n.setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())}}catch(t){}},events:function(){a.on("keydown.mask",(function(t){a.data("mask-keycode",t.keyCode||t.which),a.data("mask-previus-value",a.val()),a.data("mask-previus-caret-pos",s.getCaret()),s.maskDigitPosMapOld=s.maskDigitPosMap})).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",s.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){a.keydown().keyup()}),100)})).on("change.mask",(function(){a.data("changed",!0)})).on("blur.mask",(function(){i===s.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)})).on("blur.mask",(function(){i=s.val()})).on("focus.mask",(function(a){!0===n.selectOnFocus&&t(a.target).select()})).on("focusout.mask",(function(){n.clearIfNotMatch&&!r.test(s.val())&&s.val("")}))},getRegexMask:function(){for(var t,a,n,s,r=[],i=0;i<e.length;i++)(t=o.translation[e.charAt(i)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(t=t.recursive)?(r.push(e.charAt(i)),s={digit:e.charAt(i),pattern:a}):r.push(n||t?a+"?":a)):r.push(e.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),s&&(r=r.replace(new RegExp("("+s.digit+"(.*"+s.digit+")?)"),"($1)?").replace(new RegExp(s.digit,"g"),s.pattern)),new RegExp(r)},destroyEvents:function(){a.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var e=a.is("input")?"val":"text";return 0<arguments.length?(a[e]()!==t&&a[e](t),e=a):e=a[e](),e},calculateCaretPosition:function(){var t=a.data("mask-previus-value")||"",e=s.getMasked(),n=s.getCaret();if(t!==e){var r,o=a.data("mask-previus-caret-pos")||0,i=(e=e.length,t.length),l=t=0,c=0,u=0;for(r=n;r<e&&s.maskDigitPosMap[r];r++)l++;for(r=n-1;0<=r&&s.maskDigitPosMap[r];r--)t++;for(r=n-1;0<=r;r--)s.maskDigitPosMap[r]&&c++;for(r=o-1;0<=r;r--)s.maskDigitPosMapOld[r]&&u++;n>i?n=10*e:o>=n&&o!==i?s.maskDigitPosMapOld[n]||(o=n,n=n-(u-c)-t,s.maskDigitPosMap[n]&&(n=o)):n>o&&(n=n+(c-u)+l)}return n},behaviour:function(e){e=e||window.event,s.invalid=[];var n=a.data("mask-keycode");if(-1===t.inArray(n,o.byPassKeys)){n=s.getMasked();var r=s.getCaret();return setTimeout((function(){s.setCaret(s.calculateCaretPosition())}),t.jMaskGlobals.keyStrokeCompensation),s.val(n),s.setCaret(r),s.callbacks(e)}},getMasked:function(t,a){var r,i,l,c=[],u=void 0===a?s.val():a+"",p=0,f=e.length,d=0,k=u.length,h=1,v="push",g=-1,m=0,y=[];for(n.reverse?(v="unshift",h=-1,r=0,p=f-1,d=k-1,i=function(){return-1<p&&-1<d}):(r=f-1,i=function(){return p<f&&d<k});i();){var M=e.charAt(p),b=u.charAt(d),j=o.translation[M];j?(b.match(j.pattern)?(c[v](b),j.recursive&&(-1===g?g=p:p===r&&p!==g&&(p=g-h),r===g&&(p-=h)),p+=h):b===l?(m--,l=void 0):j.optional?(p+=h,d-=h):j.fallback?(c[v](j.fallback),p+=h,d-=h):s.invalid.push({p:d,v:b,e:j.pattern}),d+=h):(t||c[v](M),b===M?(y.push(d),d+=h):(l=M,y.push(d+m),m++),p+=h)}return u=e.charAt(r),f!==k+1||o.translation[u]||c.push(u),c=c.join(""),s.mapMaskdigitPositions(c,y,k),c},mapMaskdigitPositions:function(t,a,e){for(t=n.reverse?t.length-e:0,s.maskDigitPosMap={},e=0;e<a.length;e++)s.maskDigitPosMap[a[e]+t]=1},callbacks:function(t){var r=s.val(),o=r!==i,l=[r,t,a,n],c=function(t,a,e){"function"==typeof n[t]&&a&&n[t].apply(this,e)};c("onChange",!0===o,l),c("onKeyPress",!0===o,l),c("onComplete",r.length===e.length,l),c("onInvalid",0<s.invalid.length,[r,t,a,s.invalid,n])}};a=t(a);var r,o=this,i=s.val();e="function"==typeof e?e(s.val(),void 0,a,n):e,o.mask=e,o.options=n,o.remove=function(){var t=s.getCaret();return o.options.placeholder&&a.removeAttr("placeholder"),a.data("mask-maxlength")&&a.removeAttr("maxlength"),s.destroyEvents(),s.val(o.getCleanVal()),s.setCaret(t),a},o.getCleanVal=function(){return s.getMasked(!0)},o.getMaskedVal=function(t){return s.getMasked(!1,t)},o.init=function(i){if(i=i||!1,n=n||{},o.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,o.byPassKeys=t.jMaskGlobals.byPassKeys,o.translation=t.extend({},t.jMaskGlobals.translation,n.translation),o=t.extend(!0,{},o,n),r=s.getRegexMask(),i)s.events(),s.val(s.getMasked());else{n.placeholder&&a.attr("placeholder",n.placeholder),a.data("mask")&&a.attr("autocomplete","off"),i=0;for(var l=!0;i<e.length;i++){var c=o.translation[e.charAt(i)];if(c&&c.recursive){l=!1;break}}l&&a.attr("maxlength",e.length).data("mask-maxlength",!0),s.destroyEvents(),s.events(),i=s.getCaret(),s.val(s.getMasked()),s.setCaret(i)}},o.init(!a.is("input"))};t.maskWatchers={};var e=function(){var e=t(this),s={},r=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(s.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(s.selectOnFocus=!0),n(e,r,s))return e.data("mask",new a(this,r,s))},n=function(a,e,n){n=n||{};var s=t(a).data("mask"),r=JSON.stringify;a=t(a).val()||t(a).text();try{return"function"==typeof e&&(e=e(a)),"object"!=typeof s||r(s.options)!==r(n)||s.mask!==e}catch(t){}},s=function(t){var a,e=document.createElement("div");return(a=(t="on"+t)in e)||(e.setAttribute(t,"return;"),a="function"==typeof e[t]),a};t.fn.mask=function(e,s){s=s||{};var r=this.selector,o=(i=t.jMaskGlobals).watchInterval,i=s.watchInputs||i.watchInputs,l=function(){if(n(this,e,s))return t(this).data("mask",new a(this,e,s))};return t(this).each(l),r&&""!==r&&i&&(clearInterval(t.maskWatchers[r]),t.maskWatchers[r]=setInterval((function(){t(document).find(r).each(l)}),o)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each((function(){var a=t(this).data("mask");a&&a.remove().removeData("mask")}))},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(a){((a=a||t.jMaskGlobals.maskElements)instanceof t?a:t(a)).filter(t.jMaskGlobals.dataMaskAttr).each(e)},s={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&s("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(s=t.jMaskGlobals=t.extend(!0,{},s,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval((function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()}),s.watchInterval)}),window.jQuery,window.Zepto);
"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):e.Plyr=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,a=!1,s=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,s=e}finally{try{n||null==r.return||r.return()}finally{if(a)throw s}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(e){return null!=e?e.constructor:null},r=function(e,t){return Boolean(e&&t&&e instanceof t)},l=function(e){return null==e},c=function(e){return o(e)===Object},u=function(e){return o(e)===String},d=function(e){return Array.isArray(e)},h=function(e){return r(e,NodeList)},p=function(e){return l(e)||(u(e)||d(e)||h(e))&&!e.length||c(e)&&!Object.keys(e).length},f=l,m=c,g=function(e){return o(e)===Number&&!Number.isNaN(e)},y=u,v=function(e){return o(e)===Boolean},b=function(e){return o(e)===Function},k=d,w=h,T=function(e){return r(e,Element)},A=function(e){return r(e,Event)},E=function(e){return r(e,KeyboardEvent)},P=function(e){return r(e,TextTrack)||!l(e)&&u(e.kind)},C=function(e){if(r(e,window.URL))return!0;if(!u(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!p(new URL(t).hostname)}catch(e){return!1}},S=p,M=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function N(e,t,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!S(t)&&b(i)){var r=t.split(" "),l=o;M&&(l={passive:s,capture:o}),r.forEach((function(t){n&&n.eventListeners&&a&&n.eventListeners.push({element:e,type:t,callback:i,options:l}),e[a?"addEventListener":"removeEventListener"](t,i,l)}))}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];N.call(this,e,t,i,!0,n,a)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];N.call(this,e,t,i,!1,n,a)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];N.call(this,e,t,(function s(){x(e,t,s,n,a);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];i.apply(this,r)}),!0,n,a)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(T(e)&&!S(t)){var a=new CustomEvent(t,{bubbles:i,detail:Object.assign({},n,{plyr:this})});e.dispatchEvent(a)}}function q(e,t){var i=e.length?e:[e];Array.from(i).reverse().forEach((function(e,i){var n=i>0?t.cloneNode(!0):t,a=e.parentNode,s=e.nextSibling;n.appendChild(e),s?a.insertBefore(n,s):a.appendChild(n)}))}function O(e,t){T(e)&&!S(t)&&Object.entries(t).filter((function(e){var t=a(e,2)[1];return!f(t)})).forEach((function(t){var i=a(t,2),n=i[0],s=i[1];return e.setAttribute(n,s)}))}function j(e,t,i){var n=document.createElement(e);return m(t)&&O(n,t),y(i)&&(n.innerText=i),n}function R(e,t,i,n){T(t)&&t.appendChild(j(e,i,n))}function B(e){w(e)||k(e)?Array.from(e).forEach(B):T(e)&&T(e.parentNode)&&e.parentNode.removeChild(e)}function D(e){if(T(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function H(e,t){return T(t)&&T(t.parentNode)&&T(e)?(t.parentNode.replaceChild(e,t),e):null}function V(e,t){if(!y(e)||S(e))return{};var i={},n=t;return e.split(",").forEach((function(e){var t=e.trim(),a=t.replace(".",""),s=t.replace(/[[\]]/g,"").split("="),o=s[0],r=s.length>1?s[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":m(n)&&y(n.class)&&(n.class+=" ".concat(a)),i.class=a;break;case"#":i.id=t.replace("#","");break;case"[":i[o]=r}})),i}function F(e,t){if(T(e)){var i=t;v(i)||(i=!e.hidden),i?e.setAttribute("hidden",""):e.removeAttribute("hidden")}}function U(e,t,i){if(w(e))return Array.from(e).map((function(e){return U(e,t,i)}));if(T(e)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function z(e,t){return T(e)&&e.classList.contains(t)}function K(e,t){var i={Element:Element};return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function W(e){return this.elements.container.querySelectorAll(e)}function Y(e){return this.elements.container.querySelector(e)}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T(e)&&(e.focus(),t&&U(e,this.config.classNames.tabFocus))}var Q,$,G,X=(Q=document.createElement("span"),$={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},G=Object.keys($).find((function(e){return void 0!==Q.style[e]})),!!y(G)&&$[G]);function Z(e){setTimeout((function(){try{F(e,!0),e.offsetHeight,F(e,!1)}catch(e){}}),0)}var ee,te={isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},ie={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ne={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=te.isIPhone&&i&&ne.playsinline,a=ne[e]||"html5"!==t;return{api:a,ui:a&&ne.rangeInput&&("video"!==e||!te.isIPhone||n)}},pip:!(te.isIPhone||!b(j("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||j("video").disablePictureInPicture)),airplay:b(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){var t,i=a(e.split("/"),1)[0];if(!this.isHTML5||i!==this.type)return!1;e&&e.includes("codecs=")?t=e:"audio/mpeg"===e?t="audio/mpeg;":e in ie&&(t="".concat(e,'; codecs="').concat(ie[e],'"'));try{return Boolean(t&&this.media.canPlayType(t).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(ee=document.createElement("input"),ee.type="range","range"===ee.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==X,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},ae={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){return ne.mime.call(e,t.getAttribute("type"))})):[]},getQualityOptions:function(){return ae.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},extend:function(){if(this.isHTML5){var e=this;Object.defineProperty(e.media,"quality",{get:function(){var t=ae.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){var i=ae.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(i){var n=e.media,a=n.currentTime,s=n.paused,o=n.preload,r=n.readyState;e.media.src=i.getAttribute("src"),("none"!==o||r)&&(e.once("loadedmetadata",(function(){e.currentTime=a,s||e.play()})),e.media.load()),_.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(B(ae.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function se(e){return k(e)?e.filter((function(t,i){return e.indexOf(t)===i})):e}function oe(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function re(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(!i.length)return e;var s=i.shift();return m(s)?(Object.keys(s).forEach((function(t){m(s[t])?(Object.keys(e).includes(t)||Object.assign(e,n({},t,{})),re(e[t],s[t])):Object.assign(e,n({},t,s[t]))})),re.apply(void 0,[e].concat(i))):e}function le(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return S(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return i[t].toString()}))}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),i.toString())}function ue(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function de(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var he={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(e)||S(t))return"";var i=oe(t.i18n,e);if(S(i))return Object.keys(he).includes(e)?he[e]:"";var n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach((function(e){var t=a(e,2),n=t[0],s=t[1];i=ce(i,n,s)})),i},fe=function(){function t(i){e(this,t),this.enabled=i.config.storage.enabled,this.key=i.config.storage.key}return i(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var i=window.localStorage.getItem(this.key);if(S(i))return null;var n=JSON.parse(i);return y(e)&&e.length?n[e]:n}},{key:"set",value:function(e){if(t.supported&&this.enabled&&m(e)){var i=this.get();S(i)&&(i={}),re(i,e),window.localStorage.setItem(this.key,JSON.stringify(i))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(i,n){try{var a=new XMLHttpRequest;if(!("withCredentials"in a))return;a.addEventListener("load",(function(){if("text"===t)try{i(JSON.parse(a.responseText))}catch(e){i(a.responseText)}else i(a.response)})),a.addEventListener("error",(function(){throw new Error(a.status)})),a.open("GET",e,!0),a.responseType=t,a.send()}catch(e){n(e)}}))}function ge(e,t){if(y(e)){var i=y(t),n=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){var s=fe.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),i&&o.setAttribute("id",t),s){var r=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==r){var l=JSON.parse(r);a(o,l.content)}}me(e).then((function(e){S(e)||(s&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),a(o,e))})).catch((function(){}))}}}var ye=function(e){return parseInt(e/60/60%60,10)},ve=function(e){return parseInt(e/60%60,10)},be=function(e){return parseInt(e%60,10)};function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!g(e))return ke(null,t,i);var n=function(e){return"0".concat(e).slice(-2)},a=ye(e),s=ve(e),o=be(e);return a=t||a>0?"".concat(a,":"):"","".concat(i&&e>0?"-":"").concat(a).concat(n(s),":").concat(n(o))}var we={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||te.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=Y.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:W.call(this,this.config.selectors.buttons.play),pause:Y.call(this,this.config.selectors.buttons.pause),restart:Y.call(this,this.config.selectors.buttons.restart),rewind:Y.call(this,this.config.selectors.buttons.rewind),fastForward:Y.call(this,this.config.selectors.buttons.fastForward),mute:Y.call(this,this.config.selectors.buttons.mute),pip:Y.call(this,this.config.selectors.buttons.pip),airplay:Y.call(this,this.config.selectors.buttons.airplay),settings:Y.call(this,this.config.selectors.buttons.settings),captions:Y.call(this,this.config.selectors.buttons.captions),fullscreen:Y.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Y.call(this,this.config.selectors.progress),this.elements.inputs={seek:Y.call(this,this.config.selectors.inputs.seek),volume:Y.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Y.call(this,this.config.selectors.display.buffer),currentTime:Y.call(this,this.config.selectors.display.currentTime),duration:Y.call(this,this.config.selectors.display.duration)},T(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i=we.getIconUrl.call(this),n="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),a=document.createElementNS("http://www.w3.org/2000/svg","svg");O(a,re(t,{role:"presentation",focusable:"false"}));var s=document.createElementNS("http://www.w3.org/2000/svg","use"),o="".concat(n,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",o),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(s),a},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=pe(e,this.config);return j("span",Object.assign({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),i)},createBadge:function(e){if(S(e))return null;var t=j("span",{class:this.config.classNames.menu.value});return t.appendChild(j("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=Object.assign({},t),n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=ce(e,"-"," "),e=ce(e,"_"," "),ce(e=ue(e)," ","")}(e)).charAt(0).toLowerCase()+e.slice(1)}(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(a[e]=i[e],delete i[e])})),"button"!==a.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.includes(this.config.classNames.control)||(i.class+=" ".concat(this.config.classNames.control)):i.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",a.label="play",a.icon="play";break;default:S(a.label)&&(a.label=n),S(a.icon)&&(a.icon=e)}var s=j(a.element);return a.toggle?(s.appendChild(we.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),s.appendChild(we.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),s.appendChild(we.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),s.appendChild(we.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(s.appendChild(we.createIcon.call(this,a.icon)),s.appendChild(we.createLabel.call(this,a.label))),re(i,V(this.config.selectors.buttons[n],i)),O(s,i),"play"===n?(k(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(s)):this.elements.buttons[n]=s,s},createRange:function(e,t){var i=j("input",re(V(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":pe(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,we.updateRangeFill.call(this,i),i},createProgress:function(e,t){var i=j("progress",re(V(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},t));if("volume"!==e){i.appendChild(j("span",null,"0"));var n={played:"played",buffer:"buffered"}[e],a=n?pe(n,this.config):"";i.innerText="% ".concat(a.toLowerCase())}return this.elements.display[e]=i,i},createTime:function(e){var t=V(this.config.selectors.display[e]),i=j("div",re(t,{class:"".concat(this.config.classNames.display.time," ").concat(t.class?t.class:"").trim(),"aria-label":pe(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var i=this;L(e,"keydown keyup",(function(n){if([32,38,39,40].includes(n.which)&&(n.preventDefault(),n.stopPropagation(),"keydown"!==n.type)){var a,s=K(e,'[role="menuitemradio"]');!s&&[32,39].includes(n.which)?we.showMenuPanel.call(i,t,!0):32!==n.which&&(40===n.which||s&&39===n.which?(a=e.nextElementSibling,T(a)||(a=e.parentNode.firstElementChild)):(a=e.previousElementSibling,T(a)||(a=e.parentNode.lastElementChild)),J.call(i,a,!0))}}),!1),L(e,"keyup",(function(e){13===e.which&&we.focusFirstMenuItem.call(i,null,!0)}))},createMenuItem:function(e){var t=this,i=e.value,n=e.list,a=e.type,s=e.title,o=e.badge,r=void 0===o?null:o,l=e.checked,c=void 0!==l&&l,u=V(this.config.selectors.inputs[a]),d=j("button",re(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:i})),h=j("span");h.innerHTML=s,T(r)&&h.appendChild(r),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return K(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!E(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,a){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}we.showMenuPanel.call(t,"home",E(e))}}),a,!1),we.bindMenuItemShortcuts.call(this,d,a),n.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g(e)?ke(e,ye(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];T(e)&&g(t)&&(e.innerText=we.formatTime(t,i))},updateVolume:function(){this.supported.ui&&(T(this.elements.inputs.volume)&&we.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),T(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(e)&&(e.value=t,we.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&A(e)){var i,n,a=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":i=this.currentTime,n=this.duration,a=0===i||0===n||Number.isNaN(i)||Number.isNaN(n)?0:(i/n*100).toFixed(2),"timeupdate"===e.type&&we.setRange.call(this,this.elements.inputs.seek,a);break;case"playing":case"progress":!function(e,i){var n=g(i)?i:0,a=T(e)?e:t.elements.display.buffer;if(T(a)){a.value=n;var s=a.getElementsByTagName("span")[0];T(s)&&(s.childNodes[0].nodeValue=n)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=A(e)?e.target:e;if(T(t)&&"range"===t.getAttribute("type")){if(K(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=we.formatTime(this.currentTime),n=we.formatTime(this.duration),a=pe("seekLabel",this.config);t.setAttribute("aria-valuetext",a.replace("{currentTime}",i).replace("{duration}",n))}else if(K(t,this.config.selectors.inputs.volume)){var s=100*t.value;t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);te.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&T(this.elements.inputs.seek)&&T(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.progress.getBoundingClientRect(),a="".concat(this.config.classNames.tooltip,"--visible"),s=function(e){U(t.elements.display.seekTooltip,a,e)};if(this.touch)s(!1);else{if(A(e))i=100/n.width*(e.pageX-n.left);else{if(!z(this.elements.display.seekTooltip,a))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:i>100&&(i=100),we.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),A(e)&&["mouseenter","mouseleave"].includes(e.type)&&s("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!T(this.elements.display.duration)&&this.config.invertTime;we.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||we.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return F(this.elements.display.currentTime,!0),void F(this.elements.progress,!0);T(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=T(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&we.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&we.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),we.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){F(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var n=this.elements.settings.panels[e],a=null,s=t;if("captions"===e)a=this.currentTrack;else{if(a=S(i)?this[e]:i,S(a)&&(a=this.config[e].default),!S(this.options[e])&&!this.options[e].includes(a))return void this.debug.warn("Unsupported value of '".concat(a,"' for ").concat(e));if(!this.config[e].options.includes(a))return void this.debug.warn("Disabled value of '".concat(a,"' for ").concat(e))}if(T(s)||(s=n&&n.querySelector('[role="menu"]')),T(s)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=we.getLabel.call(this,e,a);var o=s&&s.querySelector('[value="'.concat(a,'"]'));T(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?pe("normal",this.config):"".concat(t,"&times;");case"quality":if(g(t)){var i=pe("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return ue(t);case"captions":return Ee.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(T(this.elements.settings.panels.quality)){var i=this.elements.settings.panels.quality.querySelector('[role="menu"]');k(e)&&(this.options.quality=se(e).filter((function(e){return t.config.quality.options.includes(e)})));var n=!S(this.options.quality)&&this.options.quality.length>1;we.toggleMenuButton.call(this,"quality",n),D(i),we.checkMenu.call(this),n&&(this.options.quality.sort((function(e,i){var n=t.config.quality.options;return n.indexOf(e)>n.indexOf(i)?1:-1})).forEach((function(e){we.createMenuItem.call(t,{value:e,list:i,type:"quality",title:we.getLabel.call(t,"quality",e),badge:function(e){var i=pe("qualityBadge.".concat(e),t.config);return i.length?we.createBadge.call(t,i):null}(e)})})),we.updateSetting.call(this,"quality",i))}},setCaptionsMenu:function(){var e=this;if(T(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=Ee.getTracks.call(this),n=Boolean(i.length);if(we.toggleMenuButton.call(this,"captions",n),D(t),we.checkMenu.call(this),n){var a=i.map((function(i,n){return{value:n,checked:e.captions.toggled&&e.currentTrack===n,title:Ee.getLabel.call(e,i),badge:i.language&&we.createBadge.call(e,i.language.toUpperCase()),list:t,type:"language"}}));a.unshift({value:-1,checked:!this.captions.toggled,title:pe("disabled",this.config),list:t,type:"language"}),a.forEach(we.createMenuItem.bind(this)),we.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(e){var t=this;if(T(this.elements.settings.panels.speed)){var i=this.elements.settings.panels.speed.querySelector('[role="menu"]');k(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter((function(e){return t.config.speed.options.includes(e)}));var n=!S(this.options.speed)&&this.options.speed.length>1;we.toggleMenuButton.call(this,"speed",n),D(i),we.checkMenu.call(this),n&&(this.options.speed.forEach((function(e){we.createMenuItem.call(t,{value:e,list:i,type:"speed",title:we.getLabel.call(t,"speed",e)})})),we.updateSetting.call(this,"speed",i))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!S(e)&&Object.values(e).some((function(e){return!e.hidden}));F(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var i=e;T(i)||(i=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var n=i.querySelector('[role^="menuitem"]');J.call(this,n,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(T(t)&&T(i)){var n=t.hidden,a=n;if(v(e))a=e;else if(E(e)&&27===e.which)a=!1;else if(A(e)){var s=t.contains(e.target);if(s||!s&&e.target!==i&&a)return}i.setAttribute("aria-expanded",a),F(t,!a),U(this.elements.container,this.config.classNames.menu.open,a),a&&E(e)?we.focusFirstMenuItem.call(this,null,!0):a||n||J.call(this,i,E(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return B(t),{width:i,height:n}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("plyr-settings-".concat(this.id,"-").concat(t));if(T(n)){var a=n.parentNode,s=Array.from(a.children).find((function(e){return!e.hidden}));if(ne.transitions&&!ne.reducedMotion){a.style.width="".concat(s.scrollWidth,"px"),a.style.height="".concat(s.scrollHeight,"px");var o=we.getMenuSize.call(this,n);L.call(this,a,X,(function t(i){i.target===a&&["width","height"].includes(i.propertyName)&&(a.style.width="",a.style.height="",x.call(e,a,X,t))})),a.style.width="".concat(o.width,"px"),a.style.height="".concat(o.height,"px")}F(s,!0),F(n,!1),we.focusFirstMenuItem.call(this,n,i)}},setDownloadLink:function(){var e=this.elements.buttons.download;T(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,i=j("div",V(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&i.appendChild(we.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&i.appendChild(we.createButton.call(this,"rewind")),this.config.controls.includes("play")&&i.appendChild(we.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&i.appendChild(we.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var n=j("div",V(this.config.selectors.progress));if(n.appendChild(we.createRange.call(this,"seek",{id:"plyr-seek-".concat(e.id)})),n.appendChild(we.createProgress.call(this,"buffer")),this.config.tooltips.seek){var a=j("span",{class:this.config.classNames.tooltip},"00:00");n.appendChild(a),this.elements.display.seekTooltip=a}this.elements.progress=n,i.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&i.appendChild(we.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&i.appendChild(we.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var s=j("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&s.appendChild(we.createButton.call(this,"mute")),this.config.controls.includes("volume")){var o={max:1,step:.05,value:this.config.volume};s.appendChild(we.createRange.call(this,"volume",re(o,{id:"plyr-volume-".concat(e.id)}))),this.elements.volume=s}i.appendChild(s)}if(this.config.controls.includes("captions")&&i.appendChild(we.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!S(this.config.settings)){var r=j("div",{class:"plyr__menu",hidden:""});r.appendChild(we.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var l=j("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),c=j("div"),u=j("div",{id:"plyr-settings-".concat(e.id,"-home")}),d=j("div",{role:"menu"});u.appendChild(d),c.appendChild(u),this.elements.settings.panels.home=u,this.config.settings.forEach((function(i){var n=j("button",re(V(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));we.bindMenuItemShortcuts.call(t,n,i),L(n,"click",(function(){we.showMenuPanel.call(t,i,!1)}));var a=j("span",null,pe(i,t.config)),s=j("span",{class:t.config.classNames.menu.value});s.innerHTML=e[i],a.appendChild(s),n.appendChild(a),d.appendChild(n);var o=j("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),r=j("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});r.appendChild(j("span",{"aria-hidden":!0},pe(i,t.config))),r.appendChild(j("span",{class:t.config.classNames.hidden},pe("menuBack",t.config))),L(o,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),we.showMenuPanel.call(t,"home",!0))}),!1),L(r,"click",(function(){we.showMenuPanel.call(t,"home",!1)})),o.appendChild(r),o.appendChild(j("div",{role:"menu"})),c.appendChild(o),t.elements.settings.buttons[i]=n,t.elements.settings.panels[i]=o})),l.appendChild(c),r.appendChild(l),i.appendChild(r),this.elements.settings.popup=l,this.elements.settings.menu=r}if(this.config.controls.includes("pip")&&ne.pip&&i.appendChild(we.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&ne.airplay&&i.appendChild(we.createButton.call(this,"airplay")),this.config.controls.includes("download")){var h={element:"a",href:this.download,target:"_blank"},p=this.config.urls.download;!C(p)&&this.isEmbed&&re(h,{icon:"logo-".concat(this.provider),label:this.provider}),i.appendChild(we.createButton.call(this,"download",h))}return this.config.controls.includes("fullscreen")&&i.appendChild(we.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(we.createButton.call(this,"play-large")),this.elements.controls=i,this.isHTML5&&we.setQualityMenu.call(this,ae.getQualityOptions.call(this)),we.setSpeedMenu.call(this),i},inject:function(){var e=this;if(this.config.loadSprite){var t=we.getIconUrl.call(this);t.cors&&ge(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null;var n={id:this.id,seektime:this.config.seekTime,title:this.config.title},s=!0;b(this.config.controls)&&(this.config.controls=this.config.controls.call(this.props)),this.config.controls||(this.config.controls=[]),T(this.config.controls)||y(this.config.controls)?i=this.config.controls:(i=we.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ee.getLabel.call(this)}),s=!1);var o,r=function(e){var t=e;return Object.entries(n).forEach((function(e){var i=a(e,2),n=i[0],s=i[1];t=ce(t,"{".concat(n,"}"),s)})),t};if(s&&(y(this.config.controls)?i=r(i):T(i)&&(i.innerHTML=r(i.innerHTML))),y(this.config.selectors.controls.container)&&(o=document.querySelector(this.config.selectors.controls.container)),T(o)||(o=this.elements.container),o[T(i)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",i),T(this.elements.controls)||we.findElements.call(this),!S(this.elements.buttons)){var l=function(t){var i=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return z(t,i)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U(t,i,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){k(e)||w(e)?Array.from(e).filter(Boolean).forEach(l):l(e)}))}if(window.navigator.userAgent.includes("Edge")&&Z(o),this.config.tooltips.controls){var c=this.config,u=c.classNames,d=c.selectors,h="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),p=W.call(this,h);Array.from(p).forEach((function(t){U(t,e.config.classNames.hidden,!1),U(t,e.config.classNames.tooltip,!0)}))}}};function Te(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch(e){return null}}function Ae(e){var t=new URLSearchParams;return m(e)&&Object.entries(e).forEach((function(e){var i=a(e,2),n=i[0],s=i[1];t.set(n,s)})),t}var Ee={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!ne.textTracks)k(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&we.setCaptionsMenu.call(this);else{var e,t;if(T(this.elements.captions)||(this.elements.captions=j("div",V(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,T(e)&&T(t)&&t.parentNode.insertBefore(e,t.nextSibling)),te.isIE&&window.URL){var i=this.media.querySelectorAll("track");Array.from(i).forEach((function(e){var t=e.getAttribute("src"),i=Te(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&me(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){B(e)}))}))}var n=se((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&(s=a(n,1)[0]);var o=this.storage.get("captions");if(v(o)||(o=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:o,language:s,languages:n}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";L.call(this,this.media.textTracks,r,Ee.update.bind(this))}setTimeout(Ee.update.bind(this),0)}},update:function(){var e=this,t=Ee.getTracks.call(this,!0),i=this.captions,n=i.active,a=i.language,s=i.meta,o=i.currentTrackNode,r=Boolean(t.find((function(e){return e.language===a})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!s.get(e)})).forEach((function(t){e.debug.log("Track added",t),s.set(t,{default:"showing"===t.mode}),t.mode="hidden",L.call(e,t,"cuechange",(function(){return Ee.updateCues.call(e)}))})),(r&&this.language!==a||!t.includes(o))&&(Ee.setLanguage.call(this,a),Ee.toggle.call(this,n&&r)),U(this.elements.container,this.config.classNames.captions.enabled,!S(t)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&we.setCaptionsMenu.call(this)},toggle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,n=this.config.classNames.captions.active,a=f(e)?!i:e;if(a!==i){if(t||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!t){var o=Ee.getTracks.call(this),r=Ee.findTrack.call(this,[this.captions.language].concat(s(this.captions.languages)),!0);return this.captions.language=r.language,void Ee.set.call(this,o.indexOf(r))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),U(this.elements.container,n,a),this.captions.toggled=a,we.updateSetting.call(this,"captions"),_.call(this,this.media,a?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Ee.getTracks.call(this);if(-1!==e)if(g(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var n=i[e],a=(n||{}).language;this.captions.currentTrackNode=n,we.updateSetting.call(this,"captions"),t||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),_.call(this,this.media,"languagechange")}Ee.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ee.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ee.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(y(e)){var i=e.toLowerCase();this.captions.language=i;var n=Ee.getTracks.call(this),a=Ee.findTrack.call(this,[i]);Ee.set.call(this,n.indexOf(a),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(i){return!e.isHTML5||t||e.captions.meta.has(i)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Ee.getTracks.call(this),s=function(e){return Number((i.captions.meta.get(e)||{}).default)},o=Array.from(a).sort((function(e,t){return s(t)-s(e)}));return e.every((function(e){return!(t=o.find((function(t){return t.language===e})))})),t||(n?o[0]:void 0)},getCurrentTrack:function(){return Ee.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!P(t)&&ne.textTracks&&this.captions.toggled&&(t=Ee.getCurrentTrack.call(this)),P(t)?S(t.label)?S(t.language)?pe("enabled",this.config):e.language.toUpperCase():t.label:pe("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(T(this.elements.captions))if(f(e)||Array.isArray(e)){var t=e;if(!t){var i=Ee.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(de)}var n=t.map((function(e){return e.trim()})).join("\n");if(n!==this.elements.captions.innerHTML){D(this.elements.captions);var a=j("span",V(this.config.selectors.caption));a.innerHTML=n,this.elements.captions.appendChild(a),_.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},Pe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.4.6/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}},Ce="picture-in-picture",Se={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Me="audio",Ne="video",Le=function(){},xe=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&i,this.enabled&&this.log("Debugging enabled")}return i(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Le}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Le}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Le}}]),t}();function Ie(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;T(e)&&(e.pressed=this.active),_.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),te.isIos||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(T(e)){var i=W.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],a=i[i.length-1];N.call(this,this.elements.container,"keydown",(function(e){if("Tab"===e.key&&9===e.keyCode){var t=document.activeElement;t!==a||e.shiftKey?t===n&&e.shiftKey&&(a.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}}),t,!1)}}.call(this.player,this.target,this.active)}}function _e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",U(this.target,this.player.config.classNames.fullscreen.fallback,t),te.isIos){var i=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var a=y(i.content)&&i.content.includes(n);t?(this.cleanupViewport=!a,a||(i.content+=",".concat(n))):this.cleanupViewport&&(i.content=i.content.split(",").filter((function(e){return e.trim()!==n})).join(",")),setTimeout((function(){return Z(e.target)}),100)}Ie.call(this)}var qe=function(){function t(i){var n=this;e(this,t),this.player=i,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},L.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){Ie.call(n)})),L.call(this.player,this.player.elements.container,"dblclick",(function(e){T(n.player.elements.controls)&&n.player.elements.controls.contains(e.target)||n.toggle()})),this.update()}return i(t,[{key:"update",value:function(){this.enabled?this.player.debug.log("".concat(t.native?"Native":"Fallback"," fullscreen enabled")):this.player.debug.log("Fullscreen not supported and fallback disabled"),U(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(te.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():t.native?this.prefix?S(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen():_e.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(te.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(t.native)if(this.prefix){if(!S(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document);else _e.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(t.native?(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target:z(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return te.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(b(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!b(document["".concat(t,"ExitFullscreen")])&&!b(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(i,n){var a=new Image,s=function(){delete a.onload,delete a.onerror,(a.naturalWidth>=t?i:n)(a)};Object.assign(a,{onload:s,onerror:s,src:e})}))}var je={addStyleHook:function(){U(this.elements.container,this.config.selectors.container.replace(".",""),!0),U(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void je.toggleNativeControls.call(this,!0);T(this.elements.controls)||(we.inject.call(this),this.listeners.controls()),je.toggleNativeControls.call(this),this.isHTML5&&Ee.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,we.updateVolume.call(this),we.timeUpdate.call(this),je.checkPlaying.call(this),U(this.elements.container,this.config.classNames.pip.supported,ne.pip&&this.isHTML5&&this.isVideo),U(this.elements.container,this.config.classNames.airplay.supported,ne.airplay&&this.isHTML5),U(this.elements.container,this.config.classNames.isIos,te.isIos),U(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){_.call(e,e.media,"ready")}),0),je.setTitle.call(this),this.poster&&je.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&we.durationUpdate.call(this)},setTitle:function(){var e=pe("play",this.config);if(y(this.config.title)&&!S(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=Y.call(this,"iframe");if(!T(t))return;var i=S(this.config.title)?"video":this.config.title,n=pe("frameTitle",this.config);t.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(e){U(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",e),function(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):L.call(e,e.elements.container,"ready",t)})).then((function(){}))}.call(this).then((function(){return Oe(e)})).catch((function(i){throw e===t.poster&&je.togglePoster.call(t,!1),i})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),je.togglePoster.call(t,!0),e}))):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;U(this.elements.container,this.config.classNames.playing,this.playing),U(this.elements.container,this.config.classNames.paused,this.paused),U(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){e.pressed=t.playing})),A(e)&&"timeupdate"===e.type||je.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){U(t.elements.container,t.config.classNames.loading,t.loading),je.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}}},Re=function(){function t(i){e(this,t),this.player=i,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return i(t,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,n=e.keyCode?e.keyCode:e.which,a="keydown"===e.type,s=a&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&g(n))if(a){var o=document.activeElement;if(T(o)){var r=t.config.selectors.editable;if(o!==i.inputs.seek&&K(o,r))return;if(32===e.which&&K(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.currentTime=t.duration/10*(n-48));break;case 32:case 75:s||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:s||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:s||t.toggleCaptions();break;case 76:t.loop=!t.loop}!t.fullscreen.enabled&&t.fullscreen.active&&27===n&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(e){we.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,U(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,i=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var n,a=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||a)&&(n=t.config.classNames.tabFocus,U(W.call(t,".".concat(n)),n,!1),this.focusTimer=setTimeout((function(){var e=document.activeElement;i.container.contains(e)&&U(document.activeElement,t.config.classNames.tabFocus,!0)}),10))}}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&N.call(t,window,"keydown keyup",this.handleKey,e,!1),N.call(t,document.body,"click",this.toggleMenu,e),I.call(t,document.body,"touchstart",this.firstTouch),N.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.elements;!e.config.keyboard.global&&e.config.keyboard.focused&&L.call(e,t.container,"keydown keyup",this.handleKey,!1),L.call(e,t.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(i){var n=t.controls;n&&"enterfullscreen"===i.type&&(n.pressed=!1,n.hover=!1);var a=0;["touchstart","touchmove","mousemove"].includes(i.type)&&(je.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(e.timers.controls),e.timers.controls=setTimeout((function(){return je.toggleControls.call(e,!1)}),a)}))}},{key:"media",value:function(){var e=this.player,t=e.elements;if(L.call(e,e.media,"timeupdate seeking seeked",(function(t){return we.timeUpdate.call(e,t)})),L.call(e,e.media,"durationchange loadeddata loadedmetadata",(function(t){return we.durationUpdate.call(e,t)})),L.call(e,e.media,"canplay",(function(){F(t.volume,!e.hasAudio),F(t.buttons.mute,!e.hasAudio)})),L.call(e,e.media,"ended",(function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&e.restart()})),L.call(e,e.media,"progress playing seeking seeked",(function(t){return we.updateProgress.call(e,t)})),L.call(e,e.media,"volumechange",(function(t){return we.updateVolume.call(e,t)})),L.call(e,e.media,"playing play pause ended emptied timeupdate",(function(t){return je.checkPlaying.call(e,t)})),L.call(e,e.media,"waiting canplay seeked playing",(function(t){return je.checkLoading.call(e,t)})),L.call(e,e.media,"playing",(function(){e.ads&&e.ads.enabled&&!e.ads.initialized&&e.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return e.play()}))})),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var i=Y.call(e,".".concat(e.config.classNames.video));if(!T(i))return;L.call(e,t.container,"click",(function(n){([t.container,i].includes(n.target)||i.contains(n.target))&&(e.touch&&e.config.hideControls||(e.ended?(e.restart(),e.play()):e.togglePlay()))}))}e.supported.ui&&e.config.disableContextMenu&&L.call(e,t.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),L.call(e,e.media,"volumechange",(function(){e.storage.set({volume:e.volume,muted:e.muted})})),L.call(e,e.media,"ratechange",(function(){we.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),L.call(e,e.media,"qualitychange",(function(t){we.updateSetting.call(e,"quality",null,t.detail.quality)})),L.call(e,e.media,"ready qualitychange",(function(){we.setDownloadLink.call(e)}));var n=e.config.events.concat(["keyup","keydown"]).join(" ");L.call(e,e.media,n,(function(i){var n=i.detail,a=void 0===n?{}:n;"error"===i.type&&(a=e.media.error),_.call(e,t.container,i.type,!0,a)}))}},{key:"proxy",value:function(e,t,i){var n=this.player,a=n.config.listeners[i],s=!0;b(a)&&(s=a.call(n,e)),s&&b(t)&&t.call(n,e)}},{key:"bind",value:function(e,t,i,n){var a=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.player,r=o.config.listeners[n],l=b(r);L.call(o,e,t,(function(e){return a.proxy(e,i,n)}),s&&!l)}},{key:"controls",value:function(){var e=this,t=this.player,i=t.elements,n=te.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach((function(i){e.bind(i,"click",t.togglePlay,"play")})),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",t.rewind,"rewind"),this.bind(i.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(i.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(i.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(i.buttons.download,"click",(function(){_.call(t,t.media,"download")}),"download"),this.bind(i.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(i.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",(function(e){e.stopPropagation(),we.toggleMenu.call(t,e)})),this.bind(i.buttons.settings,"keyup",(function(e){var i=e.which;[13,32].includes(i)&&(13!==i?(e.preventDefault(),e.stopPropagation(),we.toggleMenu.call(t,e)):we.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(i.settings.menu,"keydown",(function(e){27===e.which&&we.toggleMenu.call(t,e)})),this.bind(i.inputs.seek,"mousedown mousemove",(function(e){var t=i.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",n)})),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var i=e.currentTarget,n=e.keyCode?e.keyCode:e.which;if(!E(e)||39===n||37===n){t.lastSeekTime=Date.now();var a=i.hasAttribute("play-on-seeked"),s=["mouseup","touchend","keyup"].includes(e.type);a&&s?(i.removeAttribute("play-on-seeked"),t.play()):!s&&t.playing&&(i.setAttribute("play-on-seeked",""),t.pause())}})),te.isIos){var s=W.call(t,'input[type="range"]');Array.from(s).forEach((function(t){return e.bind(t,n,(function(e){return Z(e.target)}))}))}this.bind(i.inputs.seek,n,(function(e){var i=e.currentTarget,n=i.getAttribute("seek-value");S(n)&&(n=i.value),i.removeAttribute("seek-value"),t.currentTime=n/i.max*t.duration}),"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",(function(e){return we.updateSeekTooltip.call(t,e)})),te.isWebkit&&Array.from(W.call(t,'input[type="range"]')).forEach((function(i){e.bind(i,"input",(function(e){return we.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!T(i.display.duration)&&this.bind(i.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,we.timeUpdate.call(t))})),this.bind(i.inputs.volume,n,(function(e){t.volume=e.target.value}),"volume"),this.bind(i.controls,"mouseenter mouseleave",(function(e){i.controls.hover=!t.touch&&"mouseenter"===e.type})),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){i.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(i.controls,"focusin",(function(){var i=t.config,n=t.elements,a=t.timers;U(n.controls,i.classNames.noTransition,!0),je.toggleControls.call(t,!0),setTimeout((function(){U(n.controls,i.classNames.noTransition,!1)}),0);var s=e.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout((function(){return je.toggleControls.call(t,!1)}),s)})),this.bind(i.inputs.volume,"wheel",(function(e){var i=e.webkitDirectionInvertedFromDevice,n=a([e.deltaX,-e.deltaY].map((function(e){return i?-e:e})),2),s=n[0],o=n[1],r=Math.sign(Math.abs(s)>Math.abs(o)?s:o);t.increaseVolume(r/50);var l=t.media.volume;(1===r&&l<1||-1===r&&l>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Be,De=(function(e,t){var i;i=function(){var e=function(){},t={},i={},n={};function a(e,t){if(e){var a=n[e];if(i[e]=t,a)for(;a.length;)a[0](e,t),a.splice(0,1)}}function s(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function o(t,i,n,a){var s,r,l=document,c=n.async,u=(n.numRetries||0)+1,d=n.before||e,h=t.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(t)?(s=!0,(r=l.createElement("link")).rel="stylesheet",r.href=h):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(r=l.createElement("img")).src=h:((r=l.createElement("script")).src=t,r.async=void 0===c||c),r.onload=r.onerror=r.onbeforeload=function(e){var l=e.type[0];if(s&&"hideFocus"in r)try{r.sheet.cssText.length||(l="e")}catch(e){l="e"}if("e"==l&&(a+=1)<u)return o(t,i,n,a);i(t,l,e.defaultPrevented)},!1!==d(t,r)&&l.head.appendChild(r)}function r(e,i,n){var r,l;if(i&&i.trim&&(r=i),l=(r?n:i)||{},r){if(r in t)throw"LoadJS";t[r]=!0}!function(e,t,i){var n,a,s=(e=e.push?e:[e]).length,r=s,l=[];for(n=function(e,i,n){if("e"==i&&l.push(e),"b"==i){if(!n)return;l.push(e)}--s||t(l)},a=0;a<r;a++)o(e[a],n,i)}(e,(function(e){s(l,e),a(r,e)}),l)}return r.ready=function(e,t){return function(e,t){e=e.push?e:[e];var a,s,o,r=[],l=e.length,c=l;for(a=function(e,i){i.length&&r.push(e),--c||t(r)};l--;)s=e[l],(o=i[s])?a(s,o):(n[s]=n[s]||[]).push(a)}(e,(function(e){s(t,e)})),r},r.done=function(e){a(e,[])},r.reset=function(){t={},i={},n={}},r.isDefined=function(e){return e in t},r},e.exports=i()}(Be={exports:{}}),Be.exports);function He(e){return new Promise((function(t,i){De(e,{success:t,error:i})}))}function Ve(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,_.call(this,this.media,e?"play":"pause"))}var Fe={setup:function(){var e=this;U(this.elements.wrapper,this.config.classNames.embed,!0),Fe.setAspectRatio.call(this),m(window.Vimeo)?Fe.ready.call(this):He(this.config.urls.vimeo.sdk).then((function(){Fe.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo API failed to load",t)}))},setAspectRatio:function(e){var t=a((y(e)?e:this.config.ratio).split(":"),2),i=100/t[0]*t[1];if(this.elements.wrapper.style.paddingBottom="".concat(i,"%"),this.supported.ui){var n=(240-i)/4.8;this.media.style.transform="translateY(-".concat(n,"%)")}},ready:function(){var e=this,t=this,i=Ae({loop:t.config.loop.active,autoplay:t.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative}),n=t.media.getAttribute("src");S(n)&&(n=t.media.getAttribute(t.config.attributes.embed.id));var a,s=S(a=n)?null:g(Number(a))?a:a.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:a,o=j("iframe"),r=le(t.config.urls.vimeo.iframe,s,i);o.setAttribute("src",r),o.setAttribute("allowfullscreen",""),o.setAttribute("allowtransparency",""),o.setAttribute("allow","autoplay");var l=j("div",{poster:t.poster,class:t.config.classNames.embedContainer});l.appendChild(o),t.media=H(l,t.media),me(le(t.config.urls.vimeo.api,s),"json").then((function(e){if(!S(e)){var i=new URL(e[0].thumbnail_large);i.pathname="".concat(i.pathname.split("_")[0],".jpg"),je.setPoster.call(t,i.href).catch((function(){}))}})),t.embed=new window.Vimeo.Player(o,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return Ve.call(t,!0),t.embed.play()},t.media.pause=function(){return Ve.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var c=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return c},set:function(e){var i=t.embed,n=t.media,a=t.paused,s=t.volume,o=a&&!i.hasPlayed;n.seeking=!0,_.call(t,n,"seeking"),Promise.resolve(o&&i.setVolume(0)).then((function(){return i.setCurrentTime(e)})).then((function(){return o&&i.pause()})).then((function(){return o&&i.setVolume(s)})).catch((function(){}))}});var u=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return u},set:function(e){t.embed.setPlaybackRate(e).then((function(){u=e,_.call(t,t.media,"ratechange")})).catch((function(e){"Error"===e.name&&we.setSpeedMenu.call(t,[])}))}});var d=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return d},set:function(e){t.embed.setVolume(e).then((function(){d=e,_.call(t,t.media,"volumechange")}))}});var h=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return h},set:function(e){var i=!!v(e)&&e;t.embed.setVolume(i?0:t.config.volume).then((function(){h=i,_.call(t,t.media,"volumechange")}))}});var p,f=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return f},set:function(e){var i=v(e)?e:t.config.loop.active;t.embed.setLoop(i).then((function(){f=i}))}}),t.embed.getVideoUrl().then((function(e){p=e,we.setDownloadLink.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return p}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(t){var i=function(e,t){var i=function e(t,i){return 0===i?t:e(i,t%i)}(e,t);return"".concat(e/i,":").concat(t/i)}(t[0],t[1]);Fe.setAspectRatio.call(e,i)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(i){t.config.title=i,je.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){c=e,_.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,_.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,Ee.setup.call(t)})),t.embed.on("cuechange",(function(e){var i=e.cues,n=(void 0===i?[]:i).map((function(e){return t=e.text,i=document.createDocumentFragment(),n=document.createElement("div"),i.appendChild(n),n.innerHTML=t,i.firstChild.innerText;var t,i,n}));Ee.updateCues.call(t,n)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){Ve.call(t,!e),e||_.call(t,t.media,"playing")})),T(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("play",(function(){Ve.call(t,!0),_.call(t,t.media,"playing")})),t.embed.on("pause",(function(){Ve.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,c=e.seconds,_.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,_.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&_.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,_.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,_.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,_.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,_.call(t,t.media,"error")})),setTimeout((function(){return je.build.call(t)}),0)}};function Ue(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,_.call(this,this.media,e?"play":"pause"))}var ze,Ke={setup:function(){var e=this;U(this.elements.wrapper,this.config.classNames.embed,!0),Ke.setAspectRatio.call(this),m(window.YT)&&b(window.YT.Player)?Ke.ready.call(this):(He(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)})),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push((function(){Ke.ready.call(e)})),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach((function(e){e()}))})},getTitle:function(e){var t=this;if(b(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(S(i))return this.config.title=i,void je.setTitle.call(this)}var n=this.config.keys.google;y(n)&&!S(n)&&me(le(this.config.urls.youtube.api,e,n)).then((function(e){m(e)&&(t.config.title=e.items[0].snippet.title,je.setTitle.call(t))})).catch((function(){}))},setAspectRatio:function(){var e=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom="".concat(100/e[0]*e[1],"%")},ready:function(){var e=this,t=e.media.getAttribute("id");if(S(t)||!t.startsWith("youtube-")){var i=e.media.getAttribute("src");S(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));var n,a,s=S(n=i)?null:n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:n,o=(a=e.provider,"".concat(a,"-").concat(Math.floor(1e4*Math.random()))),r=j("div",{id:o,poster:e.poster});e.media=H(r,e.media);var l=function(e){return"https://img.youtube.com/vi/".concat(s,"/").concat(e,"default.jpg")};Oe(l("maxres"),121).catch((function(){return Oe(l("sd"),121)})).catch((function(){return Oe(l("hq"))})).then((function(t){return je.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){})),e.embed=new window.YT.Player(o,{videoId:s,playerVars:{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language},events:{onError:function(t){if(!e.media.error){var i=t.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";e.media.error={code:i,message:n},_.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var i=t.target;e.media.playbackRate=i.getPlaybackRate(),_.call(e,e.media,"ratechange")},onReady:function(t){if(!b(e.media.play)){var i=t.target;Ke.getTitle.call(e,s),e.media.play=function(){Ue.call(e,!0),i.playVideo()},e.media.pause=function(){Ue.call(e,!1),i.pauseVideo()},e.media.stop=function(){i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,_.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var n=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return n},set:function(t){n=t,i.setVolume(100*n),_.call(e,e.media,"volumechange")}});var a=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return a},set:function(t){var n=v(t)?t:a;a=n,i[n?"mute":"unMute"](),_.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),e.options.speed=i.getAvailablePlaybackRates(),e.supported.ui&&e.media.setAttribute("tabindex",-1),_.call(e,e.media,"timeupdate"),_.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&_.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),_.call(e,e.media,"canplaythrough"))}),200),setTimeout((function(){return je.build.call(e)}),50)}},onStateChange:function(t){var i=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,_.call(e,e.media,"seeked")),t.data){case-1:_.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),_.call(e,e.media,"progress");break;case 0:Ue.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):_.call(e,e.media,"ended");break;case 1:e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ue.call(e,!0),_.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){_.call(e,e.media,"timeupdate")}),50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),_.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ue.call(e,!1)}_.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},We={setup:function(){this.media?(U(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),U(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&U(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=j("div",{class:this.config.classNames.video}),q(this.media,this.elements.wrapper),this.elements.poster=j("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ae.extend.call(this):this.isYouTube?Ke.setup.call(this):this.isVimeo&&Fe.setup.call(this)):this.debug.warn("No media element found!")}},Ye=function(){function t(i){var n=this;e(this,t),this.player=i,this.publisherId=i.config.ads.publisherId,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){n.on("loaded",e),n.on("error",t)})),this.load()}return i(t,[{key:"load",value:function(){var e=this;this.enabled&&(m(window.google)&&m(window.google.ima)?this.ready():He(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){e.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=j("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((function(){var t=ke(Math.max(e.manager.getRemainingTime(),0)),i="".concat(pe("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",i)}),100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),S(this.cuePoints)||this.cuePoints.forEach((function(e){if(0!==e&&-1!==e&&e<t.player.duration){var i=t.player.elements.progress;if(T(i)){var n=100/t.player.duration*e,a=j("span",{class:t.player.config.classNames.cues});a.style.left="".concat(n.toString(),"%"),i.appendChild(a)}}})),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"onAdEvent",value:function(e){var t=this,i=this.player.elements.container,n=e.getAd(),a=function(e){var i="ads".concat(e.replace(/_/g,"").toLowerCase());_.call(t.player,t.player.media,i)};switch(e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),a(e.type),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:a(e.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:a(e.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:a(e.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:a(e.type)}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,i=this.player.elements.container;this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("seeking",(function(){return e=t.player.currentTime})),this.player.on("seeked",(function(){var i=t.player.currentTime;S(t.cuePoints)||t.cuePoints.forEach((function(n,a){e<n&&n<i&&(t.manager.discardAdBreak(),t.cuePoints.splice(a,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var s=this.events[e];k(s)&&s.forEach((function(e){b(e)&&e.apply(t,n)}))}},{key:"on",value:function(e,t){return k(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){f(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.ads.enabled&&!S(this.publisherId)}},{key:"tagUrl",get:function(){var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(Ae(e))}}]),t}(),Je={insertElements:function(e,t){var i=this;y(t)?R(e,this.media,{src:t}):k(t)&&t.forEach((function(t){R(e,i.media,t)}))},change:function(e){var t=this;oe(e,"sources.length")?(ae.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],B(t.media),t.media=null,T(t.elements.container)&&t.elements.container.removeAttribute("class");var i=e.sources,n=e.type,s=a(i,1)[0],o=s.provider,r=void 0===o?Se.html5:o,l=s.src,c="html5"===r?n:"div",u="html5"===r?{}:{src:l};Object.assign(t,{provider:r,type:n,supported:ne.check(n,r,t.config.playsinline),media:j(c,u)}),t.elements.container.appendChild(t.media),v(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),S(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),je.addStyleHook.call(t),t.isHTML5&&Je.insertElements.call(t,"source",i),t.config.title=e.title,We.setup.call(t),t.isHTML5&&("tracks"in e&&Je.insertElements.call(t,"track",e.tracks),t.media.load()),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&je.build.call(t),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Qe=function(){function t(i,n){var a=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ne.touch,this.media=i,y(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||w(this.media)||k(this.media))&&(this.media=this.media[0]),this.config=re({},Pe,t.defaults,n||{},function(){try{return JSON.parse(a.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new xe(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ne),!f(this.media)&&T(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(ne.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var o=this.media.tagName.toLowerCase(),r=null,l=null;switch(o){case"div":if(r=this.media.querySelector("iframe"),T(r)){if(l=Te(r.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e)?Se.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Se.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",l.search.length){var c=["1","true"];c.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(l.searchParams.get("playsinline")),this.config.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S(this.provider)||!Object.keys(Se).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Ne;break;case"video":case"audio":this.type=o,this.provider=Se.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ne.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Re(this),this.storage=new fe(this),this.media.plyr=this,T(this.elements.container)||(this.elements.container=j("div"),q(this.media,this.elements.container)),je.addStyleHook.call(this),We.setup.call(this),this.config.debug&&L.call(this,this.elements.container,this.config.events.join(" "),(function(e){a.debug.log("event: ".concat(e.type))})),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&je.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new qe(this),this.config.ads.enabled&&(this.ads=new Ye(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return i(t,[{key:"play",value:function(){return b(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&b(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(v(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):b(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(g(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(g(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(g(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){Ee.toggle.call(this,e,!1)}},{key:"airplay",value:function(){ne.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=z(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=U(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!S(this.config.settings)&&we.toggleMenu.call(this,!1),n!==t){var a=n?"controlshidden":"controlsshown";_.call(this,this.media,a)}return!n}return!1}},{key:"on",value:function(e,t){L.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){I.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){x(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(B(t.elements.buttons.play),B(t.elements.captions),B(t.elements.controls),B(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),b(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,i=e.type,n=e.callback,a=e.options;t.removeEventListener(i,n,a)})),this.eventListeners=[])}.call(t),H(t.elements.original,t.elements.container),_.call(t,t.elements.original,"destroyed",!0),b(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),je.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&b(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}}},{key:"supports",value:function(e){return ne.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===Se.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===Se.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===Se.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===Ne)}},{key:"isAudio",get:function(){return Boolean(this.type===Me)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=g(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return g(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=g(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;y(t)&&(t=Number(t)),g(t)||(t=this.storage.get("volume")),g(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;v(t)||(t=this.storage.get("muted")),v(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=null;g(e)&&(t=e),g(t)||(t=this.storage.get("speed")),g(t)||(t=this.config.speed.selected),t<.1&&(t=.1),t>2&&(t=2),this.config.speed.options.includes(t)?(this.config.speed.selected=t,this.media.playbackRate=t):this.debug.warn("Unsupported speed (".concat(t,")"))},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(e){var t=this.config.quality,i=this.options.quality;if(i.length){var n=[!S(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(g),a=!0;if(!i.includes(n)){var s=function(e,t){return k(e)&&e.length?e.reduce((function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})):null}(i,n);this.debug.warn("Unsupported quality option: ".concat(n,", using ").concat(s," instead")),n=s,a=!1}t.selected=n,this.media.quality=n,a&&this.storage.set({quality:n})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=v(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Je.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return C(e)?e:this.source}},{key:"poster",set:function(e){this.isVideo?je.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(e){var t=v(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){Ee.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,i=e.currentTrack;return t?i:-1}},{key:"language",set:function(e){Ee.setLanguage.call(this,e,!1)},get:function(){return(Ee.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(ne.pip){var t=v(e)?e:!this.pip;b(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ce:"inline"),b(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return ne.pip?S(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ce:null}}],[{key:"supported",value:function(e,t,i){return ne.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return ge(e,t)}},{key:"setup",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return y(e)?n=Array.from(document.querySelectorAll(e)):w(e)?n=Array.from(e):k(e)&&(n=e.filter(T)),S(n)?null:n.map((function(e){return new t(e,i)}))}}]),t}();return Qe.defaults=(ze=Pe,JSON.parse(JSON.stringify(ze))),Qe}));
/* pytesNET/tail.select v.0.5.11 | Full Version | @author SamBrishes, pytesNET <sam@pytes.net> | @license MIT */
!function(e){"function"==typeof define&&define.amd?define((function(){return e(window)})):(void 0===window.tail&&(window.tail={}),window.tail.select=e(window),"undefined"!=typeof jQuery&&(jQuery.fn.tailselect=function(e){var t,i=[];return this.each((function(){!1!==(t=tail.select(this,e))&&i.push(t)})),1===i.length?i[0]:0!==i.length&&i}),"undefined"!=typeof MooTools&&Element.implement({tailselect:function(e){return new tail.select(this,e)}}))}((function(e){"use strict";var t=e,i=e.document;function n(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className||"")}function s(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className||t)||(e.className+=" "+t),e}function l(e,t,i){return(i=new RegExp("(?:^|\\s+)("+t+")(?:\\s+|$)"))&&i.test(e.className||"")&&(e.className=e.className.replace(i," ")),e}function o(e,t,n){if(CustomEvent&&CustomEvent.name)var s=new CustomEvent(t,n);else(s=i.createEvent("CustomEvent")).initCustomEvent(t,!!n.bubbles,!!n.cancelable,n.detail);return e.dispatchEvent(s)}function a(e,t){if(Object.assign)return Object.assign({},e,t||{});var i=new Object;for(var n in e)i[n]=n in t?t[n]:e[n];return i}function r(e,t){var n=i.createElement(e);return n.className=t&&t.join?t.join(" "):t||"",n}var c,h=function(e,t){if((e="string"==typeof e?i.querySelectorAll(e):e)instanceof NodeList||e instanceof HTMLCollection||e instanceof Array){for(var n=[],s=e.length,l=0;l<s;l++)n.push(new h(e[l],a(t,{})));return 1===n.length?n[0]:0!==n.length&&n}if(!(e instanceof Element&&this instanceof h))return e instanceof Element&&new h(e,t);if(h.inst[e.getAttribute("data-tail-select")])return h.inst[e.getAttribute("data-tail-select")];if(e.getAttribute("data-select")){var o=JSON.parse(e.getAttribute("data-select").replace(/\'/g,'"'));o instanceof Object&&(t=a(t,o))}var r=e.getAttribute("placeholder")||e.getAttribute("data-placeholder"),c="bindSourceSelect",d="sourceHide";return(t="object"==typeof t?t:{}).multiple="multiple"in t?t.multiple:e.multiple,t.disabled="disabled"in t?t.disabled:e.disabled,t.placeholder=r||t.placeholder||null,t.width="auto"===t.width?e.offsetWidth+50:t.width,t.sourceBind=c in t?t[c]:t.sourceBind||!1,t.sourceHide=d in t?t[d]:t.sourceHide||!0,t.multiLimit=0<=t.multiLimit?t.multiLimit:1/0,this.e=e,this.id=++h.count,this.con=a(h.defaults,t),this.events={},(h.inst["tail-"+this.id]=this).init().bind()};return h.version="0.5.11",h.status="beta",h.count=0,h.inst={},h.defaults={animate:!0,classNames:null,csvOutput:!1,csvSeparator:",",descriptions:!1,deselect:!1,disabled:!1,height:350,hideDisabled:!1,hideSelected:!1,items:{},locale:"en",linguisticRules:{"ё":"е"},multiple:!1,multiLimit:1/0,multiPinSelected:!1,multiContainer:!1,multiShowCount:!0,multiShowLimit:!1,multiSelectAll:!1,multiSelectGroup:!0,openAbove:null,placeholder:null,search:!1,searchFocus:!0,searchMarked:!0,searchDisabled:!0,sortItems:!1,sortGroups:!1,sourceBind:!1,sourceHide:!0,startOpen:!1,stayOpen:!1,width:null,cbComplete:void 0,cbEmpty:void 0,cbLoopItem:void 0,cbLoopGroup:void 0},h.strings={de:{all:"Alle",none:"Keine",actionAll:"Alle auswählen",actionNone:"Alle abwählen",empty:"Keine Optionen verfügbar",emptySearch:"Keine Optionen gefunden",limit:"Keine weiteren Optionen wählbar",placeholder:"Wähle eine Option...",placeholderMulti:"Wähle bis zu :limit Optionen...",search:"Tippen zum suchen",disabled:"Dieses Feld ist deaktiviert"},en:{all:"All",none:"None",actionAll:"Select All",actionNone:"Unselect All",empty:"No Options available",emptySearch:"No Options found",limit:"You can't select more Options",placeholder:"Select an Option...",placeholderMulti:"Select up to :limit Options...",search:"Type in to search...",disabled:"This Field is disabled"},es:{all:"Todos",none:"Ninguno",actionAll:"Seleccionar todo",actionNone:"Descartar todo",empty:"No hay opciones disponibles",emptySearch:"No se encontraron opciones",limit:"No puedes seleccionar mas opciones",placeholder:"Selecciona una opción...",placeholderMulti:"Selecciona hasta :límite de opciones...",search:"Escribe dentro para buscar...",disabled:"Este campo esta deshabilitado"},fi:{all:"Kaikki",none:"Ei mitään",actionAll:"Valitse kaikki",actionNone:"Poista kaikki valinnat",empty:"Ei vaihtoehtoja",emptySearch:"Etsimääsi vaihtoehtoa ei löytynyt",limit:"Muita vaihtoehtoja ei voi valita",placeholder:"Valitse...",placeholderMulti:"Valitse maksimissaan :limit...",search:"Hae tästä...",disabled:"Kenttä on poissa käytöstä"},fr:{all:"Tous",none:"Aucun",actionAll:"Sélectionner tout",actionNone:"Sélectionner aucun",empty:"Aucune option disponible",emptySearch:"Aucune option trouvée",limit:"Aucune autre option sélectionnable",placeholder:"Choisissez une option ...",placeholderMulti:"Choisissez jusqu'à :limit option(s) ...",search:"Rechercher ...",disabled:"Ce champs est désactivé"},it:{all:"Tutti",none:"Nessuno",actionAll:"Seleziona Tutto",actionNone:"Deseleziona Tutto",empty:"Nessuna voce disponibile",emptySearch:"Nessuna voce trovata",limit:"Non puoi selezionare più Voci",placeholder:"Seleziona una Voce",placeholderMulti:"Selezione limitata a :limit Voci...",search:"Digita per cercare...",disabled:"Questo Campo è disabilitato"},no:{all:"Alle",none:"Ingen",actionAll:"Velg alle",actionNone:"Velg ingen",empty:"Ingen valg tilgjengelig",emptySearch:"Ingen valg funnet",limit:"Du kan ikke velge flere",placeholder:"Velg...",placeholderMulti:"Velg opptil :limit...",search:"Søk...",disabled:"Dette feltet er deaktivert"},pt_BR:{all:"Todas",none:"Nenhuma",actionAll:"Selecionar todas",actionNone:"Desmarcar todas",empty:"Nenhuma opção disponível",emptySearch:"Nenhuma opção encontrada",limit:"Não é possível selecionar outra opção",placeholder:"Escolha uma opção ...",placeholderMulti:"Escolha até: :limit opção(ões) ...",search:"Buscar ...",disabled:"Campo desativado"},ru:{all:"Все",none:"Ничего",actionAll:"Выбрать все",actionNone:"Отменить все",empty:"Нет доступных вариантов",emptySearch:"Ничего не найдено",limit:"Вы не можете выбрать больше вариантов",placeholder:"Выберите вариант...",placeholderMulti:function(e){var t=e[":limit"];return"Выбор до :limit "+["варианта","вариантов","вариантов"][4<t%100&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]]+" ..."},search:"Начните набирать для поиска ...",disabled:"Поле отключено"},tr:{all:"Tümü",none:"Hiçbiri",actionAll:"Tümünü Seç",actionNone:"Hiçbirini Seçme",empty:"Seçenek yok",emptySearch:"Seçenek bulunamadı",limit:"Daha fazla Seçenek seçemezsiniz",placeholder:"Bir Seçenek seçin...",placeholderMulti:"En fazla :limit Seçenek seçin...",search:"Aramak için yazın...",disabled:"Bu Alan kullanılamaz"},modify:function(e,t,i){if(!(e in this))return!1;if(t instanceof Object)for(var n in t)this.modify(e,n,t[n]);else this[e][t]="string"==typeof i?i:this[e][t];return!0},register:function(e,t){return"string"==typeof e&&t instanceof Object&&(this[e]=t,!0)}},h.prototype={_e:function(e,t,i){if(!(e in this.__))return i||e;if("function"==typeof(e=this.__[e])&&(e=e.call(this,t)),"object"==typeof t)for(var n in t)e=e.replace(n,t[n]);return e},init:function(){var e=this,t=["tail-select"],n=this.con,s=!0===n.classNames?this.e.className:n.classNames;t.push(s&&s.push?s.join(" "):s&&s.split?s:"no-classes"),n.hideSelected&&t.push("hide-selected"),n.hideDisabled&&t.push("hide-disabled"),0==n.multiLimit&&t.push("disabled"),n.multiple&&t.push("multiple"),n.deselect&&t.push("deselect"),n.disabled&&t.push("disabled"),this.__=a(h.strings.en,h.strings[n.locale]||{}),this._init=!0,this._query=!1,this.select=r("DIV",t),this.label=r("DIV","select-label"),this.dropdown=r("DIV","select-dropdown"),this.search=r("DIV","dropdown-search"),this.csvInput=r("INPUT","select-search"),null!==this.e.getAttribute("tabindex")?this.select.setAttribute("tabindex",this.e.getAttribute("tabindex")):this.select.setAttribute("tabindex",0),n.width&&/^[0-9.]+(?:cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|\%)$/i.test(n.width)?this.select.style.width=n.width:n.width&&!isNaN(parseFloat(n.width,10))&&(this.select.style.width=n.width+"px"),this.label.addEventListener("click",(function(t){e.toggle.call(e,e.con.animate)})),this.select.appendChild(this.label),isNaN(parseInt(n.height,10))||(this.dropdown.style.maxHeight=parseInt(n.height,10)+"px"),n.search&&(this.search.innerHTML='<input type="text" class="search-input" />',this.search.children[0].placeholder=this._e("search"),this.search.children[0].addEventListener("input",(function(t){e.query.call(e,2<this.value.length?this.value:void 0)})),this.dropdown.appendChild(this.search)),this.select.appendChild(this.dropdown),this.csvInput.type="hidden",n.csvOutput&&(this.csvInput.name=this.e.name,this.e.removeAttribute("name"),this.select.appendChild(this.csvInput)),n.multiple&&n.multiContainer&&(i.querySelector(n.multiContainer)?(this.container=i.querySelector(n.multiContainer),this.container.className+=" tail-select-container"):!0===n.multiContainer&&(this.container=this.label,this.container.className+=" tail-select-container")),this.options=new c(this.e,this);for(var l=this.e.options.length,o=0;o<l;o++)this.options.set(this.e.options[o],!1);for(var d in n.items)"string"==typeof n.items[d]&&(n.items[d]={value:n.items[d]}),this.options.add(n.items[d].key||d,n.items[d].value,n.items[d].group,n.items[d].selected,n.items[d].disabled,n.items[d].description);return this.query(),this.e.nextElementSibling?this.e.parentElement.insertBefore(this.select,this.e.nextElementSibling):this.e.parentElement.appendChild(this.select),n.sourceHide&&("none"==this.e.style.display?(this.select.style.display="none",this.e.setAttribute("data-select-hidden","display")):"hidden"==this.e.style.visibility?(this.select.style.visibiltiy="hidden",this.e.setAttribute("data-select-hidden","visibility")):(this.e.style.display="none",this.e.setAttribute("data-select-hidden","0"))),this.e.setAttribute("data-tail-select","tail-"+this.id),e.con.startOpen&&this.open(n.animate),(n.cbComplete||function(){}).call(this,this.select),this._init=!1,this},bind:function(){var e=this;return i.addEventListener("keydown",(function(t){var i,o,a,r,c=t.keyCode||t.which;if((32!=c||e.select!==document.activeElement)&&(!n(e.select,"active")||[13,27,38,40].indexOf(c)<0))return!1;if(t.preventDefault(),t.stopPropagation(),32===c)return e.open(e.con.animate);if(13==c&&(i=e.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))&&e.options.select.call(e.options,i),27==c||13==c)return e.close(e.con.animate);if(i=e.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))for(l(i,"hover"),a=[(40==c?"next":"previous")+"ElementSibling"];(i=null!==(r=i[a])&&"LI"==i.tagName?r:null!==(r=i.parentElement[a])&&0<r.children.length&&"UL"==r.tagName&&r.children[40==c?0:r.children.length-1])&&(!n(i,"dropdown-option")||n(i,"disabled")););if(i||40!=c?i||38!=c||(i=e.dropdown.querySelector("ul:last-child li:not(.disabled):last-child")):i=e.dropdown.querySelector(".dropdown-option:not(.disabled)"),i&&(o=e.dropdown.querySelector(".dropdown-inner"))){var h=function(e){for(var t={top:e.offsetTop,height:e.offsetHeight};(e=e.parentElement)!=o;)t.top+=e.offsetTop;return t}(i);s(i,"hover"),h.top+2*h.height>o.offsetHeight+o.scrollTop?o.scrollBy(0,h.top+2*h.height-(o.offsetHeight+o.scrollTop)):h.top-h.height<o.scrollTop&&o.scrollBy(0,-Math.abs(o.scrollTop-h.top+h.height))}return!0})),i.addEventListener("click",(function(t){if(!n(e.select,"active")||n(e.select,"idle"))return!1;if(!0===e.con.stayOpen)return!1;for(var i=[e.e,e.select,e.container],s=i.length,l=0;l<s;l++){if(i[l]&&(i[l].contains(t.target)||i[l]==t.target))return!1;if(!t.target.parentElement)return!1}return e.close.call(e,e.con.animate)})),this.con.sourceBind&&this.e.addEventListener("change",(function(t){if(null!=t.detail)return!1;if(t.preventDefault(),t.stopPropagation(),!this.multiple&&this.selectedIndex)e.options.select.call(e.options,this.options[this.selectedIndex]);else{var i=[].concat(e.options.selected),n=[].filter.call(this.querySelectorAll("option:checked"),(function(e){return!(0<=i.indexOf(e)&&(i.splice(i.indexOf(e),1),1))}));e.options.walk.call(e.options,"unselect",i),e.options.walk.call(e.options,"select",n)}})),!0},callback:function(e,t,i){var n="[data-key='"+e.key+"'][data-group='"+e.group+"']";if("rebuild"==t)return this.query();var o=this.dropdown.querySelector(n);return o&&0<=["select","disable"].indexOf(t)?s(o,"select"==t?"selected":"disabled"):o&&0<=["unselect","enable"].indexOf(t)&&l(o,"unselect"==t?"selected":"disabled"),this.update(e),!0===i||this.trigger("change",e,t)},trigger:function(e){if(this._init)return!1;var t={bubbles:!1,cancelable:!0,detail:{args:arguments,self:this}};"change"==e&&arguments[2]&&0<=arguments[2].indexOf("select")&&(o(this.e,"input",t),o(this.e,"change",t)),o(this.select,"tail::"+e,t);var i,n=[];return Array.prototype.map.call(arguments,(function(e,t){0<t&&n.push(e)})),(this.events[e]||[]).forEach((function(e){(i=[].concat(n)).push(e.args||null),(e.cb||function(){}).apply(t.detail.self,i)})),!0},calc:function(){var e=this.dropdown.cloneNode(!0),i=this.con.height,n=0,o=this.dropdown.querySelector(".dropdown-inner");(e=this.dropdown.cloneNode(!0)).style.cssText="height:auto;min-height:auto;max-height:none;opacity:0;display:block;visibility:hidden;",e.style.maxHeight=this.con.height+"px",e.className+=" cloned",this.dropdown.parentElement.appendChild(e),i=i>e.clientHeight?e.clientHeight:i,this.con.search&&(n=e.querySelector(".dropdown-search").clientHeight),this.dropdown.parentElement.removeChild(e);var a=this.select.getBoundingClientRect(),r=t.innerHeight-(a.top+a.height),c=r<i+n&&a.top>r;return!0===this.con.openAbove||!1!==this.con.openAbove&&c?(c=!0,i=Math.min(i,a.top-10),s(this.select,"open-top")):(c=!1,i=Math.min(i,r-10),l(this.select,"open-top")),o&&(this.dropdown.style.maxHeight=i+"px",o.style.maxHeight=i-n+"px"),this},query:function(e,t){var i,s,l,o,a,c,h=r("DIV","dropdown-inner"),d=this,u=e?"finder":"walker",p=this.con,f="getAttribute";if("string"==typeof e&&0<e.length)for(var m in p.linguisticRules){var b=new RegExp("("+m+"|"+p.linguisticRules[m]+")","ig");e=e.replace(b,"("+m+"|"+p.linguisticRules[m]+")")}var g=e?[e,t]:[p.sortItems,p.sortGroups];for(this._query="string"==typeof e&&e;i=this.options[u].apply(this.options,g);){if(!l||l&&l[f]("data-group")!==i.group){if(!((s=(p.cbLoopGroup||this.cbGroup).call(this,i.group,e,h))instanceof Element))break;(l=s).setAttribute("data-group",i.group),h.appendChild(l)}if(null!==(o=(p.cbLoopItem||this.cbItem).call(this,i,l,e,h))){if(!1===o)break;o.setAttribute("data-key",i.key),o.setAttribute("data-group",i.group),o.addEventListener("click",(function(e){if(!this.hasAttribute("data-key"))return!1;var t=this[f]("data-key"),i=this[f]("data-group")||"#";d.options.toggle.call(d.options,t,i)&&(!1!==d.con.stayOpen||d.con.multiple||d.close.call(d,d.con.animate))})),l.appendChild(o)}}var v=h.querySelectorAll("*[data-key]").length;0==v&&(this.con.cbEmpty||function(e){var t=r("SPAN","dropdown-empty");t.innerText=this._e("empty"),e.appendChild(t)}).call(this,h,e),0<v&&p.multiple&&p.multiLimit==1/0&&p.multiSelectAll&&(a=r("BUTTON","tail-all"),c=r("BUTTON","tail-none"),a.innerText=this._e("actionAll"),a.addEventListener("click",(function(e){e.preventDefault();var t=d.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");d.options.walk.call(d.options,"select",t)})),c.innerText=this._e("actionNone"),c.addEventListener("click",(function(e){e.preventDefault();var t=d.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");d.options.walk.call(d.options,"unselect",t)})),(o=r("SPAN","dropdown-action")).appendChild(a),o.appendChild(c),h.insertBefore(o,h.children[0]));var y=this.dropdown.querySelector(".dropdown-inner");return this.dropdown[(y?"replace":"append")+"Child"](h,y),n(this.select,"active")&&this.calc(),this.updateCSV().updateLabel()},cbGroup:function(e,t){var i,n,s=r("UL","dropdown-optgroup"),l=this;return"#"==e||(s.innerHTML='<li class="optgroup-title"><b>'+e+"</b></li>",this.con.multiple&&this.con.multiLimit==1/0&&this.con.multiSelectAll&&(i=r("BUTTON","tail-none"),n=r("BUTTON","tail-all"),i.innerText=this._e("none"),i.addEventListener("click",(function(e){e.preventDefault();var t=this.parentElement.parentElement.getAttribute("data-group");l.options.all.call(l.options,"unselect",t)})),n.innerText=this._e("all"),n.addEventListener("click",(function(e){e.preventDefault();var t=this.parentElement.parentElement.getAttribute("data-group");l.options.all.call(l.options,"select",t)})),s.children[0].appendChild(i),s.children[0].appendChild(n))),s},cbItem:function(e,t,i){var n=r("LI","dropdown-option"+(e.selected?" selected":"")+(e.disabled?" disabled":""));return i&&0<i.length&&this.con.searchMarked?n.innerHTML=e.value.replace(new RegExp("("+i+")","i"),"<mark>$1</mark>"):n.innerText=e.value,this.con.descriptions&&e.description&&(n.innerHTML+='<span class="option-description">'+e.description+"</span>"),n},update:function(e){return this.updateLabel().updateContainer(e).updatePin(e).updateCSV(e)},updateLabel:function(e){if(this.container==this.label&&0<this.options.selected.length)return this.label.querySelector(".label-inner")&&this.label.removeChild(this.label.querySelector(".label-inner")),this.label.querySelector(".label-count")&&this.label.removeChild(this.label.querySelector(".label-count")),this;var t,i=this.con,s=this.options.selected.length;return"string"!=typeof e&&(e=i.disabled?"disabled":0==this.dropdown.querySelectorAll("*[data-key]").length?"empty"+(n(this.select,"in-search")?"Search":""):i.multiLimit<=s?"limit":!i.multiple&&0<this.options.selected.length?this.options.selected[0].innerText:"string"==typeof i.placeholder?i.placeholder:"placeholder"+(i.multiple&&i.multiLimit<1/0?"Multi":"")),e='<span class="label-inner">'+(e=this._e(e,{":limit":i.multiLimit},e))+"</span>",t=i.multiShowLimit&&i.multiLimit<1/0,i.multiple&&i.multiShowCount&&(e=(e='<span class="label-count">:c</span>'+e).replace(":c",s+(t?" / "+i.multiLimit:""))),this.label.innerHTML=e,this},updateContainer:function(e){if(!this.container||!this.con.multiContainer)return this;var t="[data-group='"+e.group+"'][data-key='"+e.key+"']";if(this.container.querySelector(t))return e.selected||this.container.removeChild(this.container.querySelector(t)),this;if(e.selected){var i=this,n=r("DIV","select-handle");n.innerText=e.value,n.setAttribute("data-key",e.key),n.setAttribute("data-group",e.group),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=this.getAttribute("data-key"),n=this.getAttribute("data-group");i.options.unselect.call(i.options,t,n)})),this.container.appendChild(n)}return this},updatePin:function(e){var t=this.dropdown.querySelector(".dropdown-inner ul"),i="li[data-key='"+e.key+"'][data-group='"+e.group+"']";if(!this.con.multiPinSelected||!t||!1!==this._query)return this;if(i=this.dropdown.querySelector(i),e.selected)t.insertBefore(i,t.children[0]);else{for(var n=this.dropdown.querySelector("ul[data-group='"+e.group+"']"),s=this.options[e.index-1],l=!1;s&&s.group==e.group&&!(l=n.querySelector("li[data-key='"+s.key+"']"));)s=this.options[s.index-1];l&&l.nextElementSibling?n.insertBefore(i,l.nextElementSibling):n.appendChild(i)}return this},updateCSV:function(e){if(!this.csvInput||!this.con.csvOutput)return this;for(var t=[],i=this.options.selected.length,n=0;n<i;n++)t.push(this.options.selected[n].value);return this.csvInput.value=t.join(this.con.csvSeparator||","),this},open:function(e){if(n(this.select,"active")||n(this.select,"idle")||this.con.disabled)return!1;this.calc();var t=function(){s(l(i.select,"idle"),"active"),this.dropdown.style.height="auto",this.dropdown.style.overflow="visible",this.label.removeAttribute("style"),this.con.search&&this.con.searchFocus&&this.dropdown.querySelector("input").focus(),this.trigger.call(this,"open")},i=this,o=this.dropdown.style;return!1!==e?(this.label.style.zIndex=25,this.dropdown.style.cssText+="height:0;display:block;overflow:hidden;",s(i.select,"idle"),function e(){var n=parseInt(o.height,10),s=parseInt(o.maxHeight,10);if(s<=n)return t.call(i);o.height=(s<n+50?s:n+50)+"px",setTimeout(e,20)}()):(o.cssText="height:"+o.maxHeight+";display:block;overflow:hidden;",t.call(this)),this},close:function(e){if(!n(this.select,"active")||n(this.select,"idle"))return!1;var t=function(){l(l(this.select,"idle"),"active"),this.dropdown.removeAttribute("style"),this.dropdown.querySelector(".dropdown-inner").removeAttribute("style"),this.trigger.call(this,"close")},i=this,o=this.dropdown;return!1!==e?(s(this.select,"idle"),this.dropdown.style.overflow="hidden",function e(){if(parseInt(o.offsetHeight,10)-50<=0)return t.call(i);o.style.height=parseInt(o.offsetHeight,10)-50+"px",setTimeout(e,20)}()):t.call(this),this},toggle:function(e){return n(this.select,"active")?this.close(e):n(this.select,"idle")?this:this.open(e)},remove:function(){if(this.e.removeAttribute("data-tail-select"),this.e.hasAttribute("data-select-hidden")&&("0"==this.e.getAttribute("data-select-hidden")&&this.e.style.removeProperty("display"),this.e.removeAttribute("data-select-hidden")),Array.prototype.map.call(this.e.querySelectorAll("[data-select-option='add']"),(function(e){e.parentElement.removeChild(e)})),Array.prototype.map.call(this.e.querySelectorAll("[data-select-optgroup='add']"),(function(e){e.parentElement.removeChild(e)})),this.e.name=this.csvInput.hasAttribute("name")?this.csvInput.name:this.e.name,this.select.parentElement&&this.select.parentElement.removeChild(this.select),this.container)for(var e=this.container.querySelectorAll(".select-handle"),t=e.length,i=0;i<t;i++)this.container.removeChild(e[i]);return this},reload:function(){return this.remove().init()},config:function(e,t,i){if(e instanceof Object){for(var n in e)this.config(n,e[n],!1);return this.reload(),this.con}return void 0===e?this.con:e in this.con&&(void 0===t?this.con[e]:(this.con[e]=t,!1!==this.rebuild&&this.reload(),this))},enable:function(e){return l(this.select,"disabled"),this.e.disabled=!1,(this.con.disabled=!1)===e?this:this.reload()},disable:function(e){return s(this.select,"disabled"),this.e.disabled=!0,!(this.con.disabled=!0)===e?this:this.reload()},on:function(e,t,i){return!(["open","close","change"].indexOf(e)<0||"function"!=typeof t)&&(e in this.events||(this.events[e]=[]),this.events[e].push({cb:t,args:i instanceof Array?i:[]}),this)}},(c=h.options=function(e,t){return this instanceof c?(this.self=t,this.element=e,this.length=0,this.selected=[],this.disabled=[],this.items={"#":{}},this.groups={},this):new c(e,t)}).prototype={_r:function(e){return e.replace("disabled","disable").replace("enabled","enable").replace("selected","select").replace("unselected","unselect")},get:function(e,t){var i="getAttribute";if("object"==typeof e&&e.key&&e.group)t=e.group||t,e=e.key;else if(e instanceof Element)"OPTION"==e.tagName?(t=e.parentElement.label||"#",e=e.value||e.innerText):e.hasAttribute("data-key")&&(t=e[i]("data-group")||e.parentElement[i]("data-group")||"#",e=e[i]("data-key"));else if("string"!=typeof e)return!1;return e=/^[0-9]+$/.test(e)?"_"+e:e,t in this.items&&this.items[t][e]},set:function(e,t){var i=e.value||e.innerText,n=e.parentElement.label||"#";if(n in this.items||(this.items[n]={},this.groups[n]=e.parentElement),i in this.items[n])return!1;var s=/^[0-9]+$/.test(i)?"_"+i:i,l=this.self.con;if((!l.multiple&&0<this.selected.length||l.multiple&&this.selected.length>=l.multiLimit)&&(e.selected=!1),!e.selected||!l.deselect||e.hasAttribute("selected")&&0!=l.multiLimit||(e.selected=!1,e.parentElement.selectedIndex=-1),e.hasAttribute("data-description")){var o=r("SPAN");o.innerHTML=e.getAttribute("data-description"),e.setAttribute("data-description",o.innerHTML)}return this.items[n][s]={key:i,value:e.text,description:e.getAttribute("data-description")||null,group:n,option:e,optgroup:"#"!=n?this.groups[n]:void 0,selected:e.selected,disabled:e.disabled},this.length++,e.selected&&this.select(this.items[n][s]),e.disabled&&this.disable(this.items[n][s]),!t||this.self.callback(this[this.length-1],"rebuild")},add:function(e,t,n,s,l,o,a){if(e instanceof Object){for(var c in e)this.add(e[c].key||c,e[c].value,e[c].group,e[c].selected,e[c].disabled,e[c].description,!1);return this.self.query()}if(this.get(e,n))return!1;if("#"!==(n="string"==typeof n?n:"#")&&!(n in this.groups)){var h=r("OPTGROUP");h.label=n,h.setAttribute("data-select-optgroup","add"),this.element.appendChild(h),this.items[n]={},this.groups[n]=h}var d=this.self.con;(!d.multiple&&0<this.selected.length||d.multiple&&this.selected.length>=d.multiLimit)&&(s=!1),l=!!l;var u=i.createElement("OPTION");return u.value=e,u.selected=s,u.disabled=l,u.innerText=t,u.setAttribute("data-select-option","add"),o&&0<o.length&&u.setAttribute("data-description",o),("#"==n?this.element:this.groups[n]).appendChild(u),this.set(u,a)},move:function(e,t,i,n){if(!(e=this.get(e,t)))return!1;if("#"!==i&&!(i in this.groups)){var s=r("OPTGROUP");s.label=i,this.element.appendChild(s),this.items[i]={},this.groups[i]=s,this.groups[i].appendChild(e.option)}return delete this.items[e.group][e.key],e.group=i,e.optgroup=this.groups[i]||void 0,this.items[i][e.key]=e,!n||this.self.query()},remove:function(e,t,i){if(!(e=this.get(e,t)))return!1;e.selected&&this.unselect(e),e.disabled&&this.enable(e),e.option.parentElement.removeChild(e.option);var n=/^[0-9]+$/.test(e.key)?"_"+e.key:e.key;return delete this.items[e.group][n],this.length--,0===Object.keys(this.items[e.group]).length&&(delete this.items[e.group],delete this.groups[e.group]),!i||this.self.query()},is:function(e,t,i){e=this._r(e);var n=this.get(t,i);return!n||["select","unselect","disable","enable"].indexOf(e)<0?null:"disable"==e||"enable"==e?"disable"==e?n.disabled:!n.disabled:("select"==e||"unselect"==e)&&("select"==e?n.selected:!n.selected)},handle:function(e,t,i,s){var l=this.get(t,i);if(e=this._r(e),!l||["select","unselect","disable","enable"].indexOf(e)<0)return null;if("disable"==e||"enable"==e)return l.option in this.disabled||"disable"!=e?l.option in this.disabled&&"enable"==e&&this.disabled.splice(this.disabled.indexOf(l.option),1):this.disabled.push(l.option),l.disabled="disable"==e,l.option.disabled="disable"==e,this.self.callback.call(this.self,l,e);var o=n(this.self.select,"disabled")||l.disabled||l.option.disabled,a=this.self.con.multiple&&this.self.con.multiLimit<=this.selected.length,r=!this.self.con.multiple&&0<this.selected.indexOf(l.option),c=0==this.self.con.multiLimit&&1==this.self.con.deselect,h=!this.self.con.multiple&&!this.self.con.deselect&&!0!==s;if("select"==e){if(o||a||c||r)return!1;if(!this.self.con.multiple)for(var d in this.selected)this.unselect(this.selected[d],void 0,!0);this.selected.indexOf(l.option)<0&&this.selected.push(l.option)}else if("unselect"==e){if(o||h)return!1;this.selected.splice(this.selected.indexOf(l.option),1)}return l.selected="select"==e,l.option.selected="select"==e,l.option[(6<e.length?"remove":"set")+"Attribute"]("selected","selected"),this.self.callback.call(this.self,l,e,s)},enable:function(e,t){return this.handle("enable",e,t,!1)},disable:function(e,t){return this.handle("disable",e,t,!1)},select:function(e,t){return this.handle("select",e,t,!1)},unselect:function(e,t,i){return this.handle("unselect",e,t,i)},toggle:function(e,t){return!!(e=this.get(e,t))&&this.handle(e.selected?"unselect":"select",e,t,!1)},invert:function(e){if(e=this._replaceType(e),0<=["enable","disable"].indexOf(e))var t=this.disabled,i="enable"==e?"disable":"enable";else 0<=["select","unselect"].indexOf(e)&&(t=this.selected,i="select"==e?"unselect":"select");var n=Array.prototype.filter.call(this,(function(e){return!(e in t)})),s=this;return[].concat(t).forEach((function(e){s.handle.call(s,i,e)})),[].concat(n).forEach((function(t){s.handle.call(s,e,t)})),!0},all:function(e,t){var i=this,n=this;return t in this.items?n=Object.keys(this.items[t]):0<=["unselect","enable"].indexOf(e)&&(n=[].concat("unselect"==e?this.selected:this.disabled)),Array.prototype.forEach.call(n,(function(n){i.handle.call(i,e,n,t,!1)})),!0},walk:function(e,t,i){if(t instanceof Array||t.length)for(var n=t.length,s=0;s<n;s++)this.handle.apply(this,[e,t[s],null].concat(i));else if(t instanceof Object){var l=this;if(t.forEach)t.forEach((function(t){l.handle.apply(l,[e,t,null].concat(i))}));else for(var o in t)("string"==typeof t[o]||"number"==typeof t[o]||t[o]instanceof Element)&&this.handle.apply(this,[e,t[o],o in this.items?o:null]).concat(i)}return this},find:function(e,t){var i=new RegExp(e,"im"),n=[],s=this,l=function(e){return i.test(e.text||e.value)};return Array.apply(null,this.self.e.options).map((function(e){return!!("any"==t?(o=e,i.test(o.text)||i.test(o.value)||0<Array.apply(null,o.attributes).filter(l).length):l(e))&&!(0<=s.disabled.indexOf(e)&&!s.self.con.searchDisabled)&&void n.push(s.get(e));var o})),n},finder:function(e,t){var i;for(void 0===this._finderLoop&&(this._finderLoop=this.find(e,t));void 0!==(i=this._finderLoop.shift());)return i;return delete this._finderLoop,!1},walker:function(e,t){if(void 0!==this._inLoop&&this._inLoop){if(0<this._inItems.length){var i=this._inItems.shift();return this.items[this._inGroup][i]}if(0<this._inGroups.length){for(;0<this._inGroups.length;){var n=this._inGroups.shift();if(!(n in this.items))return!1;var s=Object.keys(this.items[n]);if(0<s.length)break}return"ASC"==e?s.sort():"DESC"==e?s.sort().reverse():"function"==typeof e&&(s=e.call(this,s)),this._inItems=s,this._inGroup=n,this.walker(null,null)}return delete this._inLoop,delete this._inItems,delete this._inGroup,delete this._inGroups,!1}var l=Object.keys(this.groups)||[];return"ASC"==t?l.sort():"DESC"==t?l.sort().reverse():"function"==typeof t&&(l=t.call(this,l)),l.unshift("#"),this._inLoop=!0,this._inItems=[],this._inGroups=l,this.walker(e,null)}},h}));
tail.select(".fast-select",{search:!0,descriptions:!0,multiSelectAll:!0,locale:"ru",multiShowCount:!1}),tail.select(".fast-select-simple",{search:!0,descriptions:!0,locale:"ru",multiShowCount:!1}),tail.select(".fast-select-simple-no-search",{descriptions:!0,locale:"ru",multiShowCount:!1});let selectFieldProfile=tail.select(".fast-select-simple-profile",{search:!0,descriptions:!0,locale:"ru",multiShowCount:!1});
/*!
 * JavaScript Custom Forms
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["../../../../../Downloads/w3co-jcf-2c671e2/js/jquery"],t):"object"==typeof exports?module.exports=t(require("../../../../../Downloads/w3co-jcf-2c671e2/js/jquery")):e.jcf=t(jQuery)}(this,(function(e){"use strict";var t=[],n={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,a=/Windows Phone/.test(navigator.userAgent);n.isMobileDevice=!(!o&&!a);!function(){var t,n=navigator.pointerEnabled||navigator.msPointerEnabled,o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,a={};t=n?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(o?" touchstart":""),pointermove:"mousemove"+(o?" touchmove":""),pointerup:"mouseup"+(o?" touchend":"")},e.each(t,(function(t,n){e.each(n.split(" "),(function(e,n){a[n]=t}))})),e.each(t,(function(t,n){n=n.split(" "),e.event.special["jcf-"+t]={setup:function(){var t=this;e.each(n,(function(e,n){t.addEventListener?t.addEventListener(n,r,!1):t["on"+n]=r}))},teardown:function(){var t=this;e.each(n,(function(e,n){t.addEventListener?t.removeEventListener(n,r,!1):t["on"+n]=null}))}}}));var i=null,r=function(t){var n=t||window.event,o=null,r=a[n.type];if((t=e.event.fix(n)).type="jcf-"+r,n.pointerType)switch(n.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=n.pointerType}else t.pointerType=n.type.substr(0,5);return t.pageX||t.pageY||(o=n.changedTouches?n.changedTouches[0]:n,t.pageX=o.pageX,t.pageY=o.pageY),"touchend"===n.type&&(i={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&i&&function(e){var t=Math.abs(e.pageX-i.x),n=Math.abs(e.pageY-i.y);if(t<=25&&n<=25)return!0}(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");e.event.special["jcf-mousewheel"]={setup:function(){var o=this;e.each(t,(function(e,t){o.addEventListener?o.addEventListener(t,n,!1):o["on"+t]=n}))},teardown:function(){var o=this;e.each(t,(function(e,t){o.addEventListener?o.removeEventListener(t,n,!1):o["on"+t]=null}))}};var n=function(t){var n=t||window.event;if((t=e.event.fix(n)).type="jcf-mousewheel","detail"in n&&(t.deltaY=-n.detail),"wheelDelta"in n&&(t.deltaY=-n.wheelDelta),"wheelDeltaY"in n&&(t.deltaY=-n.wheelDeltaY),"wheelDeltaX"in n&&(t.deltaX=-n.wheelDeltaX),"deltaY"in n&&(t.deltaY=n.deltaY),"deltaX"in n&&(t.deltaX=n.deltaX),t.delta=t.deltaY||t.deltaX,1===n.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(e.event.dispatch||e.event.handle).call(this,t)}}();var i={fireNativeEvent:function(t,n){e(t).each((function(){var e;this.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(n,!0,!0),this.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=this,this.fireEvent("on"+n,e))}))},bindHandlers:function(){var t=this;e.each(t,(function(n,o){0===n.indexOf("on")&&e.isFunction(o)&&(t[n]=function(){return o.apply(t,arguments)})}))}},r={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},n)},setOptions:function(t,o){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,o):e.extend(n,t)},addModule:function(o){e.isFunction(o)&&(o=o(e,window));var a=function(o){o.element.data(n.dataKey)||o.element.data(n.dataKey,this),t.push(this),this.options=e.extend({},n,this.options,r(o.element),o),this.bindHandlers(),this.init.apply(this,arguments)},r=function(t){var o=t.data(n.optionsKey),a=t.attr(n.optionsKey);if(o)return o;if(a)try{return e.parseJSON(a)}catch(e){}};a.prototype=o,e.extend(o,i),o.plugins&&e.each(o.plugins,(function(t,n){e.extend(n.prototype,i)}));var s=a.prototype.destroy;a.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}s&&s.apply(this,arguments)},this.modules[o.name]=a},getInstance:function(t){return e(t).data(n.dataKey)},replace:function(t,o,a){var i,s=this;return n.styleSheetCreated||function(){var t=e("<style>").appendTo("head"),o=t.prop("sheet")||t.prop("styleSheet"),a=function(e,t,n){n=n||0,o.insertRule?o.insertRule(e+"{"+t+"}",n):o.addRule(e,t,n)};a("."+n.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),a("."+n.rtlClass+" ."+n.hiddenClass,"right:-9999px !important; left: auto !important"),a("."+n.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),a("."+n.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var i=e("html"),s=e("body");"rtl"!==i.css("direction")&&"rtl"!==s.css("direction")||i.addClass(n.rtlClass),i.on("reset",(function(){setTimeout((function(){r.refreshAll()}),0)})),n.styleSheetCreated=!0}(),e(t).each((function(){var t,r=e(this);(i=r.data(n.dataKey))?i.refresh():(o||e.each(s.modules,(function(e,t){if(t.prototype.matchElement.call(t.prototype,r))return o=e,!1})),o&&(t=e.extend({element:r},a),i=new s.modules[o](t)))})),i},refresh:function(t){e(t).each((function(){var t=e(this).data(n.dataKey);t&&t.refresh()}))},destroy:function(t){e(t).each((function(){var t=e(this).data(n.dataKey);t&&t.destroy()}))},replaceAll:function(t){var n=this;e.each(this.modules,(function(o,a){e(a.prototype.selector,t).each((function(){this.className.indexOf("jcf-ignore")<0&&n.replace(this,o)}))}))},refreshAll:function(o){if(o)e.each(this.modules,(function(t,a){e(a.prototype.selector,o).each((function(){var t=e(this).data(n.dataKey);t&&t.refresh()}))}));else for(var a=t.length-1;a>=0;a--)t[a].refresh()},destroyAll:function(o){if(o)e.each(this.modules,(function(t,a){e(a.prototype.selector,o).each((function(t,o){var a=e(o).data(n.dataKey);a&&a.destroy()}))}));else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=r),r}));
/*!
 * JavaScript Custom Forms : Radio Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e){e.addModule((function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refreshRadioGroup()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each((function(){e.refresh(this)}))},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf);
/*!
 * JavaScript Custom Forms : Checkbox Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e){e.addModule((function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refresh()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}}))}(jcf);
/*!
 * JavaScript Custom Forms : Range Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e){e.addModule((function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,s=[],a=this.realElement.attr("list");a&&(e("#"+a).find("option").each((function(){var a,i=parseFloat(this.value||this.innerHTML);isNaN(i)||(a=t.valueToOffset(i),s.push({value:i,offset:a}),e(t.options.dataListMark).text(i).attr({"data-mark-value":i}).css(t.offsetProperty,a+"%").appendTo(t.track))})),s.length&&(t.dataValues=s))},getDragHandleRange:function(e){var t=-1/0,s=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(s=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:s}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var s=this.handles.eq(0),a=1/0,i=this;return this.handleCount>1&&this.handles.each((function(){var n=parseFloat(this.style[i.offsetProperty])/100,r=Math.abs(n-t);r<a&&(a=r,s=e(this))})),s},onTrackPress:function(e){var t,s,a;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),s=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-s)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),a=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:a,trackOffset:s,min:s,max:s+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var s,a,i;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),s=this.track[this.sizeMethod](),a=this.track.offset()[this.directionProperty],i=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:s,innerOffset:i,trackOffset:a,min:a,max:a+s},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var s,a,i,n,r,h=this;if((s=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?s=this.dragData.min:s>this.dragData.max&&(s=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var l=s-this.dragData.trackOffset;a=(s-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,(function(e,t){var s=t.offset/100*h.dragData.trackSize,i=s-h.options.snapRadius,n=s+h.options.snapRadius;if(l>=i&&l<=n)return a=t.offset,!1}))}else a=(s-this.dragData.trackOffset)/this.dragData.trackSize*100;i=Math.round(a*this.stepsCount/100),this.handleCount>1&&(i<(r=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?i=Math.max(r.minStepIndex,i):i>r.maxStepIndex&&(i=Math.min(r.maxStepIndex,i))),n=i*(100/this.stepsCount),this.dragData.stepIndex!==i&&(this.dragData.stepIndex=i,this.dragData.offset=n,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(i),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,s=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(s||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(e,s){var a,i;e>0&&(a=t.handles[e-1],(i=t.rangeMid[e-1]).style[t.offsetProperty]=a.style[t.offsetProperty],i.style[t.sizeProperty]=parseFloat(s.style[t.offsetProperty])-parseFloat(a.style[t.offsetProperty])+"%")}))},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),s=t,a=this.minValue,i=this.maxValue;isNaN(t)&&(s=0),s+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(a=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(i=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),s>i?s=i:s<a&&(s=a),s!==t&&(this.values[this.activeDragHandleIndex||0]=""+s,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue;return 100*((e-this.minValue)/t)},getSliderValue:function(){return e.map(this.values,(function(e){return parseFloat(e)||0}))},setSliderValue:function(e){var t=this;this.handles.each((function(s,a){a.style[t.offsetProperty]=t.valueToOffset(e[s])+"%"}))},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}}))}(jcf);
/*!
 * JavaScript Custom Forms : File Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e){e.addModule((function(e){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:"undefined"!=typeof photoData?'<span class="jcf-file"><span class="jcf-fake-input" style="background-image: url('+photoData+')"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>':'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"",placeholderText:"",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){var t="",s=this.realElement.prop("files");return s&&s.length?e.each(s,(function(e,s){t+=(e>0?", ":"")+s.name})):t=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),t},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",t),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}}))}(jcf);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e=function(){function e(){var e=this,n=function(n){return t.isNumeric(n)&&(n=Math.floor(n)),t('option[value="'+n+'"]',e.$elem)},i=function(){var i=e.options.initialRating;return i?n(i):t("option:selected",e.$elem)},a=function(){var n=e.$elem.find('option[value="'+e.options.emptyValue+'"]');return!n.length&&e.options.allowEmpty?(n=t("<option />",{value:e.options.emptyValue})).prependTo(e.$elem):n},r=function(t){var n=e.$elem.data("barrating");return void 0!==t?n[t]:n},o=function(t,n){null!==n&&"object"==typeof n?e.$elem.data("barrating",n):e.$elem.data("barrating")[t]=n},l=function(){return r("ratingText")},s=function(){return r("ratingValue")},u=function(){return r("userOptions").reverse?"nextAll":"prevAll"},d=function(t){n(t).prop("selected",!0),r("userOptions").triggerChange&&e.$elem.change()},c=function(){t("option",e.$elem).prop("selected",(function(){return this.defaultSelected})),r("userOptions").triggerChange&&e.$elem.change()},g=function(t){(t=t||l())==r("emptyRatingText")&&(t=""),e.options.showSelectedRating&&e.$elem.parent().find(".br-current-rating").text(t)},f=function(){e.$widget.find("a").removeClass((function(t,e){return(e.match(/(^|\s)br-\S+/g)||[]).join(" ")}))},p=function(){var n,i,a=e.$widget.find('a[data-rating-value="'+s()+'"]'),o=r("userOptions").initialRating,l=t.isNumeric(s())?s():0,d=function(t){return Math.round(Math.floor(10*t)/10%1*100)}(o);if(f(),a.addClass("br-selected br-current")[u()]().addClass("br-selected"),!r("ratingMade")&&t.isNumeric(o)){if(l>=o||!d)return;n=e.$widget.find("a"),(i=a.length?a[r("userOptions").reverse?"prev":"next"]():n[r("userOptions").reverse?"last":"first"]()).addClass("br-fractional"),i.addClass("br-fractional-"+d)}},h=function(n){n.on("click.barrating",(function(n){var i,a,u=t(this),c=r("userOptions");return n.preventDefault(),i=u.attr("data-rating-value"),a=u.attr("data-rating-text"),function(t){return!(!r("allowEmpty")||!r("userOptions").deselectable)&&s()==t.attr("data-rating-value")}(u)&&(i=r("emptyRatingValue"),a=r("emptyRatingText")),o("ratingValue",i),o("ratingText",a),o("ratingMade",!0),d(i),g(a),p(),c.onSelect.call(e,s(),l(),n),!1}))},m=function(e){e.on("mouseenter.barrating",(function(){var e=t(this);f(),e.addClass("br-active")[u()]().addClass("br-active"),g(e.attr("data-rating-text"))}))},v=function(e){e.on("touchstart.barrating",(function(e){e.preventDefault(),e.stopPropagation(),t(this).click()}))},b=function(t){h(t),e.options.hoverState&&(m(t),e.$widget.on("mouseleave.barrating blur.barrating",(function(){g(),p()})))},y=function(t){t.off(".barrating")},w=function(t){var n=e.$widget.find("a");r("userOptions").fastClicks&&v(n),t?(y(n),function(t){t.on("click.barrating",(function(t){t.preventDefault()}))}(n)):b(n)};this.show=function(){r()||(function(){var n=["br-wrapper"];""!==e.options.theme&&n.push("br-theme-"+e.options.theme),e.$elem.wrap(t("<div />",{class:n.join(" ")}))}(),function(){var t=i(),n=a(),r=t.val(),l=t.data("html")?t.data("html"):t.text(),s=null!==e.options.allowEmpty?e.options.allowEmpty:!!n.length,u=n.length?n.val():null,d=n.length?n.text():null;o(null,{userOptions:e.options,ratingValue:r,ratingText:l,originalRatingValue:r,originalRatingText:l,allowEmpty:s,emptyRatingValue:u,emptyRatingText:d,readOnly:e.options.readonly,ratingMade:!1})}(),e.$widget=function(){var n=t("<div />",{class:"br-widget"});return e.$elem.find("option").each((function(){var i,a,o,l;(i=t(this).val())!==r("emptyRatingValue")&&(a=t(this).text(),(o=t(this).data("html"))&&(a=o),l=t("<a />",{href:"#","data-rating-value":i,"data-rating-text":a,html:e.options.showValues?a:""}),n.append(l))})),e.options.showSelectedRating&&n.append(t("<div />",{text:"",class:"br-current-rating"})),e.options.reverse&&n.addClass("br-reverse"),e.options.readonly&&n.addClass("br-readonly"),n}(),e.$widget.insertAfter(e.$elem),p(),g(),w(e.options.readonly),e.$elem.hide())},this.readonly=function(t){"boolean"==typeof t&&r("readOnly")!=t&&(w(t),o("readOnly",t),e.$widget.toggleClass("br-readonly"))},this.set=function(t){var n=r("userOptions");0!==e.$elem.find('option[value="'+t+'"]').length&&(o("ratingValue",t),o("ratingText",e.$elem.find('option[value="'+t+'"]').text()),o("ratingMade",!0),d(s()),g(l()),p(),n.silent||n.onSelect.call(this,s(),l()))},this.clear=function(){var t=r("userOptions");o("ratingValue",r("originalRatingValue")),o("ratingText",r("originalRatingText")),o("ratingMade",!1),c(),g(l()),p(),t.onClear.call(this,s(),l())},this.destroy=function(){var t=s(),n=l(),i=r("userOptions");y(e.$widget.find("a")),e.$widget.remove(),e.$elem.removeData("barrating"),e.$elem.unwrap(),e.$elem.show(),i.onDestroy.call(this,t,n)}}return e.prototype.init=function(e,n){return this.$elem=t(n),this.options=t.extend({},t.fn.barrating.defaults,e),this.options},e}();t.fn.barrating=function(n,i){return this.each((function(){var a=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),a.hasOwnProperty(n)){if(a.init(i,this),"show"===n)return a.show(i);if(a.$elem.data("barrating"))return a.$widget=t(this).next(".br-widget"),a[n](i)}else{if("object"==typeof n||!n)return i=n,a.init(i,this),a.show();t.error("Method "+n+" does not exist on jQuery.barrating")}}))},t.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,triggerChange:!0,onSelect:function(t,e,n){},onClear:function(t,e){},onDestroy:function(t,e){}},t.fn.barrating.BarRating=e}));
"function"!=typeof Object.create&&(Object.create=function(t){function o(){}return o.prototype=t,new o}),function(t,o,i,s){"use strict";var n={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(o,i){this.prepareOptions(o,t.toast.options),this.process()},prepareOptions:function(o,i){var s={};"string"==typeof o||o instanceof Array?s.text=o:s=o,this.options=t.extend({},i,s)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var o="";if(this._toastEl=this._toastEl||t("<div></div>",{class:"jq-toast-single"}),o+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(o+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(o+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),o+='<ul class="jq-toast-ul">';for(var i=0;i<this.options.text.length;i++)o+='<li class="jq-toast-li" id="jq-toast-item-'+i+'">'+this.options.text[i]+"</li>";o+="</ul>"}else this.options.heading&&(o+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),o+=this.options.text;this._toastEl.html(o),!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor),!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==t.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon)),!1!==this.options.class&&this._toastEl.addClass(this.options.class)},position:function(){"string"==typeof this.options.position&&-1!==t.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:t(o).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var t=this;this._toastEl.on("afterShown",(function(){t.processLoader()})),this._toastEl.find(".close-jq-toast-single").on("click",(function(o){o.preventDefault(),"fade"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut((function(){t._toastEl.trigger("afterHidden")}))):"slide"===t.options.showHideTransition?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp((function(){t._toastEl.trigger("afterHidden")}))):(t._toastEl.trigger("beforeHide"),t._toastEl.hide((function(){t._toastEl.trigger("afterHidden")})))})),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",(function(){t.options.beforeShow()})),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",(function(){t.options.afterShown()})),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",(function(){t.options.beforeHide()})),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",(function(){t.options.afterHidden()}))},addToDom:function(){var o=t(".jq-toast-wrap");if(0===o.length?(o=t("<div></div>",{class:"jq-toast-wrap"}),t("body").append(o)):(!this.options.stack||isNaN(parseInt(this.options.stack,10)))&&o.empty(),o.find(".jq-toast-single:hidden").remove(),o.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var i=o.find(".jq-toast-single").length-this.options.stack;i>0&&t(".jq-toast-wrap").find(".jq-toast-single").slice(0,i).remove()}this._container=o},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var t=this._toastEl.find(".jq-toast-loader"),o=(this.options.hideAfter-400)/1e3+"s",i=this.options.loaderBg,s=t.attr("style")||"";s=s.substring(0,s.indexOf("-webkit-transition")),s+="-webkit-transition: width "+o+" ease-in;                       -o-transition: width "+o+" ease-in;                       transition: width "+o+" ease-in;                       background-color: "+i+";",t.attr("style",s).addClass("jq-toast-loaded")},animate:function(){var t=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn((function(){t._toastEl.trigger("afterShown")})):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown((function(){t._toastEl.trigger("afterShown")})):this._toastEl.show((function(){t._toastEl.trigger("afterShown")})),this.canAutoHide()){t=this;o.setTimeout((function(){"fade"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.fadeOut((function(){t._toastEl.trigger("afterHidden")}))):"slide"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger("beforeHide"),t._toastEl.slideUp((function(){t._toastEl.trigger("afterHidden")}))):(t._toastEl.trigger("beforeHide"),t._toastEl.hide((function(){t._toastEl.trigger("afterHidden")})))}),this.options.hideAfter)}},reset:function(o){"all"===o?t(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(t){this.prepareOptions(t,this.options),this.setup(),this.bindToast()}};t.toast=function(t){var o=Object.create(n);return o.init(t,this),{reset:function(t){o.reset(t)},update:function(t){o.update(t)}}},t.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);
!function(t){showSuccessToast=function(i,o,s){"use strict";resetToastPosition(),t.toast({heading:String(i),text:String(o),showHideTransition:"slide",icon:"success",position:"top-right",...s})},showInfoToast=function(i,o){"use strict";resetToastPosition(),t.toast({heading:String(i),text:String(o),showHideTransition:"slide",icon:"info",position:"top-right"})},showWarningToast=function(i,o,s){"use strict";resetToastPosition(),t.toast({heading:String(i),text:String(o),showHideTransition:"slide",icon:"warning",stack:s=s||5,loaderBg:"linear-gradient(135deg, #F8E71B 0%, #F9BF3B 86%)",position:"top-right"})},showDangerToast=function(i,o){"use strict";resetToastPosition(),t.toast({heading:String(i),text:String(o),showHideTransition:"slide",icon:"error",position:"top-right"})},resetToastPosition=function(){t(".jq-toast-wrap").removeClass("bottom-left bottom-right top-left top-right mid-center"),t(".jq-toast-wrap").css({top:"",left:"",bottom:"",right:""})}}(jQuery);
!function(t,o,e,i){var n=function(o,i){this.element=o,this.options={offset:"80%",container:t(e)},this.triggered=!1,this.init(i)};n.prototype={triggerCall:function(o,e){var i=o.scrollTop()+e.offset();!t(e.element).hasClass("triggered")&&i>Math.floor(e.element.offset().top)&&(t(e.element).attr("data-top",e.element.offset().top).addClass("triggered"),e.options.callback.call(e,!0))},Scroll:function(t){var o=this;t.on("scroll",(function(e){n.prototype.triggerCall(t,o)}))},offset:function(){var e=void 0!==t(this.element).attr("data-offset")?t(this.element).attr("data-offset"):this.options.offset;return"number"==typeof e?this.options.offset:e.indexOf("%")?Math.floor(t(o).height()*(parseInt(this.options.offset.match(/[^%]*/i)[0])/100)):void 0},init:function(o){t.extend(this.options,o);var e=this;setTimeout((function(){n.prototype.triggerCall(e.options.container,e)}),500),this.Scroll(this.options.container)}},t.fn.viewPort=function(t){var o=this.data("plugin_viewPort");return o instanceof n?void 0!==t&&o.init(t):(o=new n(this,t),this.data("plugin_viewPort",o)),o}}(jQuery,window,document);
var studyPlaylist,currentPlaylistId,studyPlayer={},studyAllPlaylists=[],studyPlayerID="study_jplayer_main",studyPlayerContainer="study_jp_container";jQuery(document).ready((function(t){"use strict";studyPlayer.init=function(){function a(t){var a=/{(.*?\})/,e=t.replace(a,""),s=t.match(a,"");if(null!=s)var r=s[1].replace("}","");return{link:r,name:e}}studyPlaylist=new studyJPlayerPlaylist({jPlayer:"#"+studyPlayerID,cssSelectorAncestor:"#"+studyPlayerContainer},[{title:"Cro Magnon Man",artist:"The Stark Palace 2{#link2}",mp3:"../assets/mp3/audiojungle1.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"}],{playlistOptions:{enableRemoveControls:!0},swfPath:"/assets/js",supplied:"oga, mp3",useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!1,keyEnabled:!1,audioFullScreen:!0,display:!1,autoPlay:!1}),t("#"+studyPlayerID).bind(t.jPlayer.event.loadeddata,(function(e){a(t(this).data("jPlayer").status.media.artist);var s=t(this).data("jPlayer").status.media.poster;t(this).data("jPlayer").status.media.title;t("#"+studyPlayerContainer+" .current-item .song-poster img").attr("src",s),t("#"+studyPlayerID).find("img").attr("alt","")})),t(document).on("click","#study-playlist .playlist-item .song-poster",(function(){t(this).parent().find(".jp-playlist-item").trigger("click")})),t("#"+studyPlayerID).bind(t.jPlayer.event.play+".jp-repeat",(function(e){var s=t(this).data("jPlayer").status.media.poster;t("#"+studyPlayerContainer).find(".study-player .song-poster img").attr("src",s),t("#"+studyPlayerContainer).find(".blurred-bg").css("background-image","url("+s+")");var r=a(t(this).data("jPlayer").status.media.artist);r.name?t("#"+studyPlayerContainer+" .artist-name").html('<a href="'+r.link+'">'+r.name+"</a>"):t("#"+studyPlayerContainer+" .artist-name").html(r.name),void 0!==currentPlaylistId&&t("[data-album-id='"+currentPlaylistId+"']").addClass("jp-playing")})),t(".study-mute-control").click((function(){var a=t(this);if(a.hasClass("muted")){var e=a.attr("data-volume");t("#"+studyPlayerID).jPlayer("unmute"),a.removeClass("muted"),t("#"+studyPlayerID).jPlayer("volume",e)}else{e=t("#"+studyPlayerID).data("jPlayer").options.volume;a.attr("data-volume",e),t("#"+studyPlayerID).jPlayer("mute").addClass("muted"),a.addClass("muted")}})),t("#"+studyPlayerID).bind(t.jPlayer.event.pause+".jp-repeat",(function(a){void 0!==currentPlaylistId&&t("[data-album-id='"+currentPlaylistId+"']").removeClass("jp-playing")}));var e=!1;t(".jp-progress").mousedown((function(a){e=!0;var l=r(a.pageX,t(this));t(this).addClass("dragActive"),s(l)})),t(document).mouseup((function(a){if(e){e=!1;var l=r(a.pageX,t(".jp-progress.dragActive"));t(".jp-progress.dragActive"),l&&(t(".jp-progress.dragActive").removeClass("dragActive"),s(l))}})),t(document).mousemove((function(a){if(e){var l=r(a.pageX,t(".jp-progress.dragActive"));s(l)}}));var s=function(a){var e=t("#"+studyPlayerID).jPlayer.duration;return t(".jp-play-bar").css("width",a+"%"),t("#"+studyPlayerID).jPlayer("playHead",a),t("#"+studyPlayerID).jPlayer.currentTime=e*a/100,!1};function r(a,e){var s=e,r=(t("#"+studyPlayerID).jPlayer.duration,100*(a-s.offset().left)/s.width());return r>100&&(r=100),r<0&&(r=0),r}var l=!1;t(document).on("mousedown",".jp-volume-bar",(function(t){l=!0,i(t.pageX)})),t(document).mouseup((function(t){l&&(l=!1,i(t.pageX))})),t(document).mousemove((function(t){l&&i(t.pageX)}));var i=function(a){var e=t(".jp-volume-bar"),s=100*(a-e.offset().left)/e.width();s>100&&(s=100),s<0&&(s=0),t("#"+studyPlayerID).jPlayer("volume",s/100)};t(document).on("click",".remove-track-item-playlist",(function(){var t=openMenu.parents("li.item");studyPlaylist.remove(t.length-1)})),t(document).on("click",".remove-track-item-current",(function(){studyPlaylist.remove(studyPlaylist.current)})),studyPlayer.addTrack=function(t){var a,e=tracks[t],s=!1;return studyPlaylist.playlist.forEach((function(e,r){e.id==t&&(s=!0,a=r)})),!1===s&&(studyPlaylist.add(e),a=studyPlaylist.playlist.length-1),a},studyPlayer.transferAlbum=function(a){t(document).on("click",a,(function(a){a.preventDefault();var e=t(this).attr("data-poster-target"),s=t(this).attr("data-poster"),r=t(this).attr("data-track"),l=t(e).clone();l.css("background-image","url("+s+")").fadeOut(0),l.insertAfter(t(e)),t(e).fadeOut("slow",(function(){t(this).remove()})),l.fadeIn("slow");var i=studyPlayer.addTrack(r);studyPlaylist.play(i)}))},studyPlayer.transferAlbum(".transfer-album"),t(document).on("click",".study-album-button",(function(a){var e=parseInt(t(this).attr("data-album-id"));e&&void 0!==studyAllPlaylists[e]&&currentPlaylistId!==e&&(studyPlaylist.setPlaylist(studyAllPlaylists[e]),currentPlaylistId=e),t("#"+studyPlayerID).data().jPlayer.status.paused?setTimeout((function(){studyPlaylist.play(0)}),700):studyPlaylist.pause()})),studyPlayer.addPlaylist=function(t){t&&void 0!==studyAllPlaylists[t]&&studyAllPlaylists[t].forEach((function(t){studyPlaylist.add(t)}))}},studyAllPlaylists[0]=[{title:"Dat Step",artist:"Gunnar Olsen{#link1}",mp3:"../assets/mp3/audiojungle1.mp3",poster:"../assets/images/playlists/playlist-3.jpg"},{title:"Detour",artist:"Gunnar Olsen{#link2}",mp3:"../assets/mp3/Detour.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"},{title:"Do It Right",artist:"Jingle Punks{#link2}",mp3:"../assets/mp3/Do_It_Right.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"},{title:"You're A Mean One, Mr. Grinch",artist:"The Stark Palace{#link1}",mp3:"../assets/mp3/Detour.mp3",poster:"../assets/images/playlists/playlist-3.jpg"}],studyAllPlaylists[1]=[{title:"Cro Magnon Man",artist:"The Stark Palace 2{#link2}",mp3:"../assets/mp3/audiojungle1.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"},{title:"Cro Magnon Man 3",artist:"The Stark Palace 3{#link2}",mp3:"../assets/mp3/Do_It_Right.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"},{title:"You're A Mean One, Mr. Grinch",artist:"The Stark Palace{#link1}",mp3:"../assets/mp3/Detour.mp3",poster:"../assets/images/playlists/playlist-3.jpg"},{title:"Cro Magnon Man",artist:"The Stark Palace 2{#link2}",mp3:"../assets/mp3/Do_It_Right.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"},{title:"Cro Magnon Man 3",artist:"The Stark Palace 3{#link2}",mp3:"../assets/mp3/Detour.mp3",poster:"../assets/images/browse/browse-overview-4.jpg"}],t(window).imagesLoaded((function(){setTimeout((function(){studyPlayer.init()}),100),setTimeout((function(){studyPlaylist.setPlaylist(studyAllPlaylists[0])}),5e3)}))}));
var studyGridEffects={};studyGridEffects.effects={zoomIn:{animeOpts:{duration:function(e,n){return 150*n},easing:"easeOutExpo",delay:function(e,n){return 100+100*n},opacity:{value:[0,1],easing:"linear"},scale:[0,1]}},slideUp:{animeOpts:{duration:function(e,n){return 700+50*n},easing:"easeOutExpo",delay:function(e,n){return 100*n},opacity:{value:[0,1],duration:function(e,n){return 250+50*n},easing:"linear"},translateY:[400,0]}},slideRight:{sortTargetsFn:function(e,n){return n.getBoundingClientRect().left-e.getBoundingClientRect().left},animeOpts:{duration:1500,easing:[.1,1,.3,1],delay:function(e,n){return 400+40*n},opacity:{value:[0,1],duration:600,easing:"linear"},translateX:[1e3,0]}},slideRightSkew:{sortTargetsFn:function(e,n){return n.getBoundingClientRect().left-e.getBoundingClientRect().left},animeOpts:{duration:1500,easing:[.1,1,.3,1],delay:function(e,n){return 400+30*n},opacity:{value:[0,1],duration:600,easing:"linear"},translateX:[1e3,0],rotateZ:[15,0]}},slideLeftSkew:{sortTargetsFn:function(e,n){return n.getBoundingClientRect().left-e.getBoundingClientRect().left},animeOpts:{duration:1e3,easing:[.1,1,.3,1],delay:function(e,n){return 400+20*n},opacity:{value:[0,1],duration:600,easing:"linear"},translateX:[-500,0],rotateZ:[15,0]}},randomBounch:{animeOpts:{duration:1200,elasticity:500,delay:function(e,n){return 300+25*n},opacity:{value:[0,1],duration:300,easing:"linear"},translateX:function(){return[0===anime.random(0,1)?100:-100,0]},translateY:function(){return[0===anime.random(0,1)?100:-100,0]}}},hingle:{perspective:800,origin:"50% 0%",animeOpts:{duration:1500,elasticity:0,delay:function(e,n){return 500+200*n},opacity:{value:[0,1],duration:1e3,easing:"linear"},rotateX:[-90,0]}},bounchIn:{animeOpts:{duration:1100,elasticity:600,delay:function(e,n){return 300+150*n},opacity:{value:[0,1],duration:600,easing:"linear"},scaleX:{value:[.4,1]},scaleY:{value:[.6,1],duration:1e3}}},fadeInSkew:{perspective:1e3,origin:"50% 0%",animeOpts:{duration:800,easing:[.1,1,.3,1],delay:function(e,n){return 300+50*n},opacity:{value:[0,1],duration:600,easing:"linear"},translateX:[100,0],translateY:[-100,0],translateZ:[400,0]}},elasticUp:{origin:"50% 0%",animeOpts:{duration:800,easing:"easeOutBack",delay:function(e,n){return 300+100*n},opacity:{value:[0,1],easing:"linear"},translateY:[400,0],scaleY:[{value:[3,.6],delay:function(e,n){return 100*n+120},duration:300,easing:"easeOutExpo"},{value:[.6,1],duration:1400,easing:"easeOutElastic"}],scaleX:[{value:[.9,1.05],delay:function(e,n){return 100*n+120},duration:300,easing:"easeOutExpo"},{value:[1.05,1],duration:1400,easing:"easeOutElastic"}]}},cardDealer:{animeOpts:{duration:800,easing:"easeOutExpo",delay:function(e,n){return 300+100*n},opacity:{value:[0,1],duration:100,easing:"linear"},translateX:function(e,n){var t=document.body.scrollLeft+document.documentElement.scrollLeft,a=window.innerWidth/2+t,i=e.getBoundingClientRect();return[a-(i.left+t+i.width/2),0]},translateY:function(e,n){var t=document.body.scrollTop+document.documentElement.scrollTop,a=window.innerHeight+t,i=e.getBoundingClientRect();return[a-(i.top+t+i.height/2),0]},rotate:function(e,n){var t=window.innerWidth/2,a=e.getBoundingClientRect();return[a.left+a.width/2<t?90:-90,0]},scale:[0,1]}},zoomOutHide:{animeOpts:{duration:1100,elasticity:0,delay:function(e,n){return 300+100*n},opacity:{value:[1,0],duration:600,easing:"linear"},scale:0}},menuOne:{animeOpts:{duration:1100,elasticity:600,delay:function(e,n){return 300+100*n},opacity:{value:[0,1],duration:600,easing:"linear"},scaleX:{value:[.4,1]},scaleY:{value:[.6,1],duration:1e3}}},menuTwo:{animeOpts:{duration:600,elasticity:0,easing:"easeInOutQuart",delay:function(e,n){return 0+10*n},opacity:{value:[0,1],duration:600,easing:"linear",delay:function(e,n){return 60*n}},translateX:function(e,n){return[-20*n,0]}}}};
function setLink(n,t,o){o?(n.attr("href",t+o),/(tel:.|mailto:|\/wa.me\/|\/t.me\/)/gm.test(t)&&n.text(o),n.show()):/(tel:.|mailto:|\/t.me\/)/gm.test(t)?n.closest(".card-info__contact").hide():n.hide()}function clearValue(n){return["",null,void 0].includes(n)?n:n.match(/\d+/g).join("")}$(document).on("click",".repetitor-contact-send-button",async n=>{n.preventDefault();let t=$(".rep-modal").find("form");t.find("#name").val().length?t.find("#phone").val().length?t.find("#comments").val().length?$.ajax({url:"/messages/create",type:"POST",data:t.serialize(),success:function(){showInfoToast("Успешно!","Ваше сообщение отправлено репетитору!"),$(".rep-modal").modal("hide")},error:function(){showInfoToast("Ошибка!","Сообщите администратору!")}}):showInfoToast("Внимание!","Вы забыли написать Ваше сообщение к репетитору!"):showInfoToast("Внимание!","Вы забыли указать Ваш телефон!"):showInfoToast("Внимание!","Вы забыли указать Ваше имя!")}),$(document).on("click",".button-modal-send-message",n=>{$(".rep-modal").find("input[name=recipient_id]").val($(n.target).data("recipient"))}),$(document).on("click",".button-modal-repetitor-contacts",(function(n){let t=$(".rep-contacts-modal");t.find(".card-info__social").closest(".card-info__contact").show(),$.ajax({url:`/client/api/repetitor/${$(n.target).data("recipient")}/contacts`,type:"GET",global:!1,success:function(n){setLink(t.find(".card-info__contact-link--tel"),"tel: ",n.phone),setLink(t.find(".card-info__contact-link--wa"),"https://wa.me/",clearValue(n.wa_link||n.phone)),setLink(t.find(".card-info__contact-link--mail"),"mailto: ",n.work_email),setLink(t.find(".card-info__contact-link--tg"),"https://t.me/",n.tg_link),setLink(t.find(".card-info__social--fb"),"https://www.facebook.com/",n.fb_link),setLink(t.find(".card-info__social--ig"),"https://www.instagram.com/",n.insta_link),setLink(t.find(".card-info__social--yt"),"https://www.youtube.com/c/",n.yt_link),setLink(t.find(".card-info__social--vk"),"https://vk.com/",n.vk_link),n.fb_link||n.insta_link||n.yt_link||n.vk_link||t.find(".card-info__social").closest(".card-info__contact").hide()},error:function(n){console.error(n)}})})),$(document).on("click",".modal-contacts__close",()=>{$(".rep-contacts-modal").modal("hide")}),$(document).on("click",".repetitor-lesson-send-button",async n=>{n.preventDefault();let t=$(".rep-lesson").find("form");t.find("#name").val().length?t.find("#phone").val().length?t.find("#comments").val().length?$.ajax({url:"/messages/create",type:"POST",data:t.serialize(),success:function(){showInfoToast("Успешно!","Ваше сообщение о записи на урок отправлено репетитору!"),$(".rep-lesson").modal("hide")},error:function(){showInfoToast("Ошибка!","Сообщите администратору!")}}):showInfoToast("Внимание!","Вы забыли написать Ваше сообщение к репетитору!"):showInfoToast("Внимание!","Вы забыли указать Ваш телефон!"):showInfoToast("Внимание!","Вы забыли указать Ваше имя!")}),$(document).on("click",".school-lesson-send-button",async n=>{n.preventDefault();let t=$(".school-lesson").find("form");t.find("#name").val().length?t.find("#phone").val().length?t.find("#comments").val().length?$.ajax({url:"/messages/create",type:"POST",data:t.serialize(),success:function(){showInfoToast("Успешно!","Ваше сообщение о записи на урок отправлено школе!"),$(".school-lesson").modal("hide")},error:function(){showInfoToast("Ошибка!","Сообщите администратору!")}}):showInfoToast("Внимание!","Вы забыли написать Ваше сообщение школе!"):showInfoToast("Внимание!","Вы забыли указать Ваш телефон!"):showInfoToast("Внимание!","Вы забыли указать Ваше имя!")});
let TLoader;class testLoader{constructor(e){this.url="/api/content-test-data?key="+e+"&token="+token,this.data={test:{success:[],fail:[],last:""}},this.dataDB=this.load()}async load(){this.dataDB=await(await fetch(this.url,{headers:{Accept:"application/json"}})).json()}get success(){return this.data.test.success}get fail(){return this.data.test.fail}get last(){return this.data.test.last}get main(){return this.dataDB}setSuccess(e){void 0!==e&&this.data.test.success.push(e)}setFail(e){void 0!==e&&this.data.test.fail.push(e)}setLast(e){void 0!==e&&(this.data.test.last=e)}}function TestingStart(e){console.log(e),$("#main-test-container").addClass("d-none"),$("#answer-test-container").removeClass("d-none"),$("#answer-test-container").addClass("d-block");let t=$(".answer-container").find(".answer-title").length,n=e.test[0].answer.length;for(let s=0;s<t;s++)s>n-1?$(".answer-container").eq(s).addClass("d-none"):(1===parseInt(e.test[0].answer[s].success)&&TLoader.setLast(e.test[0].answer[s].name),$(".answer-container").find(".answer-title").eq(s).text(e.test[0].answer[s].name),$(".answer-container").find(".answer-description").eq(s).text(e.test[0].answer[s].text));$("#question-number").attr("question",1),$("#question-number").attr("question-end",e.test.length+1),$("#question-number").text("Вопрос 1/"+e.test.length),$("#question-title").html(e.test[0].question.text)}function TestingNext(e){let t=$(".answer-container").find(".answer-title").length,n=e.test[0].answer.length,s=$("#question-number").attr("question");if(s!==$("#question-number").attr("question-end")){for(let e=0;e<t;e++)$(".answer-container").find(".answer-icon").eq(e).removeClass("fa fa-check right-answer-icon"),$(".answer-container").find(".answer-description").eq(e).removeClass("d-block"),$(".answer-container").find(".answer-icon").eq(e).removeClass("fa fa-times wrong-answer-icon"),$(".answer-container").find(".answer-counter").eq(e).removeClass("d-none"),$(".answer-container").eq(e).removeClass("d-none");$(".continue-test-button-js").removeClass("d-block"),$("#question-number").text("Вопрос "+parseInt(s)+"/"+e.test.length),$("#question-title").html(e.test[parseInt(s)-1].question.text),n=e.test[parseInt(s)-1].answer.length;for(let a=0;a<t;a++)a>n-1?$(".answer-container").eq(a).addClass("d-none"):(1===parseInt(e.test[parseInt(s)-1].answer[a].success)&&TLoader.setLast(e.test[parseInt(s)-1].answer[a].name),$(".answer-container").find(".answer-title").eq(a).text(e.test[parseInt(s)-1].answer[a].name),$(".answer-container").find(".answer-description").eq(a).text(e.test[parseInt(s)-1].answer[a].text))}else{$("#answer-test-container").removeClass("d-block"),$("#answer-test-container").addClass("d-none"),$("#result-test-container").removeClass("d-none"),$("#result-test-container").addClass("d-block");for(let t=0;t<e.results.length;t++){let n=e.results[t].success.split("-");TLoader.success.length>=n[0]&&n[1]>=TLoader.success.length&&($("#your-result").text("Ваш результат: "+TLoader.success.length),$("#description-result").html(e.results[t].text))}}}$(document).on("click",".begin-test-button",()=>{let e={main:TLoader.main};e.options=JSON.parse(e.main.options),$("#main-test-container").addClass("d-none"),$("#answer-test-container").removeClass("d-none"),$("#answer-test-container").addClass("d-block");let t=$(".answer-container").find(".answer-title").length,n=e.options[0].test[0].answer.length;for(let s=0;s<t;s++)s>n-1?$(".answer-container").eq(s).addClass("d-none"):(1===parseInt(e.options[0].test[0].answer[s].success)&&TLoader.setLast(e.options[0].test[0].answer[s].name),$(".answer-container").find(".answer-title").eq(s).text(e.options[0].test[0].answer[s].name),$(".answer-container").find(".answer-description").eq(s).text(e.options[0].test[0].answer[s].text));$("#question-number").attr("question",1),$("#question-number").attr("question-end",e.options[0].test.length+1),$("#question-number").text("Вопрос 1/"+e.options[0].test.length),$("#question-title").html(e.options[0].test[0].question.text)}),$(document).on("click",".answer-container",e=>{if($(".continue-test-button").hasClass("d-block")||$(".continue-test-button-js").hasClass("d-block"))return;let t=$(".answer-container").find(".answer-title").length;-1===$(e.target).text().indexOf(TLoader.last)?TLoader.setFail($("#question-number").attr("question")):TLoader.setSuccess($("#question-number").attr("question"));for(let e=0;e<t;e++)$(".answer-container").find(".answer-title").eq(e).text()===TLoader.last?($(".answer-container").find(".answer-icon").eq(e).addClass("fa fa-check right-answer-icon"),$(".answer-container").find(".answer-description").eq(e).addClass("d-block")):$(".answer-container").find(".answer-icon").eq(e).addClass("fa fa-times wrong-answer-icon"),$(".answer-container").find(".answer-counter").eq(e).addClass("d-none");$(".continue-test-button").addClass("d-block"),$(".continue-test-button-js").addClass("d-block");let n=$("#question-number").attr("question");n!==$("#question-number").attr("question-end")&&$("#question-number").attr("question",parseInt(n)+1)}),$(document).on("click",".continue-test-button",e=>{let t={main:TLoader.main};t.options=JSON.parse(t.main.options);let n=$(".answer-container").find(".answer-title").length,s=t.options[0].test[0].answer.length,a=$("#question-number").attr("question");if(a!==$("#question-number").attr("question-end")){for(let e=0;e<n;e++)$(".answer-container").find(".answer-icon").eq(e).removeClass("fa fa-check right-answer-icon"),$(".answer-container").find(".answer-description").eq(e).removeClass("d-block"),$(".answer-container").find(".answer-icon").eq(e).removeClass("fa fa-times wrong-answer-icon"),$(".answer-container").find(".answer-counter").eq(e).removeClass("d-none"),$(".answer-container").eq(e).removeClass("d-none");$(".continue-test-button").removeClass("d-block"),$("#question-number").text("Вопрос "+parseInt(a)+"/"+t.options[0].test.length),$("#question-title").html(t.options[0].test[parseInt(a)-1].question.text),s=t.options[0].test[parseInt(a)-1].answer.length;for(let e=0;e<n;e++)e>s-1?$(".answer-container").eq(e).addClass("d-none"):(1===parseInt(t.options[0].test[parseInt(a)-1].answer[e].success)&&TLoader.setLast(t.options[0].test[parseInt(a)-1].answer[e].name),$(".answer-container").find(".answer-title").eq(e).text(t.options[0].test[parseInt(a)-1].answer[e].name),$(".answer-container").find(".answer-description").eq(e).text(t.options[0].test[parseInt(a)-1].answer[e].text))}else{$("#answer-test-container").removeClass("d-block"),$("#answer-test-container").addClass("d-none"),$("#result-test-container").removeClass("d-none"),$("#result-test-container").addClass("d-block");for(let e=0;e<t.options[0].results.length;e++){let n=t.options[0].results[e].success.split("-");TLoader.success.length>=n[0]&&n[1]>=TLoader.success.length&&($("#your-result").text("Ваш результат: "+TLoader.success.length),$("#description-result").html(t.options[0].results[e].text))}}}),$("#test-leadgen-form").on("submit",e=>{e.preventDefault();let t={main:TLoader.main};t.options=JSON.parse(t.main.options);let n={};for(let e=0;e<t.options[0].results.length;e++){let s=t.options[0].results[e].success.split("-");TLoader.success.length>=s[0]&&s[1]>=TLoader.success.length&&(n={success:TLoader.success.length,description:t.options[0].results[e].text})}const s={email:$("#test-leadgen-form").find("input[name=email_test]")[0].value,phone:$("#test-leadgen-form").find("input[name=phone_test]")[0].value,email_recipient:t.options[0].testType.email,test:{name:t.options[0].name,results:n}};$.ajax({url:"/content-test/send-result",type:"POST",data:s,success:function(e){const t=JSON.parse(e);showInfoToast("Ваша заявка успешно отправлена",t.message)}})});
let donate_async,_URL=window.URL||window.webkitURL;function addImageProcess(e){return new Promise((t,n)=>{let o=new Image;o.onload=()=>t({width:o.width,height:o.height}),o.onerror=n,o.src=_URL.createObjectURL(e)})}async function readURL(e){if(e.files&&e.files[0]){let t,n=e.files[0];try{t=await addImageProcess(n)}catch(e){return void console.error(e)}let o=n.size/1024;if(t.width<=400||t.height<=400)return showInfoToast("Ошибка","Высота и ширина картинки должны быть больше 400 px!"),void reset($(e));if(o.toFixed(0)>1e3)return showInfoToast("Ошибка","Картина должна весить меньше 1 мб!"),void reset($(e));let r=new FileReader;$(".file-label").text(n.name),r.onload=e=>{$(".avatar").attr("src",e.target.result)},r.readAsDataURL(e.files[0])}}async function readURLREP(e){if(e.files&&e.files[0]){let t,n=e.files[0];$(".info-rep").text("");try{t=await addImageProcess(n)}catch(e){return void console.error(e)}let o=n.size/1024;if(t.width<=400||t.height<=400)return $(".info-rep").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${o.toFixed(0)} Кб`),showInfoToast("Ошибка","Высота и ширина картинки должны быть больше 400 px!"),void reset($(e));if(o.toFixed(0)>1e3)return $(".info-rep").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${o.toFixed(0)} Кб`),showInfoToast("Ошибка","Картина должна весить меньше 1 мб!"),void reset($(e));let r=new FileReader;$(".file-label-rep").text(n.name),r.onload=e=>{$(".avatar-rep").attr("src",e.target.result)},r.readAsDataURL(e.files[0])}}async function readURLGallery(e){if(e.files&&e.files[0]){let t,n=e.files[0],o=$(e).parents(".block-gallery");o.find(".info-gallery").text("");try{t=await addImageProcess(n)}catch(e){return void console.error(e)}let r=n.size/1024;if(t.width<=400||t.height<=400)return o.find(".info-gallery").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${r.toFixed(0)} Кб`),showInfoToast("Ошибка","Высота и ширина картинки должны быть больше 400 px!"),void reset($(e));if(r.toFixed(0)>1e3)return o.find(".info-gallery").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${r.toFixed(0)} Кб`),showInfoToast("Ошибка","Картина должна весить меньше 1 мб!"),void reset($(e));let a=new FileReader;o.find(".file-label-gallery").text(n.name),a.onload=e=>{o.find(".avatar-gallery").attr("src",e.target.result)},a.readAsDataURL(e.files[0])}}async function readURLEvent(e){if(e.files&&e.files[0]){let t,n=e.files[0],o=$(e).parents(".block-event");o.find(".info-event").text("");try{t=await addImageProcess(n)}catch(e){return void console.error(e)}let r=n.size/1024;if(t.width<=400||t.height<=400)return o.find(".info-event").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${r.toFixed(0)} Кб`),showInfoToast("Ошибка","Высота и ширина картинки должны быть больше 400 px!"),void reset($(e));if(r.toFixed(0)>1e3)return o.find(".info-event").text(`Ширина: ${t.width} | Высота: ${t.height} | Размер файла: ${r.toFixed(0)} Кб`),showInfoToast("Ошибка","Картина должна весить меньше 1 мб!"),void reset($(e));let a=new FileReader;o.find(".file-label-event").text(n.name),a.onload=e=>{o.find(".avatar-event").attr("src",e.target.result)},a.readAsDataURL(e.files[0])}}function rotation_payment_form(e){e.preventDefault(),$.ajax({url:"/payment",method:"POST",data:`${$(this).serialize()}&account=${username}`,success:function(e){e.error?showWarningToast("Ошибка!",e.error):e.result&&(showSuccessToast("Отлично!",e.result),window.location.href=e.link)},error:function(){showWarningToast("Ошибка!","Сообщите администратору!")}})}async function form_shop_main(e){e.preventDefault();let t={account:username,type:1,options:[{comment:$("#comment-shop-main")[0].value,id:$("#donate-list")[0].value}]},n=new XMLHttpRequest;n.open("POST","/payment"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);e.error?showWarningToast("Ошибка!",e.error):e.result&&(showSuccessToast("Отлично!",e.result),window.location.href=e.link)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}async function donate_list_async(){return void 0===donate_async?await(await fetch("/api/donate-list?token="+token)).json():donate_async}async function form_profile_main(e){e.preventDefault();let t,n=$(".file-upload")[0].files[0];if(void 0!==n){let o=new FormData;o.append("uploadFile",n);try{t=await makeRequest("POST","/manager/file/upload/user",o,"photo")}catch(e){return void console.error(e)}t="object"!=typeof t?JSON.parse(t):t,n="/uploads/server/"+t.fileName}else n=photoData;let o={options:[{name:$("input[name=name-profile-main]")[0].value,surname:$("input[name=surname-profile-main]")[0].value,lastname:$("input[name=lastname-profile-main]")[0].value,skype:$("input[name=skype-profile-main]")[0].value,phone:$("input[name=phone-profile-main]")[0].value,birthday:$("input[name=birthday-profile-main]")[0].value,about:$("#about-profile-main")[0].value,photo:n}],username:username};try{t=await makeRequest("POST","/user/edit-profile",o,"profile")}catch(e){return void console.error(e)}t="object"==typeof t?t:JSON.parse(t),void 0===t.error?showInfoToast("Успешно!",t.message):showInfoToast("Ошибка!",t.error)}async function form_profile_mail(e){e.preventDefault();let t={email:$("input[name=email-profile-mail]")[0].value,password:$("input[name=password-profile-mail]")[0].value,username:username},n=new XMLHttpRequest;n.open("POST","/user/edit-mail"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);void 0===e.error?showSuccessToast("Отлично!",e.message):showWarningToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}async function form_profile_password(e){if(e.preventDefault(),$("input[name=np-profile-password]")[0].value!==$("input[name=npr-profile-password]")[0].value)return void showWarningToast("Ошибка!","Подтвердите новый пароль правильно, Вы допустили ошибку в подтверждении нового пароля.");let t={password:$("input[name=password-profile-password]")[0].value,new_password:$("input[name=np-profile-password]")[0].value,username:username},n=new XMLHttpRequest;n.open("POST","/user/edit-password"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);void 0===e.error?showSuccessToast("Отлично!",e.message):showWarningToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}function login_form_profile(e){e.preventDefault();let t={username:$("input[name=username-login-form-profile]").val(),password:$("input[name=password-login-form-profile]").val()},n=new XMLHttpRequest;n.open("POST","/user/auth"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);e.access?(showSuccessToast("Отлично!","Вы успешно авторизировались!"),location.reload()):showDangerToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}function register_form_profile(e){e.preventDefault();let t={username:$("input[name=username-register-form-profile]").val(),password:$("input[name=password-register-form-profile]").val(),email:$("input[name=email-register-form-profile]").val()},n=new XMLHttpRequest;n.open("POST","/user/register"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);void 0===e.error?showSuccessToast("Отлично!",e.message):showWarningToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}function restore_password_form_profile(e){e.preventDefault();let t={email:$("#lost_email").val()},n=new XMLHttpRequest;n.open("POST","/user/restore-password"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);void 0===e.error?showSuccessToast("Отлично! Проверьте вашу почту",e.message):showWarningToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}function login_form(e){e.preventDefault();let t={username:$("input[name=login_username]").val(),password:$("input[name=login_password]").val()},n=new XMLHttpRequest;n.open("POST","/user/auth"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onload=function(){let e=JSON.parse(this.responseText);e.access?(showSuccessToast("Отлично!","Вы успешно авторизировались!"),e.redirect&&history.replaceState("","",e.redirect),location.reload()):showDangerToast("Ошибка!",e.error)},n.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}function register_form(e){e.preventDefault(),$.ajax({url:"/user/register",type:"POST",data:$(this).serialize(),success:function(e){let t=JSON.parse(e);void 0===t.error?(showSuccessToast("Отлично!",t.message,{hideAfter:!1}),$("#login-modal").modal("hide")):showWarningToast("Ошибка!",t.error)},error:function(){showWarningToast("Ошибка!","Сообщите администратору!")}})}window.reset=function(e){e.wrap("<form>").closest("form").get(0).reset(),e.unwrap()},$(document).on("change",".file-upload",(function(){readURL(this).catch(e=>console.error(e))})),$(document).on("change",".file-upload-rep",(function(){readURLREP(this).catch(e=>console.error(e))})),$(document).on("change",".file-upload-gallery",(function(){readURLGallery(this).catch(e=>console.error(e))})),$(document).on("change",".file-upload-event",(function(){readURLEvent(this).catch(e=>console.error(e))})),$(document).on("keyup","#about-profile-main",(function(){$(this)[0].value.length>=1e3&&($(this)[0].value=$(this)[0].value.substring(0,1e3),showInfoToast("Ошибка","Максимум 1000 символов Вы можете написать о себе!")),$(".about-profile-main-count").text($(this)[0].value.length)})),$(document).on("keyup","#comment-shop-main",(function(){$(this)[0].value.length>=1e3&&($(this)[0].value=$(this)[0].value.substring(0,1e3),showInfoToast("Ошибка","Максимум 1000 символов Вы можете написать в комментарии!")),$(".comment-shop-main-count").text($(this)[0].value.length)})),$(document).on("submit",".form-profile-shop",rotation_payment_form),$(".form-profile-shop").on("submit",rotation_payment_form),$(document).on("submit","#form-shop-main",form_shop_main),$("#form-shop-main").on("submit",form_shop_main),$(document).on("change","#donate-project",async()=>{let e,t=$("#donate-project")[0].value,n=$("#donate-list");n.find("option").remove().end();try{e=await donate_list_async()}catch(e){return void console.error(e)}let o="";for(let n of e)if(t===n.project)for(let e of n.list)o+=`<option value="${e.id}">${e.name} | Время ${e.time} | Цена ${e.price} руб.</option>`;n.append(o)}),$(document).on("submit","#form-profile-main",form_profile_main),$("#form-profile-main").on("submit",form_profile_main),$(document).on("submit","#form-profile-mail",form_profile_mail),$("#form-profile-mail").on("submit",form_profile_mail),$(document).on("submit","#form-profile-password",form_profile_password),$("#form-profile-password").on("submit",form_profile_password),$(document).on("click",".register-profile-button",(function(e){$(e.target).parent().parent().toggle(),$("#register-form-profile").toggle()})),$(document).on("click",".login-profile-button",(function(e){$(e.target).parent().parent().toggle(),$("#login-form-profile").toggle()})),$(document).on("click",".lost-profile-button",(function(e){$(e.target).parent().parent().toggle(),$("#lost-form-profile").toggle()})),$(document).on("submit","#login-form-profile",login_form_profile),$("#login-form-profile").on("submit",login_form_profile),$(document).on("submit","#register-form-profile",register_form_profile),$("#register-form-profile").on("submit",register_form_profile),$("#lost-form").on("submit",restore_password_form_profile),$(document).on("submit","#login-form",login_form),$("#login-form").on("submit",login_form),$(document).on("submit","#register-school-form, #register-repetitor-form, #register-user-form",register_form),$("form#register-school-form, form#register-repetitor-form, form#register-user-form").on("submit",register_form);let csn_async,idText=0,addFormGroup=function(e){e.preventDefault(),idText+=1;let t=$(this).closest(".form-group"),n=t.closest(".multiple-form-group"),o=t.clone();o.attr("data-block",2),o.find("option").removeAttr("selected"),o.find("select").removeAttr("disabled"),o.find("select").removeAttr("data-select-hidden"),o.find("select").removeAttr("data-tail-select"),o.find("select").removeAttr("style"),o.find("input").val("").removeAttr("disabled"),o.find("div.mce-tinymce").remove(),o.find("div.tail-select").remove(),o.find("textarea").css("display","block"),o.find(".concept").text("Phone"),o.insertAfter(t),o.find("textarea").val(""),o.find("input[name=nameEvent]").attr("url",""),o.find("input[name=nameEvent]").attr("paid","0"),o.find("img").attr("src","/uploads/server/oUqoMQr0yenLU9jc.png"),o.find("textarea").attr("id",o.find("textarea").attr("id")+"-"+idText);let r=o.find("textarea").attr("id"),a=n.find(".form-group:last");n.data("max")<=countFormGroup(n)&&a.find(".btn-add-profile").attr("disabled",!0),tinymce.execCommand("mceAddEditor",!1,r),tail.select(".fast-select-simple-profile",{search:!0,descriptions:!0,locale:"ru",multiShowCount:!1})},removeFormGroup=function(e){e.preventDefault();let t=$(this).closest(".form-group");1!==parseInt(t.attr("data-block"))?swal({title:"Вы уверены?",text:"Если Вы сохраните репетитора данная информация удалится безвозвратно!",icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{if(e){let e=t.closest(".multiple-form-group"),n=e.find(".form-group:last");e.data("max")>=countFormGroup(e)&&n.find(".btn-add-profile").attr("disabled",!1),t.remove()}else swal("Отмена действия!","Вы успешно отменили действие!","success")}):showWarningToast("Ошибка!","Запрещено удалять первый элемент")},countFormGroup=function(e){return e.find(".form-group").length};async function csn_list_async(){return void 0===csn_async?await(await fetch("/api/csn-city?token="+token)).json():csn_async}$(document).on("click",".btn-add-profile",addFormGroup),$(document).on("click",".btn-remove-profile",removeFormGroup),$(document).on("change","#experience",()=>{$(".experience-slider").text($("#experience")[0].value)}),$("#csn_country").on("change",async e=>{let t,n=$("#csn_country"),o=$("#csn_region");$("input[name=csn_address]")[0].value="";let r=$(".csn_metro_block"),a=$(".csn_district_block");r.hasClass("d-none")||r.addClass("d-none"),a.hasClass("d-none")||a.addClass("d-none");let i=$(".csn_region_block"),s=$(".csn_city_block");if("default"===n[0].value)return i.hasClass("d-none")||i.addClass("d-none"),void(s.hasClass("d-none")||s.addClass("d-none"));i.hasClass("d-none")&&i.removeClass("d-none"),s.hasClass("d-none")||s.addClass("d-none");try{t=await csn_list_async()}catch(e){return void console.error(e)}o.find("option").remove().end();let l='<option value="default">Выберите регион...</option>',u=t.findIndex(e=>e.name===n[0].value);for(let e of t[u].region)l+=`<option value="${e.name}">${e.name}</option>`;o.append(l);for(let e of selectFieldProfile)e.reload()}),$("#csn_region").on("change",async e=>{let t,n=$("#csn_country"),o=$("#csn_region"),r=$("#csn_city");$("input[name=csn_address]")[0].value="";let a=$(".csn_metro_block"),i=$(".csn_district_block");a.hasClass("d-none")||a.addClass("d-none"),i.hasClass("d-none")||i.addClass("d-none");let s=$(".csn_city_block");if("default"===o[0].value)return void(s.hasClass("d-none")||s.addClass("d-none"));s.hasClass("d-none")&&s.removeClass("d-none");try{t=await csn_list_async()}catch(e){return void console.error(e)}r.find("option").remove().end();let l='<option value="default">Выберите город...</option>',u=t.findIndex(e=>e.name===n[0].value);if(-1===u)return;let d=t[u].region.findIndex(e=>e.name===o[0].value);for(let e of t[u].region[d].city)l+=`<option value="${e.name}">${e.name}</option>`;r.append(l);for(let e of selectFieldProfile)e.reload()}),$(document).on("submit","#repetitor-edit-form",repetitor_edit_form),$("#repetitor-edit-form").on("submit",repetitor_edit_form);let regularPage=/([а-яё])|([\s_-])|([^a-z\d])/;function toTranslit(e){return e.replace(/([а-яё])|([\s_-])|([^a-z\d])/gi,(function(e,t,n,o,r){if(n||o)return n?"-":"";let a=t.charCodeAt(0);return["yo","a","b","v","g","d","e","zh","z","i","y","k","l","m","n","o","p","r","s","t","u","f","h","c","ch","sh","shch","","y","","e","yu","ya"][1025===a||1105===a?0:a>1071?a-1071:a-1039]}))}async function repetitor_edit_form(e){e.preventDefault(),tinymce.triggerSave();let t,n=$("#repetitor-edit-form").attr("repetitor-id"),o=$(".block-theme").map((function(){return{id:parseInt($(this).find(".theme-selector")[0].value)}})).get(),r=$(".block-donate").map((function(){return{name:$(this).find("input[name=name-donate]")[0].value,time:$(this).find("input[name=time-donate]")[0].value,price:$(this).find("input[name=price-donate]")[0].value}})).get(),a=$(".block-education").map((function(){return{name:$(this).find("input[name=name-education]")[0].value,time:$(this).find("input[name=time-education]")[0].value}})).get(),i=$(".block-experience").map((function(){return $(this).find("input[name=name-experience]")[0].value.length?{name:$(this).find("input[name=name-experience]")[0].value,time:$(this).find("input[name=time-experience]")[0].value}:{}})).get(),s=[];for(let e of o)s.push(e.id);if(new Set(s).size!==s.length)return void showWarningToast("Ошибка!","Во время добавления информации в Темы Вы вы добавили две или более одинаковые темы, замените или удалите их!");let l={country:$("#csn_country")[0].value,region:$("#csn_region")[0].value,city:$("#csn_city")[0].value,address:$("input[name=csn_address]")[0].value.length?$("input[name=csn_address]")[0].value:"неизвестно"};if("default"===l.country||"default"===l.region||"default"===l.city)return void showWarningToast("Ошибка!","Укажите все пункты в расположении иначе Вашу карточку ни кто ни увидет.");let u=$(".file-upload-rep")[0].files[0];if(void 0!==u){let n=new FormData;n.append("uploadFile",u);try{t=await makeRequest("POST","/manager/file/upload/user",n,"photo")}catch(e){return void console.error(e)}t="object"!=typeof t?JSON.parse(t):t,u="/uploads/server/"+t.fileName}else{let e=$(".avatar-rep").attr("src");if("/uploads/server/oUqoMQr0yenLU9jc.png"===e)return void showWarningToast("Ошибка!","Без фотографии Ваша карточка не будет допущена на модерацию!");u=e}let d={options:[{logotype:u,name:$("input[name=name]")[0].value,description:$("#description")[0].value,email:$("input[name=email]")[0].value,phone:$("input[name=phone]")[0].value,language:$("input[name=language]")[0].value,education:$("input[name=education]")[0].value,video:$("input[name=video]")[0].value,experience:$("#experience")[0].value,address:[l],experience_block:i,education_block:a,type:parseInt($(".type-selector")[0].value),donate:r,text:$("#editor")[0].value}],name:$("input[name=name]")[0].value,city_id:$("select#csn_city option:selected").data().city,theme:o,id:n};try{t=await makeRequest("POST","/client/edit?table=repetitor_list&type=5&update=repetitor-moderate|repetitor-list|repetitor",d,"profile")}catch(e){return void console.error(e)}t="object"==typeof t?t:JSON.parse(t),void 0===t.error?showInfoToast("Успешно!",t.message):showInfoToast("Ошибка!",t.error)}function changeMinDateForToDate(e){var t=$('input[name="fromDate"]');t.attr("min",e);var n=new Date(e),o=new Date(t.val());(n.getFullYear()>o.getFullYear()||n.getMonth()>o.getMonth()||n.getDate()>o.getDate())&&t.val(e)}$('input[name="toDate"]').change((function(){changeMinDateForToDate($(this).val())}));let globalCountEventsSearch=0;function searchEvents(e,t,n){if(n===globalCountEventsSearch)for(let n=0;n<e.length;n++){const o=e[n];let r=o.getAttribute("title"),a=o.getAttribute("style");a=-1===r.indexOf(t)?"display: none!important;":"",o.setAttribute("style",a)}}async function school_edit_form(e){e.preventDefault(),tinymce.triggerSave();let t,n=$("#school-edit-form").attr("school-id"),o=$(".block-theme").map((function(){return{id:parseInt($(this).find(".theme-selector")[0].value)}})).get(),r=$(".block-address").map((function(){return{city:$(this).find("input[name=city-address]")[0].value,address:$(this).find("input[name=address-address]")[0].value.length?$(this).find("input[name=address-address]")[0].value:"неизвестно"}})).get(),a=$(".block-donate").map((function(){return{name:$(this).find("input[name=name-donate]")[0].value,time:$(this).find("input[name=time-donate]")[0].value,price:$(this).find("input[name=price-donate]")[0].value}})).get(),i=$(".block-gallery").map((function(){let e=$(this).find(".file-upload-gallery")[0].files[0];if(void 0!==e)return e;{let e=$(this).find(".avatar-gallery").attr("src");return"/uploads/server/oUqoMQr0yenLU9jc.png"===e?void showWarningToast("Ошибка!","Без фотографии Ваша карточка не будет допущена на модерацию!"):e}})).get();for(let[n,o]of i.entries())if("string"!=typeof o){let r=new FormData;r.append("uploadFile",o);try{t=await makeRequest("POST","/manager/file/upload/user",r,"photo")}catch(e){return void console.error(e)}t="object"!=typeof t?JSON.parse(t):t,i[n]="/uploads/server/"+t.fileName}let s=$(".block-event").map((function(){let e,t=$(this).find(".file-upload-event")[0].files[0];if(void 0!==t)e=t;else{let t=$(this).find(".avatar-event").attr("src");if("/uploads/server/oUqoMQr0yenLU9jc.png"===t)return void showWarningToast("Ошибка!","Без фотографии Ваша карточка не будет допущена на модерацию!");e=t}if(!$(this).find("input[name=descriptionEvent]")[0].value.length&&!$(this).find("input[name=nameEvent]")[0].value.length)return;let n={name:$(this).find("input[name=nameEvent]")[0].value,picture:e,description:$(this).find("input[name=descriptionEvent]")[0].value,text:$(this).find(".client-editor")[0].value,page:"",paid:0,themeSales:[],toDate:$(this).find(".to-date-event")[0].value,fromDate:$(this).find(".from-date-event")[0].value},o=$(this).find(".theme-selector-sale");for(let e=0;e<o.length;e++){const t=o[e];n.themeSales[n.themeSales.length]=t.value}return $(this).find("input[name=nameEvent]").attr("url").length?(n.page=$(this).find("input[name=nameEvent]").attr("url"),n.paid=parseInt($(this).find("input[name=nameEvent]").attr("paid")),n):(n.page=toTranslit($(this).find("input[name=nameEvent]")[0].value.toLowerCase()),n)})).get();for(let[n,o]of s.entries())if("string"!=typeof o.picture){let r=new FormData;r.append("uploadFile",o.picture);try{t=await makeRequest("POST","/manager/file/upload/user",r,"photo")}catch(e){return void console.error(e)}t="object"!=typeof t?JSON.parse(t):t,s[n].picture="/uploads/server/"+t.fileName}let l=[];for(let e of o)l.push(e.id);if(new Set(l).size!==l.length)return void showWarningToast("Ошибка!","Во время добавления информации в Темы Вы вы добавили две или более одинаковые темы, замените или удалите их!");let u=[];for(let e of s){if(void 0!==e.paid&&isNaN(e.paid))return void showWarningToast("Ошибка!","Вы забыли указать Оплачено ли Событие или нет!");u.push(e.page)}if(new Set(u).size!==u.length)return void showWarningToast("Ошибка!","Во время добавления информации в События И Акции Вы сделали два или более одинаковых URL, замените или удалите их!");let d=$(".file-upload-rep")[0].files[0];if(void 0!==d){let n=new FormData;n.append("uploadFile",d);try{t=await makeRequest("POST","/manager/file/upload/user",n,"photo")}catch(e){return void console.error(e)}t="object"!=typeof t?JSON.parse(t):t,d="/uploads/server/"+t.fileName}else{let e=$(".avatar-rep").attr("src");if("/uploads/server/oUqoMQr0yenLU9jc.png"===e)return void showWarningToast("Ошибка!","Без фотографии Ваша карточка не будет допущена на модерацию!");d=e}let p={options:[{logotype:d,name:$("input[name=name]")[0].value,description:$("input[name=description]")[0].value,site:$("input[name=site]")[0].value,email:$("input[name=email]")[0].value,phone:$("input[name=phone]")[0].value,start_date:$("input[name=start-date]")[0].value,academic_price:$("input[name=academic-price]")[0].value,badge:[{name:$("input[name=badge-1]")[0].value,paid:$("input[name=badge-1]").attr("paid")},{name:$("input[name=badge-2]")[0].value,paid:$("input[name=badge-2]").attr("paid")}],address:r,donate:a,gallery:i,text:$("#editor")[0].value,event:s}],name:$("input[name=name]")[0].value,theme:o,id:n};try{t=await makeRequest("POST","/client/edit?table=school_list&type=6&update=school-moderate|school-list|school",p,"profile")}catch(e){return void console.error(e)}t="object"==typeof t?t:JSON.parse(t),void 0===t.error?showInfoToast("Успешно!",t.message):showInfoToast("Ошибка!",t.error)}function repetitor_pay_form(e){if(e.preventDefault(),-1===$(this).find(".donate-selector")[0].value.indexOf("-"))return void showWarningToast("Ошибка!","Выберите на сколько дней вы хотите купить!");let t=$(this).find(".donate-selector")[0].value.split("-"),n={account:username,type:2,options:[{id_rep:$(this).attr("id-rep"),id_theme:$(this).attr("id-theme"),date_at:$(this).attr("date-at"),days:t[0],price:t[1]}]},o=new XMLHttpRequest;o.open("POST","/payment"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(n)),o.onload=function(){let e=JSON.parse(this.responseText);e.error?showWarningToast("Ошибка!",e.error):e.result&&(showSuccessToast("Отлично!",e.result),window.location.href=e.link)},o.onerror=function(){showWarningToast("Ошибка!","Сообщите администратору!")}}$(".search-events-js").keyup((function(){globalCountEventsSearch++;let e=$(this).val(),t=$("#all-events-js").find(".schools-item");setTimeout(searchEvents,500,t,e,globalCountEventsSearch)})),$(document).on("submit","#school-edit-form",school_edit_form),$("#school-edit-form").on("submit",school_edit_form),$(document).on("submit",".repetitor-pay-form",repetitor_pay_form),$(".repetitor-pay-form").on("submit",repetitor_pay_form);
async function review_rep(e){e.preventDefault(),$("#raiting-review-rep").val().length?$("#text-review-rep").val().length?$.ajax({url:"/comments/create",type:"POST",data:$(this).serialize(),success:function(){showInfoToast("Успешно!","Спасибо за отзыв!"),location.reload()},error:function(){showInfoToast("Ошибка!","Ошибка обработки запроса!")}}):showInfoToast("Внимание!","Вы забыли написать отзыв!"):showInfoToast("Внимание!","Вы забыли указать рейтинг!")}async function review_rep_noreg(e){e.preventDefault(),$("#email-review-rep").val().length?$("#name-review-rep").val().length?$("#raiting-review-rep").val().length?$("#text-review-rep").val().length?$("#g-recaptcha-response").val().length?$.ajax({url:"/comments/create",type:"POST",data:$(this).serialize(),success:function(){showInfoToast("Успешно!","Спасибо за отзыв!"),location.reload()},error:function(){showInfoToast("Ошибка!","Ошибка обработки запроса!")}}):showInfoToast("Внимание!","Пройдите капчу!"):showInfoToast("Внимание!","Вы забыли написать отзыв!"):showInfoToast("Внимание!","Вы забыли указать рейтинг!"):showInfoToast("Внимание!","Вы забыли указать Имя!"):showInfoToast("Внимание!","Вы забыли указать email!")}async function review_abroad_school(e){e.preventDefault();let o={username:username,photo:photoData,text:$("#text-review-school")[0].value,school:$("#review-abroad-school").attr("id-school"),raiting:$("#raiting-review-school")[0].value};if(!o.raiting.length)return void showInfoToast("Внимание!","Вы забыли указать рейтинг!");if(!o.text.length)return void showInfoToast("Внимание!","Вы забыли написать отзыв!");let t=new XMLHttpRequest;t.open("POST","/client/create?table=abroad_review&type=8&update=abroad-review|abroad-list|abroad"),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(o)),t.onload=function(){let e="object"==typeof this.responseText?this.responseText:JSON.parse(this.responseText);void 0===e.error?(showInfoToast("Успешно!",e.message),location.reload()):showInfoToast("Ошибка!",e.error)},t.onerror=function(){showInfoToast("Ошибка!","Сообщите администратору!")}}async function review_school(e){e.preventDefault(),$("#raiting-review-school").val().length?$("#text-review-school").val().length?$.ajax({url:"/comments/create",type:"POST",data:$(this).serialize(),success:function(){showInfoToast("Успешно!","Спасибо за отзыв!"),setTimeout(location.reload(),1e4)},error:function(){showInfoToast("Ошибка!","Ошибка обработки запроса!")}}):showInfoToast("Внимание!","Вы забыли написать отзыв!"):showInfoToast("Внимание!","Вы забыли указать рейтинг!")}async function reg_rep(e){e.preventDefault(),$.ajax({url:"/user/register",type:"POST",data:$(this).serialize(),success:function(e){let o=JSON.parse(e);void 0===o.error?(showSuccessToast("Отлично!",o.message),ym(10436950,"reachGoal","finishrep"),ga("send","event","regrep","sendform"),setTimeout((function(){$("#modal-become-repetitor").modal("hide")}),2e3)):showWarningToast("Ошибка!",o.error)},error:function(){showWarningToast("Ошибка!","Сообщите администратору!")}})}async function reg_school(e){e.preventDefault(),$.ajax({url:"/user/register",type:"POST",data:$(this).serialize(),success:function(e){let o=JSON.parse(e);void 0===o.error?(showSuccessToast("Отлично!",o.message),ym(10436950,"reachGoal","finishschool"),ga("send","event","regschool","sendform"),setTimeout((function(){$("#modal-school-reg").modal("hide")}),2e3)):showWarningToast("Ошибка!",o.error)},error:function(){showWarningToast("Ошибка!","Сообщите администратору!")}})}$(document).on("submit","#review-rep",review_rep),$("#review-rep").on("submit",review_rep),$("#review-rep-noreg").on("submit",review_rep_noreg),$(document).on("submit","#review-abroad-school",review_abroad_school),$("#review-abroad-school").on("submit",review_abroad_school),$(document).on("submit","#review-school",review_school),$("#review-school").on("submit",review_school),$(document).on("click",".show-more-repetitor",()=>{let e=0;$(".filter-item").each((function(o,t){$(".filter-item").hasClass("d-none")||$(".show-more-repetitor").hide(),$(this).hasClass("d-none")&&e<12&&(e+=1,$(this).removeClass("d-none"))}))}),$(document).on("submit","#reg-rep",reg_rep),$("form#reg-rep").on("submit",reg_rep),$(document).off("submit").on("submit","#reg-school",reg_school),$("#reg-school").off("submit").on("submit","#reg-school",reg_school);
let TCourseLoader;class testCourseLoader{constructor(e){this.url="/api/courses-test?key="+e+"&token="+token,this.data={test:{answer:[],ignore:[]}},this.dataDB=this.load()}async load(){this.dataDB=await(await fetch(this.url)).json()}get answer(){return this.data.test.answer}get ignore(){return this.data.test.ignore}get main(){return this.dataDB}setAnswer(e,t){void 0===t?void 0!==e&&this.data.test.answer.push(e):this.data.test.answer[t].result=e.result}setIgnore(e,t){void 0===t?void 0!==e&&this.data.test.ignore.push(e):this.data.test.ignore.splice(t,1)}}function checkSizeCourse(){$(".courses-theme-link").each((function(){let e=$(this);e.hasClass("js-is-handbook")||e.hasClass("js-is-handbook")||($(window).width()<=991&&e.hasClass("has-tests")?(e.attr("link-back",e.attr("href")),e.attr("href","javascript:void(0)")):e.hasClass("has-tests")&&$(window).width()>=991&&(void 0!==e.attr("link-back")||"undefined"!==e.attr("link-back"))&&(e.attr("href",e.attr("link-back")),e.attr("link-back","undefined")))}))}$(window).resize(checkSizeCourse),$(document).on("click",".courses-theme-link.has-tests",(function(e){$(window).width()<=991&&(e.preventDefault(),$(this).parents(".courses-lessons-item").find(".has-tests-content").slideToggle(500))}));let wrong_result=(e,t,s)=>`<div class="row">\n                                        <div class="col-12">\n                                            <hr>\n                                            <div class="row">\n                                                <div class="col-12">\n                                                    <p class="sub-title mt-2 wrong-answer-icon"><i class="fa fa-times"></i></p>\n                                                    <p class="sub-title font-weight-bold">Вопрос №${e}</p>\n                                                </div>\n                                            </div>\n                                            <div class="row">\n                                                <div class="col-6">\n                                                    <p class="sub-title mt-2">Ваш ответ:</p>\n                                                    <hr>\n                                                    <p class="sub-title mt-2">${t}</p>\n                                                </div>\n                                                <div class="col-6">\n                                                    <p class="sub-title mt-2" id="description-result">Правильный ответ:</p>\n                                                    <hr>\n                                                    <p class="sub-title mt-2">${s}</p>\n                                                </div>\n                                            </div>\n                                            <hr>\n                                        </div>\n                                    </div>`,success_result=(e,t)=>`<div class="row">\n                                        <div class="col-12">\n                                            <hr>\n                                            <div class="row">\n                                                <div class="col-12">\n                                                    <p class="sub-title mt-2 right-answer-icon"><i class="fa fa-check"></i></p>\n                                                    <p class="sub-title font-weight-bold">Вопрос №${e}</p>\n                                                </div>\n                                            </div>\n                                            <div class="row">\n                                                <div class="col-12">\n                                                    <p class="sub-title mt-2">Вы ответили правильно:</p>\n                                                    <p class="sub-title mt-2">${t}</p>\n                                                </div>\n                                            </div>\n                                            <hr>\n                                        </div>\n                                    </div>`;function nextQuestionCourse(){let e={main:TCourseLoader.main};e.options="object"!=typeof e.main.options?JSON.parse(e.main.options):e.main.options;let t=$(".current-question-test"),s=$(".question-name-course"),o=$(".button-result-block"),n=$(".main-test-block-with-selector"),r=$(".ignored-answer");s.css("height","auto");let a=$(".right-answer-test-button"),i=$(".wrong-answer-test-button");if(parseInt(t.text())+1===e.options[0].test.length&&o.hasClass("d-none")&&o.removeClass("d-none"),t.text()===e.options[0].test.length.toString())return void showInfoToast("Внимание!",'Вы находитесь на последнем вопросе, если вы хотите завершить тест нажмите на кнопку "Результат"');let l,u=parseInt(t.text())+1;switch(t.text(u),u-=1,e.type=e.options[0].test[u].answer[0].placeholder.length?"selector":"qa",e.type){case"selector":let t=[];l=u-1;for(let s=0;s<e.options[0].test[l].answer.length;s++)-1===t.indexOf(e.options[0].test[l].answer[s].placeholder)&&(-1!==e.options[0].test[l].answer[s].placeholder.indexOf("%")?t.push(e.options[0].test[l].answer[s].placeholder.replace(new RegExp("%","gi"),"")):t.push(""+e.options[0].test[l].answer[s].placeholder));for(let e=0;e<t.length;e++){-1!==n.find(`span[data-test-selector='${t[e].replace(/\s/g,"")}']`).text().indexOf("...")&&TCourseLoader.setIgnore({type:"selector",placeholder:t[e],question:l})}let o=[];for(let t=0;t<e.options[0].test[u].answer.length;t++)-1===o.indexOf(e.options[0].test[u].answer[t].placeholder)&&(-1!==e.options[0].test[u].answer[t].placeholder.indexOf("%")?o.push(e.options[0].test[u].answer[t].placeholder.replace(new RegExp("%","gi"),"").replace(/\s/g,"")):o.push(""+e.options[0].test[u].answer[t].placeholder.replace(/\s/g,"")));for(let t=0;t<o.length;t++){let s=TCourseLoader.answer.findIndex(e=>"selector"===e.type&&e.placeholder.replace(/\s/g,"")===o[t]&&e.question===u),n="...";-1!==s&&(n=TCourseLoader.answer[s].result);let r=`<div class="d-md-none"></div>\n                                        <div class="list list-wrap-test">\n                                            <span data-test-selector="${o[t].replace(/\s/g,"")}" class="placeholder test-question"> ${n} </span>\n                                            <ul data-test-selector="${o[t].replace(/\s/g,"")}" class="list__ul test-question">`;for(let s=0;s<e.options[0].test[u].answer.length;s++){let n={pl:o[t].replace(/\s/g,""),ts:e.options[0].test[u].answer[s].placeholder.replace(/\s/g,"")};n.pl.replace(new RegExp("%","gi"),"")===n.ts.replace(new RegExp("%","gi"),"")&&(r+=`<li><a data-test-value="${e.options[0].test[u].answer[s].name}" href="javascript:void(0)">${e.options[0].test[u].answer[s].name}</a></li>`)}r+="</ul>\n                                        </div> ";let a=new RegExp(`%${o[t]}%`,"gi");e.options[0].test[u].question.name=e.options[0].test[u].question.name.replace(a,r)}s.html(e.options[0].test[u].question.name);break;case"qa":l=u-1,a.hasClass("right-answer-test-button-select")||i.hasClass("wrong-answer-test-button-select")||TCourseLoader.setIgnore({type:"qa",question:l}),a.hasClass("right-answer-test-button-select")&&a.removeClass("right-answer-test-button-select"),i.hasClass("wrong-answer-test-button-select")&&i.removeClass("wrong-answer-test-button-select");let r=TCourseLoader.answer.findIndex(e=>"qa"===e.type&&e.question===u);if(-1!==r)switch(TCourseLoader.answer[r].result){case"true":a.addClass("right-answer-test-button-select");break;case"false":i.addClass("wrong-answer-test-button-select")}s.html(e.options[0].test[u].question.name)}if(TCourseLoader.ignore.length){let e=[];for(let t=0;t<TCourseLoader.ignore.length;t++)-1===e.indexOf(parseInt(TCourseLoader.ignore[t].question)+1)&&e.push(parseInt(TCourseLoader.ignore[t].question)+1);r.text("Вы забыли ответить на вопросы: "+e)}else r.text(" ")}$(document).on("click",".back-question-course",(function(e){let t={main:TCourseLoader.main};t.options="object"!=typeof t.main.options?JSON.parse(t.main.options):t.main.options;let s=$(".current-question-test"),o=$(".question-name-course");o.css("height","auto");let n=$(".right-answer-test-button"),r=$(".wrong-answer-test-button");if("1"===s.text())return void showInfoToast("Внимание!","Вы находитесь на первом вопросе!");let a=parseInt(s.text())-1;switch(s.text(a),a-=1,t.type=t.options[0].test[a].answer[0].placeholder.length?"selector":"qa",t.type){case"selector":let e=[];for(let s=0;s<t.options[0].test[a].answer.length;s++)-1===e.indexOf(t.options[0].test[a].answer[s].placeholder)&&(-1!==t.options[0].test[a].answer[s].placeholder.indexOf("%")?e.push(t.options[0].test[a].answer[s].placeholder.replace(new RegExp("%","gi"),"").replace(/\s/g,"")):e.push(""+t.options[0].test[a].answer[s].placeholder.replace(/\s/g,"")));for(let s=0;s<e.length;s++){let o=TCourseLoader.answer.findIndex(t=>"selector"===t.type&&t.placeholder.replace(/\s/g,"")===e[s]&&t.question===a),n="...";-1!==o&&(n=TCourseLoader.answer[o].result);let r=`<div class="d-md-none"></div>\n                                        <div class="list list-wrap-test">\n                                            <span data-test-selector="${e[s].replace(/\s/g,"")}" class="placeholder test-question"> ${n} </span>\n                                            <ul data-test-selector="${e[s].replace(/\s/g,"")}" class="list__ul test-question">`;for(let o=0;o<t.options[0].test[a].answer.length;o++){let n={pl:e[s].replace(/\s/g,""),ts:t.options[0].test[a].answer[o].placeholder.replace(/\s/g,"")};n.pl.replace(new RegExp("%","gi"),"")===n.ts.replace(new RegExp("%","gi"),"")&&(r+=`<li><a data-test-value="${t.options[0].test[a].answer[o].name}" href="javascript:void(0)">${t.options[0].test[a].answer[o].name}</a></li>`)}r+="</ul>\n                                        </div> ";let i=new RegExp(`%${e[s]}%`,"gi");t.options[0].test[a].question.name=t.options[0].test[a].question.name.replace(i,r)}o.html(t.options[0].test[a].question.name);break;case"qa":n.hasClass("right-answer-test-button-select")&&n.removeClass("right-answer-test-button-select"),r.hasClass("wrong-answer-test-button-select")&&r.removeClass("wrong-answer-test-button-select");let s=TCourseLoader.answer.findIndex(e=>"qa"===e.type&&e.question===a);if(-1!==s)switch(TCourseLoader.answer[s].result){case"true":n.addClass("right-answer-test-button-select");break;case"false":r.addClass("wrong-answer-test-button-select")}o.html(t.options[0].test[a].question.name)}})),$(document).on("click",".next-question-course",nextQuestionCourse),$(document).on("click",".course-question-result",(function(e){let t=$(".main-test-block-with-selector"),s=$(".main-test-block-with-qa"),o=$(".result-course-test"),n=$(".current-question-test"),r=$(".right-answer-test-button"),a=$(".wrong-answer-test-button"),i=$(".result-end-course"),l=$(".your-result-course"),u={main:TCourseLoader.main};u.options="object"!=typeof u.main.options?JSON.parse(u.main.options):u.main.options,u.type=u.options[0].test[0].answer[0].placeholder.length?"selector":"qa";let p,c=[],d=[],h=[],g=[],w="",f=0;switch(u.type){case"selector":g=[],p=u.options[0].test.length-1;for(let e=0;e<u.options[0].test[p].answer.length;e++)-1===g.indexOf(u.options[0].test[p].answer[e].placeholder)&&(-1!==u.options[0].test[p].answer[e].placeholder.indexOf("%")?g.push(u.options[0].test[p].answer[e].placeholder.replace(new RegExp("%","gi"),"")):g.push(""+u.options[0].test[p].answer[e].placeholder));for(let e=0;e<g.length;e++)if(parseInt(n.text())===u.options[0].test.length){-1!==t.find(`span[data-test-selector='${g[e].replace(/\s/g,"")}']`).text().indexOf("...")&&TCourseLoader.setIgnore({type:"selector",placeholder:g[e].replace(/\s/g,""),question:p})}else{let t=TCourseLoader.ignore.findIndex(t=>parseInt(t.question)===p&&t.placeholder.replace(/\s/g,"")===g[e]);-1===TCourseLoader.answer.findIndex(t=>parseInt(t.question)===p&&t.placeholder.replace(/\s/g,"")===g[e])&&-1===t&&TCourseLoader.setIgnore({type:"selector",placeholder:g[e].replace(/\s/g,""),question:p})}h=[];for(let e=0;e<u.options[0].test.length;e++)for(let t=0;t<u.options[0].test[e].answer.length;t++)"1"===u.options[0].test[e].answer[t].success&&h.push({placeholder:u.options[0].test[e].answer[t].placeholder,result:u.options[0].test[e].answer[t].name,question:e});d=[];for(let e=0;e<TCourseLoader.answer.length;e++)d.push({placeholder:TCourseLoader.answer[e].placeholder,result:TCourseLoader.answer[e].result,question:TCourseLoader.answer[e].question});for(let e=0;e<TCourseLoader.ignore.length;e++)d.push({placeholder:TCourseLoader.ignore[e].placeholder,result:"...",question:TCourseLoader.ignore[e].question});for(let e=0;e<h.length;e++){if(-1===d.findIndex(t=>t.placeholder.replace(/\s/g,"")===h[e].placeholder.replace(/\s/g,"")&&t.question===h[e].question&&t.result===h[e].result)){let t=d.findIndex(t=>t.placeholder.replace(/\s/g,"")===h[e].placeholder.replace(/\s/g,"")&&t.question===h[e].question),s=c.findIndex(t=>t.question===h[e].question);-1===s?c.push({question:h[e].question,your:[d[t].result],correct:[h[e].result]}):(void 0===c[s].your&&(c[s].your=[]),c[s].your.push(d[t].result),c[s].correct.push(h[e].result))}else{let t=c.findIndex(t=>t.question===h[e].question);-1===t?c.push({question:h[e].question,correct:[h[e].result]}):c[t].correct.push(h[e].result)}}t.hide();for(let e=0;e<c.length;e++)void 0!==c[e].your?w+=wrong_result(parseInt(c[e].question)+1,c[e].your,c[e].correct):(f+=1,w+=success_result(parseInt(c[e].question)+1,c[e].correct));break;case"qa":if(p=u.options[0].test.length-1,r.hasClass("right-answer-test-button-select")||a.hasClass("wrong-answer-test-button-select")){let e=TCourseLoader.ignore.findIndex(e=>parseInt(e.question)===p);-1===TCourseLoader.answer.findIndex(e=>parseInt(e.question)===p)&&-1===e&&TCourseLoader.setIgnore({type:"qa",question:p})}else TCourseLoader.setIgnore({type:"qa",question:p});h=[];for(let e=0;e<u.options[0].test.length;e++)for(let t=0;t<u.options[0].test[e].answer.length;t++)"1"===u.options[0].test[e].answer[t].success&&h.push({result:u.options[0].test[e].answer[t].name,question:e});d=[];for(let e=0;e<TCourseLoader.answer.length;e++)d.push({result:TCourseLoader.answer[e].result,question:TCourseLoader.answer[e].question});for(let e=0;e<TCourseLoader.ignore.length;e++)d.push({result:"...",question:TCourseLoader.ignore[e].question});for(let e=0;e<h.length;e++){if(-1===d.findIndex(t=>t.question===h[e].question&&t.result===h[e].result)){let t=d.findIndex(t=>t.question===h[e].question),s=c.findIndex(t=>t.question===h[e].question);-1===s?c.push({question:h[e].question,your:[d[t].result],correct:[h[e].result]}):(c[s].your.push(d[t].result),c[s].correct.push(h[e].result))}else{let t=c.findIndex(t=>t.question===h[e].question);-1===t?c.push({question:h[e].question,correct:[h[e].result]}):c[t].correct.push(h[e].result)}}s.hide();for(let e=0;e<c.length;e++){let t=new RegExp("true","gi"),s=new RegExp("false","gi");c[e].correct=c[e].correct[0].replace(t,"Верно").replace(s,"Не верно"),void 0!==c[e].your?(c[e].your=c[e].your[0].replace(t,"Верно").replace(s,"Не верно"),w+=wrong_result(parseInt(c[e].question)+1,c[e].your,c[e].correct)):(f+=1,w+=success_result(parseInt(c[e].question)+1,c[e].correct))}}o.hasClass("d-none")&&o.removeClass("d-none"),l.text("Ваш результат: "+f+" из "+u.options[0].test.length),i.empty().append(w);let q={username:username,course:u.main.id,category:"test",result:[{correct:f,question:u.options[0].test.length,user:c}]},C=new XMLHttpRequest;C.open("POST","/client/create?table=course_users&type=7"),C.setRequestHeader("Content-Type","application/json"),C.send(JSON.stringify(q)),C.onload=function(){let e="object"==typeof this.responseText?this.responseText:JSON.parse(this.responseText);void 0===e.error?showInfoToast("Успешно!",e.message):showInfoToast("Ошибка!",e.error)},C.onerror=function(){showInfoToast("Ошибка!","Сообщите администратору!")}})),$(document).on("click",".placeholder.test-question",(function(e){let t=$(this).data("test-selector"),s=$(this).parent().find(`ul[data-test-selector='${t.replace(/\s/g,"")}']`);$(this).parent().parent().parent().find("ul").hide(),$(this).css("opacity","1"),s.toggle(),s.css("opacity",".9"),s.addClass("pt-5"),s.addClass("z-index-100");$(".question-name-course").height(),s.height()})),$(document).on("click",".list__ul.test-question a",(function(e){e.preventDefault();let t=$(this).parent().index(),s=$(this).parent().parent().data("test-selector"),o=$(this).parent().parent().parent().find(`span[data-test-selector='${s.replace(/\s/g,"")}']`),n=$(this).parent().parent().parent().find(`ul[data-test-selector='${s.replace(/\s/g,"")}']`),r=$(".current-question-test"),a=$(".ignored-answer"),i={main:TCourseLoader.main};i.options="object"!=typeof i.main.options?JSON.parse(i.main.options):i.main.options;let l=parseInt(r.text())-1,u=TCourseLoader.answer.findIndex(e=>"selector"===e.type&&e.placeholder.replace(/\s/g,"")===s&&e.question===l),p=TCourseLoader.ignore.findIndex(e=>"selector"===e.type&&e.placeholder.replace(/\s/g,"")===s&&e.question===l);if(-1===u?TCourseLoader.setAnswer({type:"selector",placeholder:s,question:l,result:$(this).text()}):TCourseLoader.setAnswer({type:"selector",placeholder:s,question:l,result:$(this).text()},u),-1!==p&&TCourseLoader.setIgnore({type:"selector",placeholder:s,question:l,result:$(this).text()},p),TCourseLoader.ignore.length){let e=[];for(let t=0;t<TCourseLoader.ignore.length;t++)-1===e.indexOf(parseInt(TCourseLoader.ignore[t].question)+1)&&e.push(parseInt(TCourseLoader.ignore[t].question)+1);a.text("Вы забыли ответить на вопросы: "+e)}else a.text(" ");o.text($(this).text()).css("opacity","1"),n.find("li").eq(t).prependTo(n),n.toggle(),n.removeClass("z-index-100");$(o).parent().parent().height();$(o).parent().parent().css("height","auto");$(o).parent().parent().height()})),$(document).on("click",".right-answer-test-button",e=>{let t=$(".right-answer-test-button"),s=$(".wrong-answer-test-button"),o=$(".current-question-test"),n=$(".ignored-answer"),r={main:TCourseLoader.main};r.options="object"!=typeof r.main.options?JSON.parse(r.main.options):r.main.options;let a=parseInt(o.text())-1,i=TCourseLoader.answer.findIndex(e=>"qa"===e.type&&e.question===a),l=TCourseLoader.ignore.findIndex(e=>"qa"===e.type&&e.question===a);if(-1===i?TCourseLoader.setAnswer({type:"qa",question:a,result:"true"}):TCourseLoader.setAnswer({type:"qa",question:a,result:"true"},i),-1!==l&&TCourseLoader.setIgnore({type:"qa",question:a,result:"true"},l),TCourseLoader.ignore.length){let e=[];for(let t=0;t<TCourseLoader.ignore.length;t++)-1===e.indexOf(parseInt(TCourseLoader.ignore[t].question)+1)&&e.push(parseInt(TCourseLoader.ignore[t].question)+1);n.text("Вы забыли ответить на вопросы: "+e)}else n.text(" ");t.hasClass("right-answer-test-button-select")||(s.hasClass("wrong-answer-test-button-select")?(s.removeClass("wrong-answer-test-button-select"),t.addClass("right-answer-test-button-select")):t.addClass("right-answer-test-button-select"))}),$(document).on("click",".wrong-answer-test-button",e=>{let t=$(".right-answer-test-button"),s=$(".wrong-answer-test-button"),o=$(".current-question-test"),n=$(".ignored-answer"),r={main:TCourseLoader.main};r.options="object"!=typeof r.main.options?JSON.parse(r.main.options):r.main.options;let a=parseInt(o.text())-1,i=TCourseLoader.answer.findIndex(e=>"qa"===e.type&&e.question===a),l=TCourseLoader.ignore.findIndex(e=>"qa"===e.type&&e.question===a);if(-1===i?TCourseLoader.setAnswer({type:"qa",question:a,result:"false"}):TCourseLoader.setAnswer({type:"qa",question:a,result:"false"},i),-1!==l&&TCourseLoader.setIgnore({type:"qa",question:a,result:"false"},l),TCourseLoader.ignore.length){let e=[];for(let t=0;t<TCourseLoader.ignore.length;t++)-1===e.indexOf(parseInt(TCourseLoader.ignore[t].question)+1)&&e.push(parseInt(TCourseLoader.ignore[t].question)+1);n.text("Вы забыли ответить на вопросы: "+e)}else n.text(" ");s.hasClass("wrong-answer-test-button-select")||(t.hasClass("right-answer-test-button-select")?(t.removeClass("right-answer-test-button-select"),s.addClass("wrong-answer-test-button-select")):s.addClass("wrong-answer-test-button-select"))});
function comment_form(t){return t.preventDefault(),$.ajax({url:"/comment/create",type:"POST",data:$(this).serialize(),success:function(t){t.ok?showInfoToast("Ваша заявка успешно отправлена",t.message):showInfoToast("Ошибка!",t.message)},error:function(){showInfoToast("Ошибка!","Не обработанная ошибка")}}),$(this).find("textarea[name=content]").val(""),$(this).find("input[name=comment_id]").length>0&&$(this).hide(),!1}$(document).on("submit.comment-request",".comment-request",comment_form),$(".comment-request").on("submit",comment_form),$(".comments-link").on("click",(function(t){t.preventDefault(),$(this).closest(".comments-item").find(".comments-form:first").show()}));
let userRating=0;async function saveVoted(a,t){ratingInformation.IsVoted=a,userRating=t}function saveRatingRequest(){$.ajax({url:"/rating/create",type:"POST",data:`rating=${userRating}&type=${ratingInformation.typeOfWhatEvaluete}&id=${ratingInformation.idEvaluationMaterial}`,success:function(a){a.ok?(showInfoToast("Вы успешно проголосавли за контент!",a.message),ratingInformation.votedValueRating=userRating):(showInfoToast("Ошибка!",a.message),"Вы уже голосовали за данный контент!"!==a.message&&saveVoted(!0,ratingInformation.votedValueRating)),$("#rating-js").barrating("set",ratingInformation.votedValueRating),$("#rating2-js").barrating("set",ratingInformation.votedValueRating)},error:function(){showInfoToast("Ошибка!","Не обработанная ошибка")}})}
$(".top-banner").find(".top-banner-button").on("click",(function(){$(".top-banner").slideUp(),$(".header").removeClass("has-banner")}));